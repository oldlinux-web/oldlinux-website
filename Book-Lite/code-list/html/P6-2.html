<html>

<head>
<meta http-equiv="Content-Type" content="text/html; charset=gb2312">
<meta name=Generator content="Microsoft Word 14 (filtered)">

<style>
<!--
 /* Font Definitions */
 @font-face
	{font-family:Helvetica;
	panose-1:2 11 6 4 2 2 2 2 2 4;}
@font-face
	{font-family:Courier;
	panose-1:2 7 4 9 2 2 5 2 4 4;}
@font-face
	{font-family:"Tms Rmn";
	panose-1:2 2 6 3 4 5 5 2 3 4;}
@font-face
	{font-family:Helv;
	panose-1:2 11 6 4 2 2 2 3 2 4;}
@font-face
	{font-family:"New York";
	panose-1:2 4 5 3 6 5 6 2 3 4;}
@font-face
	{font-family:System;
	panose-1:0 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:Wingdings;
	panose-1:5 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:"MS Mincho";
	panose-1:2 2 6 9 4 2 5 8 3 4;}
@font-face
	{font-family:Batang;
	panose-1:2 3 6 0 0 1 1 1 1 1;}
@font-face
	{font-family:����;
	panose-1:2 1 6 0 3 1 1 1 1 1;}
@font-face
	{font-family:PMingLiU;
	panose-1:2 2 5 0 0 0 0 0 0 0;}
@font-face
	{font-family:"MS Gothic";
	panose-1:2 11 6 9 7 2 5 8 2 4;}
@font-face
	{font-family:Dotum;
	panose-1:2 11 6 0 0 1 1 1 1 1;}
@font-face
	{font-family:����;
	panose-1:2 1 6 9 6 1 1 1 1 1;}
@font-face
	{font-family:MingLiU;
	panose-1:2 2 5 9 0 0 0 0 0 0;}
@font-face
	{font-family:Mincho;
	panose-1:2 2 6 9 4 3 5 8 3 5;}
@font-face
	{font-family:Gulim;
	panose-1:2 11 6 0 0 1 1 1 1 1;}
@font-face
	{font-family:Century;
	panose-1:2 4 6 4 5 5 5 2 3 4;}
@font-face
	{font-family:"Angsana New";
	panose-1:2 2 6 3 5 4 5 2 3 4;}
@font-face
	{font-family:"Cordia New";
	panose-1:2 11 3 4 2 2 2 2 2 4;}
@font-face
	{font-family:Mangal;
	panose-1:2 4 5 3 5 2 3 3 2 2;}
@font-face
	{font-family:Latha;
	panose-1:2 11 6 4 2 2 2 2 2 4;}
@font-face
	{font-family:Sylfaen;
	panose-1:1 10 5 2 5 3 6 3 3 3;}
@font-face
	{font-family:Vrinda;
	panose-1:2 11 5 2 4 2 4 2 2 3;}
@font-face
	{font-family:Raavi;
	panose-1:2 11 5 2 4 2 4 2 2 3;}
@font-face
	{font-family:Shruti;
	panose-1:2 11 5 2 4 2 4 2 2 3;}
@font-face
	{font-family:Sendnya;
	panose-1:0 0 4 0 0 0 0 0 0 0;}
@font-face
	{font-family:Gautami;
	panose-1:2 11 5 2 4 2 4 2 2 3;}
@font-face
	{font-family:Tunga;
	panose-1:2 11 5 2 4 2 4 2 2 3;}
@font-face
	{font-family:"Estrangelo Edessa";
	panose-1:3 8 6 0 0 0 0 0 0 0;}
@font-face
	{font-family:"Cambria Math";
	panose-1:2 4 5 3 5 4 6 3 2 4;}
@font-face
	{font-family:"Arial Unicode MS";
	panose-1:2 11 6 4 2 2 2 2 2 4;}
@font-face
	{font-family:Cambria;
	panose-1:2 4 5 3 5 4 6 3 2 4;}
@font-face
	{font-family:Calibri;
	panose-1:2 15 5 2 2 2 4 3 2 4;}
@font-face
	{font-family:����С���μ���;}
@font-face
	{font-family:"\@����";
	panose-1:2 1 6 9 6 1 1 1 1 1;}
@font-face
	{font-family:"\@����";
	panose-1:2 1 6 0 3 1 1 1 1 1;}
@font-face
	{font-family:"\@����С���μ���";}
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{margin:0cm;
	margin-bottom:.0001pt;
	text-align:justify;
	text-justify:inter-ideograph;
	font-size:10.5pt;
	font-family:����;}
h1
	{mso-style-link:"���� 1 Char";
	margin-top:17.0pt;
	margin-right:0cm;
	margin-bottom:16.5pt;
	margin-left:7.2pt;
	text-align:center;
	text-indent:-7.2pt;
	page-break-after:avoid;
	font-size:22.0pt;
	font-family:����;
	font-weight:bold;}
h2
	{mso-style-link:"���� 2 Char";
	margin-top:13.0pt;
	margin-right:0cm;
	margin-bottom:13.0pt;
	margin-left:0cm;
	text-align:justify;
	text-justify:inter-ideograph;
	text-indent:0cm;
	page-break-after:avoid;
	font-size:16.0pt;
	font-family:"Arial","sans-serif";
	font-weight:bold;}
h3
	{mso-style-link:"���� 3 Char";
	margin:0cm;
	margin-bottom:.0001pt;
	text-align:justify;
	text-justify:inter-ideograph;
	text-indent:0cm;
	page-break-after:avoid;
	font-size:14.0pt;
	font-family:"Arial","sans-serif";
	font-weight:bold;}
h4
	{mso-style-link:"���� 4 Char";
	margin-top:0cm;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:28.8pt;
	margin-bottom:.0001pt;
	text-align:justify;
	text-justify:inter-ideograph;
	text-indent:-28.8pt;
	page-break-after:avoid;
	font-size:12.0pt;
	font-family:"Arial","sans-serif";
	font-weight:bold;}
h5
	{mso-style-link:"���� 5 Char";
	margin-top:14.0pt;
	margin-right:0cm;
	margin-bottom:14.5pt;
	margin-left:36.0pt;
	text-align:justify;
	text-justify:inter-ideograph;
	text-indent:-36.0pt;
	line-height:156%;
	page-break-after:avoid;
	font-size:14.0pt;
	font-family:����;
	font-weight:bold;}
h6
	{mso-style-link:"���� 6 Char";
	margin-top:12.0pt;
	margin-right:0cm;
	margin-bottom:3.2pt;
	margin-left:43.2pt;
	text-align:justify;
	text-justify:inter-ideograph;
	text-indent:-43.2pt;
	line-height:133%;
	page-break-after:avoid;
	font-size:12.0pt;
	font-family:"Arial","sans-serif";
	font-weight:bold;}
p.MsoHeading7, li.MsoHeading7, div.MsoHeading7
	{mso-style-link:"���� 7 Char";
	margin-top:12.0pt;
	margin-right:0cm;
	margin-bottom:3.2pt;
	margin-left:50.4pt;
	text-align:justify;
	text-justify:inter-ideograph;
	text-indent:-50.4pt;
	line-height:133%;
	page-break-after:avoid;
	font-size:12.0pt;
	font-family:����;
	font-weight:bold;}
p.MsoHeading8, li.MsoHeading8, div.MsoHeading8
	{mso-style-link:"���� 8 Char";
	margin-top:12.0pt;
	margin-right:0cm;
	margin-bottom:3.2pt;
	margin-left:57.6pt;
	text-align:justify;
	text-justify:inter-ideograph;
	text-indent:-72.0pt;
	line-height:133%;
	page-break-after:avoid;
	font-size:12.0pt;
	font-family:"Arial","sans-serif";}
p.MsoHeading9, li.MsoHeading9, div.MsoHeading9
	{mso-style-link:"���� 9 Char";
	margin-top:12.0pt;
	margin-right:0cm;
	margin-bottom:3.2pt;
	margin-left:64.8pt;
	text-align:justify;
	text-justify:inter-ideograph;
	text-indent:-79.2pt;
	line-height:133%;
	page-break-after:avoid;
	font-size:10.5pt;
	font-family:"Arial","sans-serif";}
p.MsoIndex1, li.MsoIndex1, div.MsoIndex1
	{margin-top:0cm;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:10.5pt;
	margin-bottom:.0001pt;
	text-align:justify;
	text-justify:inter-ideograph;
	text-indent:-10.5pt;
	font-size:10.5pt;
	font-family:����;}
p.MsoIndex2, li.MsoIndex2, div.MsoIndex2
	{margin-top:0cm;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:21.0pt;
	margin-bottom:.0001pt;
	text-align:justify;
	text-justify:inter-ideograph;
	text-indent:-10.5pt;
	font-size:10.5pt;
	font-family:����;}
p.MsoIndex3, li.MsoIndex3, div.MsoIndex3
	{margin-top:0cm;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:31.5pt;
	margin-bottom:.0001pt;
	text-align:justify;
	text-justify:inter-ideograph;
	text-indent:-10.5pt;
	font-size:10.5pt;
	font-family:����;}
p.MsoIndex4, li.MsoIndex4, div.MsoIndex4
	{margin-top:0cm;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:42.0pt;
	margin-bottom:.0001pt;
	text-align:justify;
	text-justify:inter-ideograph;
	text-indent:-10.5pt;
	font-size:10.5pt;
	font-family:����;}
p.MsoIndex5, li.MsoIndex5, div.MsoIndex5
	{margin-top:0cm;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:52.5pt;
	margin-bottom:.0001pt;
	text-align:justify;
	text-justify:inter-ideograph;
	text-indent:-10.5pt;
	font-size:10.5pt;
	font-family:����;}
p.MsoIndex6, li.MsoIndex6, div.MsoIndex6
	{margin-top:0cm;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:63.0pt;
	margin-bottom:.0001pt;
	text-align:justify;
	text-justify:inter-ideograph;
	text-indent:-10.5pt;
	font-size:10.5pt;
	font-family:����;}
p.MsoIndex7, li.MsoIndex7, div.MsoIndex7
	{margin-top:0cm;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:73.5pt;
	margin-bottom:.0001pt;
	text-align:justify;
	text-justify:inter-ideograph;
	text-indent:-10.5pt;
	font-size:10.5pt;
	font-family:����;}
p.MsoIndex8, li.MsoIndex8, div.MsoIndex8
	{margin-top:0cm;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:84.0pt;
	margin-bottom:.0001pt;
	text-align:justify;
	text-justify:inter-ideograph;
	text-indent:-10.5pt;
	font-size:10.5pt;
	font-family:����;}
p.MsoIndex9, li.MsoIndex9, div.MsoIndex9
	{margin-top:0cm;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:94.5pt;
	margin-bottom:.0001pt;
	text-align:justify;
	text-justify:inter-ideograph;
	text-indent:-10.5pt;
	font-size:10.5pt;
	font-family:����;}
p.MsoToc1, li.MsoToc1, div.MsoToc1
	{margin:0cm;
	margin-bottom:.0001pt;
	text-align:justify;
	text-justify:inter-ideograph;
	font-size:10.5pt;
	font-family:����;
	font-weight:bold;}
p.MsoToc2, li.MsoToc2, div.MsoToc2
	{margin-top:0cm;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:21.0pt;
	margin-bottom:.0001pt;
	text-align:justify;
	text-justify:inter-ideograph;
	font-size:10.5pt;
	font-family:����;}
p.MsoToc3, li.MsoToc3, div.MsoToc3
	{margin-top:0cm;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:42.0pt;
	margin-bottom:.0001pt;
	text-align:justify;
	text-justify:inter-ideograph;
	font-size:10.5pt;
	font-family:����;}
p.MsoToc4, li.MsoToc4, div.MsoToc4
	{margin-top:0cm;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:31.5pt;
	margin-bottom:.0001pt;
	font-size:9.0pt;
	font-family:����;}
p.MsoToc5, li.MsoToc5, div.MsoToc5
	{margin-top:0cm;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:42.0pt;
	margin-bottom:.0001pt;
	font-size:9.0pt;
	font-family:����;}
p.MsoToc6, li.MsoToc6, div.MsoToc6
	{margin-top:0cm;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:52.5pt;
	margin-bottom:.0001pt;
	font-size:9.0pt;
	font-family:����;}
p.MsoToc7, li.MsoToc7, div.MsoToc7
	{margin-top:0cm;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:63.0pt;
	margin-bottom:.0001pt;
	font-size:9.0pt;
	font-family:����;}
p.MsoToc8, li.MsoToc8, div.MsoToc8
	{margin-top:0cm;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:73.5pt;
	margin-bottom:.0001pt;
	font-size:9.0pt;
	font-family:����;}
p.MsoToc9, li.MsoToc9, div.MsoToc9
	{margin-top:0cm;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:84.0pt;
	margin-bottom:.0001pt;
	font-size:9.0pt;
	font-family:����;}
p.MsoFootnoteText, li.MsoFootnoteText, div.MsoFootnoteText
	{mso-style-link:"��ע�ı� Char";
	margin:0cm;
	margin-bottom:.0001pt;
	layout-grid-mode:char;
	font-size:9.0pt;
	font-family:����;}
p.MsoCommentText, li.MsoCommentText, div.MsoCommentText
	{mso-style-link:"��ע���� Char";
	margin:0cm;
	margin-bottom:.0001pt;
	font-size:10.5pt;
	font-family:����;}
p.MsoHeader, li.MsoHeader, div.MsoHeader
	{mso-style-link:"ҳü Char";
	margin:0cm;
	margin-bottom:.0001pt;
	text-align:center;
	layout-grid-mode:char;
	border:none;
	padding:0cm;
	font-size:9.0pt;
	font-family:����;}
p.MsoFooter, li.MsoFooter, div.MsoFooter
	{mso-style-link:"ҳ�� Char";
	margin:0cm;
	margin-bottom:.0001pt;
	layout-grid-mode:char;
	font-size:9.0pt;
	font-family:����;}
p.MsoIndexHeading, li.MsoIndexHeading, div.MsoIndexHeading
	{mso-style-name:"��������\,������Ŀ\,������Ŀ1\,������Ŀ2";
	margin:0cm;
	margin-bottom:.0001pt;
	text-align:justify;
	text-justify:inter-ideograph;
	font-size:10.5pt;
	font-family:����;}
p.MsoCaption, li.MsoCaption, div.MsoCaption
	{margin:0cm;
	margin-bottom:.0001pt;
	text-align:justify;
	text-justify:inter-ideograph;
	font-size:10.5pt;
	font-family:"Arial","sans-serif";}
p.MsoTof, li.MsoTof, div.MsoTof
	{margin-top:0cm;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:42.0pt;
	margin-bottom:.0001pt;
	text-align:justify;
	text-justify:inter-ideograph;
	text-indent:-21.0pt;
	font-size:10.5pt;
	font-family:����;}
span.MsoFootnoteReference
	{vertical-align:super;}
p.MsoList, li.MsoList, div.MsoList
	{margin-top:0cm;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:21.0pt;
	margin-bottom:.0001pt;
	text-align:center;
	text-indent:-21.0pt;
	font-size:10.5pt;
	font-family:����;}
p.MsoList2, li.MsoList2, div.MsoList2
	{margin:0cm;
	margin-bottom:.0001pt;
	text-align:justify;
	text-justify:inter-ideograph;
	font-size:10.5pt;
	font-family:����;}
p.MsoList4, li.MsoList4, div.MsoList4
	{margin:0cm;
	margin-bottom:.0001pt;
	text-align:center;
	font-size:10.5pt;
	font-family:����;}
p.MsoDate, li.MsoDate, div.MsoDate
	{mso-style-link:"���� Char";
	margin-top:0cm;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:5.0pt;
	margin-bottom:.0001pt;
	text-align:justify;
	text-justify:inter-ideograph;
	font-size:10.5pt;
	font-family:����;}
a:link, span.MsoHyperlink
	{mso-style-name:"������\,��������";
	color:blue;
	text-decoration:underline;}
a:visited, span.MsoHyperlinkFollowed
	{color:purple;
	text-decoration:underline;}
p
	{mso-style-name:"��ͨ\(��վ\)\,��ͨ \(Web\)\,��ͨ \(Web\)1\,��ͨ \(Web\)2\,��ͨ \(Web\)3";
	margin-right:0cm;
	margin-left:0cm;
	font-size:12.0pt;
	font-family:����;}
pre
	{mso-style-name:"HTML Ԥ���ʽ\,HTML Ԥ�ȸ�ʽ��\,HTML Ԥ�ȸ�ʽ��1\,HTML Ԥ�ȸ�ʽ��2\,HTML Ԥ�ȸ�ʽ��3";
	mso-style-link:"HTML Ԥ���ʽ Char\,HTML Ԥ�ȸ�ʽ�� Char\,HTML Ԥ�ȸ�ʽ��1 Char\,HTML Ԥ�ȸ�ʽ��2 Char\,HTML Ԥ�ȸ�ʽ��3 Char";
	margin:0cm;
	margin-bottom:.0001pt;
	font-size:12.0pt;
	font-family:����;}
tt
	{font-family:����;}
p.MsoCommentSubject, li.MsoCommentSubject, div.MsoCommentSubject
	{mso-style-link:"��ע���� Char";
	margin:0cm;
	margin-bottom:.0001pt;
	font-size:10.5pt;
	font-family:����;
	font-weight:bold;}
p.MsoAcetate, li.MsoAcetate, div.MsoAcetate
	{mso-style-link:"��ע���ı� Char";
	margin:0cm;
	margin-bottom:.0001pt;
	text-align:justify;
	text-justify:inter-ideograph;
	font-size:9.0pt;
	font-family:����;}
p.1, li.1, div.1
	{mso-style-name:��ʽ1;
	margin-top:0cm;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:21.0pt;
	margin-bottom:.0001pt;
	text-align:center;
	text-indent:-21.0pt;
	font-size:10.5pt;
	font-family:����;}
p.a, li.a, div.a
	{mso-style-name:�������;
	mso-style-link:"������� Char";
	margin:0cm;
	margin-bottom:.0001pt;
	font-size:10.0pt;
	font-family:����;}
span.Char
	{mso-style-name:"������� Char";
	mso-style-link:�������;
	font-family:����;}
p.a0, li.a0, div.a0
	{mso-style-name:ͼ˵��;
	mso-style-link:"ͼ˵�� Char";
	margin:0cm;
	margin-bottom:.0001pt;
	text-align:center;
	font-size:10.5pt;
	font-family:����;}
span.Char0
	{mso-style-name:"ͼ˵�� Char";
	mso-style-link:ͼ˵��;
	font-family:����;}
p.0, li.0, div.0
	{mso-style-name:����0;
	margin:0cm;
	margin-bottom:.0001pt;
	text-align:center;
	font-size:36.0pt;
	font-family:����;
	font-weight:bold;}
p.10, li.10, div.10
	{mso-style-name:����1;
	margin:0cm;
	margin-bottom:.0001pt;
	text-align:center;
	font-size:18.0pt;
	font-family:����;
	font-weight:bold;}
p.11, li.11, div.11
	{mso-style-name:�Ǳ���1;
	margin-top:7.8pt;
	margin-right:0cm;
	margin-bottom:7.8pt;
	margin-left:0cm;
	text-align:center;
	font-size:22.0pt;
	font-family:����;
	font-weight:bold;}
p.a1, li.a1, div.a1
	{mso-style-name:�ı�����;
	margin:0cm;
	margin-bottom:.0001pt;
	text-align:center;
	font-size:10.5pt;
	font-family:����;}
p.3CharChar, li.3CharChar, div.3CharChar
	{mso-style-name:"ͼ������3 Char Char";
	mso-style-link:"ͼ������3 Char Char Char";
	margin:0cm;
	margin-bottom:.0001pt;
	text-align:center;
	line-height:9.0pt;
	font-size:8.0pt;
	font-family:����;}
span.3CharCharChar
	{mso-style-name:"ͼ������3 Char Char Char";
	mso-style-link:"ͼ������3 Char Char";
	font-family:����;}
p.post, li.post, div.post
	{mso-style-name:�ʼ�post;
	margin:0cm;
	margin-bottom:.0001pt;
	text-align:right;
	line-height:11.0pt;
	font-size:10.5pt;
	font-family:����;}
p.3, li.3, div.3
	{mso-style-name:ͼ������3;
	margin:0cm;
	margin-bottom:.0001pt;
	text-align:justify;
	text-justify:inter-ideograph;
	font-size:10.5pt;
	font-family:����;}
span.3CharChar1CharCharChar
	{mso-style-name:"ͼ������3 Char Char1 Char Char Char";
	font-family:����;}
span.3CharChar1CharChar
	{mso-style-name:"ͼ������3 Char Char1 Char Char";
	font-family:����;}
p.5Char, li.5Char, div.5Char
	{mso-style-name:"ͼ������5�� Char";
	mso-style-link:"ͼ������5�� Char Char";
	margin:0cm;
	margin-bottom:.0001pt;
	text-align:center;
	font-size:10.5pt;
	font-family:����;}
span.5CharChar
	{mso-style-name:"ͼ������5�� Char Char";
	mso-style-link:"ͼ������5�� Char";
	font-family:����;}
p.5CharChar0, li.5CharChar0, div.5CharChar0
	{mso-style-name:"ͼ������С5�� Char Char";
	mso-style-link:"ͼ������С5�� Char Char Char";
	margin:0cm;
	margin-bottom:.0001pt;
	text-align:center;
	font-size:9.0pt;
	font-family:����;}
span.5CharCharChar
	{mso-style-name:"ͼ������С5�� Char Char Char";
	mso-style-link:"ͼ������С5�� Char Char";
	font-family:����;}
p.5Char0, li.5Char0, div.5Char0
	{mso-style-name:"ͼ������С5�� Char";
	margin:0cm;
	margin-bottom:.0001pt;
	text-align:center;
	font-size:9.0pt;
	font-family:����;}
p.5, li.5, div.5
	{mso-style-name:ͼ������С5��;
	margin:0cm;
	margin-bottom:.0001pt;
	text-align:center;
	layout-grid-mode:char;
	font-size:9.0pt;
	font-family:����;}
p.2, li.2, div.2
	{mso-style-name:�������2;
	margin:0cm;
	margin-bottom:.0001pt;
	font-size:10.0pt;
	font-family:����;}
p.20, li.20, div.20
	{mso-style-name:ͼ˵��2;
	margin:0cm;
	margin-bottom:.0001pt;
	text-align:center;
	font-size:10.5pt;
	font-family:����;}
p.21, li.21, div.21
	{mso-style-name:�ı�����2;
	margin:0cm;
	margin-bottom:.0001pt;
	text-align:center;
	font-size:10.5pt;
	font-family:����;}
p.3CharCharCharCharChar, li.3CharCharCharCharChar, div.3CharCharCharCharChar
	{mso-style-name:"ͼ������3 Char Char Char Char Char";
	mso-style-link:"ͼ������3 Char Char Char Char Char Char";
	margin:0cm;
	margin-bottom:.0001pt;
	text-align:center;
	line-height:9.0pt;
	font-size:8.0pt;
	font-family:����;}
span.3CharCharCharCharCharChar
	{mso-style-name:"ͼ������3 Char Char Char Char Char Char";
	mso-style-link:"ͼ������3 Char Char Char Char Char";
	font-family:����;}
p.a2, li.a2, div.a2
	{mso-style-name:ͼ����;
	margin:0cm;
	margin-bottom:.0001pt;
	text-align:center;
	font-size:10.5pt;
	font-family:����;}
p.110, li.110, div.110
	{mso-style-name:"��ʽ ���� 1 + ����1";
	margin-right:0cm;
	margin-left:0cm;
	text-align:center;
	page-break-after:avoid;
	font-size:22.0pt;
	font-family:����;
	font-weight:bold;}
span.1Char
	{mso-style-name:"���� 1 Char";
	mso-style-link:"���� 1";
	font-weight:bold;}
p.22, li.22, div.22
	{mso-style-name:"��ʽ �б� 2 + ����";
	margin:0cm;
	margin-bottom:.0001pt;
	text-align:center;
	font-size:10.5pt;
	font-family:����;}
p.23, li.23, div.23
	{mso-style-name:�б�2;
	margin:0cm;
	margin-bottom:.0001pt;
	text-align:center;
	font-size:10.5pt;
	font-family:����;}
p.50, li.50, div.50
	{mso-style-name:ͼ������5��;
	margin:0cm;
	margin-bottom:.0001pt;
	text-align:center;
	font-size:10.5pt;
	font-family:����;}
p.111, li.111, div.111
	{mso-style-name:��ʽ11;
	margin-top:0cm;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:21.0pt;
	margin-bottom:.0001pt;
	text-align:center;
	text-indent:-21.0pt;
	font-size:10.5pt;
	font-family:����;}
p.12, li.12, div.12
	{mso-style-name:�������1;
	margin:0cm;
	margin-bottom:.0001pt;
	font-size:10.0pt;
	font-family:����;}
p.13, li.13, div.13
	{mso-style-name:ͼ˵��1;
	margin:0cm;
	margin-bottom:.0001pt;
	text-align:center;
	font-size:10.5pt;
	font-family:����;}
p.01, li.01, div.01
	{mso-style-name:����01;
	margin:0cm;
	margin-bottom:.0001pt;
	text-align:center;
	font-size:36.0pt;
	font-family:����;
	font-weight:bold;}
p.112, li.112, div.112
	{mso-style-name:����11;
	margin:0cm;
	margin-bottom:.0001pt;
	text-align:center;
	font-size:18.0pt;
	font-family:����;
	font-weight:bold;}
p.113, li.113, div.113
	{mso-style-name:�Ǳ���11;
	margin-top:7.8pt;
	margin-right:0cm;
	margin-bottom:7.8pt;
	margin-left:0cm;
	text-align:center;
	font-size:22.0pt;
	font-family:����;
	font-weight:bold;}
p.14, li.14, div.14
	{mso-style-name:�ı�����1;
	margin:0cm;
	margin-bottom:.0001pt;
	text-align:center;
	font-size:10.5pt;
	font-family:����;}
p.3Char1, li.3Char1, div.3Char1
	{mso-style-name:"ͼ������3 Char1";
	margin:0cm;
	margin-bottom:.0001pt;
	text-align:center;
	line-height:9.0pt;
	font-size:8.0pt;
	font-family:����;}
p.post1, li.post1, div.post1
	{mso-style-name:�ʼ�post1;
	margin:0cm;
	margin-bottom:.0001pt;
	text-align:right;
	line-height:11.0pt;
	font-size:10.5pt;
	font-family:����;}
p.31, li.31, div.31
	{mso-style-name:ͼ������31;
	margin:0cm;
	margin-bottom:.0001pt;
	text-align:justify;
	text-justify:inter-ideograph;
	font-size:10.5pt;
	font-family:����;}
p.5Char1, li.5Char1, div.5Char1
	{mso-style-name:"ͼ������5�� Char1";
	margin:0cm;
	margin-bottom:.0001pt;
	text-align:center;
	font-size:10.5pt;
	font-family:����;}
p.5CharChar1, li.5CharChar1, div.5CharChar1
	{mso-style-name:"ͼ������С5�� Char Char1";
	margin:0cm;
	margin-bottom:.0001pt;
	text-align:center;
	font-size:9.0pt;
	font-family:����;}
p.5Char10, li.5Char10, div.5Char10
	{mso-style-name:"ͼ������С5�� Char1";
	margin:0cm;
	margin-bottom:.0001pt;
	text-align:center;
	font-size:9.0pt;
	font-family:����;}
p.51, li.51, div.51
	{mso-style-name:ͼ������С5��1;
	margin:0cm;
	margin-bottom:.0001pt;
	text-align:center;
	font-size:9.0pt;
	font-family:����;}
p.120, li.120, div.120
	{mso-style-name:��ʽ12;
	margin-top:0cm;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:21.0pt;
	margin-bottom:.0001pt;
	text-align:center;
	text-indent:-21.0pt;
	font-size:10.5pt;
	font-family:����;}
p.02, li.02, div.02
	{mso-style-name:����02;
	margin:0cm;
	margin-bottom:.0001pt;
	text-align:center;
	font-size:36.0pt;
	font-family:����;
	font-weight:bold;}
p.121, li.121, div.121
	{mso-style-name:����12;
	margin:0cm;
	margin-bottom:.0001pt;
	text-align:center;
	font-size:18.0pt;
	font-family:����;
	font-weight:bold;}
p.122, li.122, div.122
	{mso-style-name:�Ǳ���12;
	margin-top:7.8pt;
	margin-right:0cm;
	margin-bottom:7.8pt;
	margin-left:0cm;
	text-align:center;
	font-size:22.0pt;
	font-family:����;
	font-weight:bold;}
p.3Char2, li.3Char2, div.3Char2
	{mso-style-name:"ͼ������3 Char2";
	margin:0cm;
	margin-bottom:.0001pt;
	text-align:center;
	line-height:9.0pt;
	font-size:8.0pt;
	font-family:����;}
p.post2, li.post2, div.post2
	{mso-style-name:�ʼ�post2;
	margin:0cm;
	margin-bottom:.0001pt;
	text-align:right;
	line-height:11.0pt;
	font-size:10.5pt;
	font-family:����;}
p.32, li.32, div.32
	{mso-style-name:ͼ������32;
	margin:0cm;
	margin-bottom:.0001pt;
	text-align:justify;
	text-justify:inter-ideograph;
	font-size:10.5pt;
	font-family:����;}
p.5Char2, li.5Char2, div.5Char2
	{mso-style-name:"ͼ������С5�� Char2";
	margin:0cm;
	margin-bottom:.0001pt;
	text-align:center;
	font-size:9.0pt;
	font-family:����;}
p.52, li.52, div.52
	{mso-style-name:ͼ������С5��2;
	margin:0cm;
	margin-bottom:.0001pt;
	text-align:center;
	font-size:9.0pt;
	font-family:����;}
p.3CharCharCharChar, li.3CharCharCharChar, div.3CharCharCharChar
	{mso-style-name:"ͼ������3 Char Char Char Char";
	margin:0cm;
	margin-bottom:.0001pt;
	text-align:center;
	line-height:9.0pt;
	font-size:8.0pt;
	font-family:����;}
p.130, li.130, div.130
	{mso-style-name:��ʽ13;
	margin-top:0cm;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:21.0pt;
	margin-bottom:.0001pt;
	text-align:center;
	text-indent:-21.0pt;
	font-size:10.5pt;
	font-family:����;}
p.30, li.30, div.30
	{mso-style-name:�������3;
	margin:0cm;
	margin-bottom:.0001pt;
	font-size:10.0pt;
	font-family:����;}
p.03, li.03, div.03
	{mso-style-name:����03;
	margin:0cm;
	margin-bottom:.0001pt;
	text-align:center;
	font-size:36.0pt;
	font-family:����;
	font-weight:bold;}
p.131, li.131, div.131
	{mso-style-name:����13;
	margin:0cm;
	margin-bottom:.0001pt;
	text-align:center;
	font-size:18.0pt;
	font-family:����;
	font-weight:bold;}
p.132, li.132, div.132
	{mso-style-name:�Ǳ���13;
	margin-top:7.8pt;
	margin-right:0cm;
	margin-bottom:7.8pt;
	margin-left:0cm;
	text-align:center;
	font-size:22.0pt;
	font-family:����;
	font-weight:bold;}
p.33, li.33, div.33
	{mso-style-name:�ı�����3;
	margin:0cm;
	margin-bottom:.0001pt;
	text-align:center;
	font-size:10.5pt;
	font-family:����;}
p.3Char3, li.3Char3, div.3Char3
	{mso-style-name:"ͼ������3 Char3";
	margin:0cm;
	margin-bottom:.0001pt;
	text-align:center;
	line-height:9.0pt;
	font-size:8.0pt;
	font-family:����;}
p.post3, li.post3, div.post3
	{mso-style-name:�ʼ�post3;
	margin:0cm;
	margin-bottom:.0001pt;
	text-align:right;
	line-height:11.0pt;
	font-size:10.5pt;
	font-family:����;}
p.330, li.330, div.330
	{mso-style-name:ͼ������33;
	margin:0cm;
	margin-bottom:.0001pt;
	text-align:justify;
	text-justify:inter-ideograph;
	font-size:10.5pt;
	font-family:����;}
p.5Char20, li.5Char20, div.5Char20
	{mso-style-name:"ͼ������5�� Char2";
	margin:0cm;
	margin-bottom:.0001pt;
	text-align:center;
	font-size:10.5pt;
	font-family:����;}
p.5CharChar2, li.5CharChar2, div.5CharChar2
	{mso-style-name:"ͼ������С5�� Char Char2";
	margin:0cm;
	margin-bottom:.0001pt;
	text-align:center;
	font-size:9.0pt;
	font-family:����;}
p.5Char3, li.5Char3, div.5Char3
	{mso-style-name:"ͼ������С5�� Char3";
	margin:0cm;
	margin-bottom:.0001pt;
	text-align:center;
	font-size:9.0pt;
	font-family:����;}
p.53, li.53, div.53
	{mso-style-name:ͼ������С5��3;
	margin:0cm;
	margin-bottom:.0001pt;
	text-align:center;
	font-size:9.0pt;
	font-family:����;}
p.3Char, li.3Char, div.3Char
	{mso-style-name:"ͼ������3 Char";
	mso-style-link:"ͼ������3 Char Char5";
	margin:0cm;
	margin-bottom:.0001pt;
	text-align:center;
	line-height:9.0pt;
	font-size:8.0pt;
	font-family:����;}
span.3CharChar5
	{mso-style-name:"ͼ������3 Char Char5";
	mso-style-link:"ͼ������3 Char";
	font-family:����;}
p.54, li.54, div.54
	{mso-style-name:ͼ������С5����;
	margin:0cm;
	margin-bottom:.0001pt;
	line-height:9.0pt;
	text-autospace:ideograph-numeric;
	font-size:9.0pt;
	font-family:����;}
p.24, li.24, div.24
	{mso-style-name:����2�Ŵ�����;
	margin:0cm;
	margin-bottom:.0001pt;
	text-align:center;
	font-size:22.0pt;
	font-family:����;
	font-weight:bold;}
p.15, li.15, div.15
	{mso-style-name:"��ʽ ���� 1 + ����";
	margin-top:17.0pt;
	margin-right:0cm;
	margin-bottom:16.5pt;
	margin-left:0cm;
	text-align:center;
	page-break-after:avoid;
	font-size:22.0pt;
	font-family:����;
	font-weight:bold;}
p.25, li.25, div.25
	{mso-style-name:"��ʽ ���� 2 + �о�\: �����о�";
	margin-top:13.0pt;
	margin-right:0cm;
	margin-bottom:13.0pt;
	margin-left:28.9pt;
	text-align:justify;
	text-justify:inter-ideograph;
	text-indent:-28.9pt;
	page-break-after:avoid;
	font-size:16.0pt;
	font-family:"Arial","sans-serif";
	font-weight:bold;}
span.2Char
	{mso-style-name:"���� 2 Char";
	mso-style-link:"���� 2";
	font-family:"Arial","sans-serif";
	font-weight:bold;}
p.34, li.34, div.34
	{mso-style-name:�б�3;
	margin:0cm;
	margin-bottom:.0001pt;
	text-align:center;
	font-size:10.5pt;
	font-family:����;}
p.35, li.35, div.35
	{mso-style-name:��3;
	margin:0cm;
	margin-bottom:.0001pt;
	text-align:center;
	font-size:10.5pt;
	font-family:����;}
p.4, li.4, div.4
	{mso-style-name:ͼ˵��4;
	margin:0cm;
	margin-bottom:.0001pt;
	text-align:center;
	font-size:10.5pt;
	font-family:����;}
p.40, li.40, div.40
	{mso-style-name:�б�4;
	margin-top:0cm;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:21.0pt;
	margin-bottom:.0001pt;
	text-align:center;
	text-indent:-21.0pt;
	font-size:10.5pt;
	font-family:����;}
p.41, li.41, div.41
	{mso-style-name:��4;
	margin:0cm;
	margin-bottom:.0001pt;
	text-align:center;
	font-size:10.5pt;
	font-family:����;}
p.55, li.55, div.55
	{mso-style-name:ͼ˵��5;
	margin:0cm;
	margin-bottom:.0001pt;
	text-align:center;
	font-size:10.5pt;
	font-family:����;}
p.56, li.56, div.56
	{mso-style-name:�б�5;
	margin:0cm;
	margin-bottom:.0001pt;
	text-align:center;
	font-size:10.5pt;
	font-family:����;}
p.57, li.57, div.57
	{mso-style-name:��5;
	margin:0cm;
	margin-bottom:.0001pt;
	text-align:center;
	font-size:10.5pt;
	font-family:����;}
p.6, li.6, div.6
	{mso-style-name:�б�6;
	margin:0cm;
	margin-bottom:.0001pt;
	text-align:center;
	font-size:10.5pt;
	font-family:����;}
p.60, li.60, div.60
	{mso-style-name:��6;
	margin:0cm;
	margin-bottom:.0001pt;
	text-align:center;
	font-size:10.5pt;
	font-family:����;}
p.61, li.61, div.61
	{mso-style-name:ͼ˵��6;
	margin:0cm;
	margin-bottom:.0001pt;
	text-align:center;
	font-size:10.5pt;
	font-family:����;}
p.7, li.7, div.7
	{mso-style-name:�б�7;
	margin:0cm;
	margin-bottom:.0001pt;
	text-align:center;
	font-size:10.5pt;
	font-family:����;}
p.70, li.70, div.70
	{mso-style-name:ͼ˵��7;
	margin:0cm;
	margin-bottom:.0001pt;
	text-align:center;
	font-size:10.5pt;
	font-family:����;}
p.71, li.71, div.71
	{mso-style-name:��7;
	margin:0cm;
	margin-bottom:.0001pt;
	text-align:center;
	font-size:10.5pt;
	font-family:����;}
p.8, li.8, div.8
	{mso-style-name:�б�8;
	margin:0cm;
	margin-bottom:.0001pt;
	text-align:center;
	font-size:10.5pt;
	font-family:����;}
p.9, li.9, div.9
	{mso-style-name:�б�9;
	margin:0cm;
	margin-bottom:.0001pt;
	text-align:center;
	font-size:10.5pt;
	font-family:����;}
p.90, li.90, div.90
	{mso-style-name:ͼ˵��9;
	margin:0cm;
	margin-bottom:.0001pt;
	text-align:center;
	font-size:10.5pt;
	font-family:����;}
p.100, li.100, div.100
	{mso-style-name:�б�10;
	margin:0cm;
	margin-bottom:.0001pt;
	text-align:center;
	font-size:10.5pt;
	font-family:����;}
p.101, li.101, div.101
	{mso-style-name:ͼ˵��10;
	margin:0cm;
	margin-bottom:.0001pt;
	text-align:center;
	font-size:10.5pt;
	font-family:����;}
p.114, li.114, div.114
	{mso-style-name:�б�11;
	margin:0cm;
	margin-bottom:.0001pt;
	text-align:center;
	font-size:10.5pt;
	font-family:����;}
p.115, li.115, div.115
	{mso-style-name:ͼ˵��11;
	margin:0cm;
	margin-bottom:.0001pt;
	text-align:center;
	font-size:10.5pt;
	font-family:����;}
p.116, li.116, div.116
	{mso-style-name:��11;
	margin:0cm;
	margin-bottom:.0001pt;
	text-align:center;
	font-size:10.5pt;
	font-family:����;}
p.123, li.123, div.123
	{mso-style-name:�б�12;
	margin:0cm;
	margin-bottom:.0001pt;
	text-align:center;
	font-size:10.5pt;
	font-family:����;}
p.124, li.124, div.124
	{mso-style-name:ͼ˵��12;
	margin:0cm;
	margin-bottom:.0001pt;
	text-align:center;
	font-size:10.5pt;
	font-family:����;}
p.133, li.133, div.133
	{mso-style-name:ͼ˵��13;
	mso-style-link:"ͼ˵��13 Char";
	margin:0cm;
	margin-bottom:.0001pt;
	text-align:center;
	font-size:10.5pt;
	font-family:����;}
span.13Char
	{mso-style-name:"ͼ˵��13 Char";
	mso-style-link:ͼ˵��13;
	font-family:����;}
p.134, li.134, div.134
	{mso-style-name:�б�13;
	margin:0cm;
	margin-bottom:.0001pt;
	text-align:center;
	font-size:10.5pt;
	font-family:����;}
p.26, li.26, div.26
	{mso-style-name:��¼2;
	margin-top:13.0pt;
	margin-right:0cm;
	margin-bottom:13.0pt;
	margin-left:0cm;
	text-align:justify;
	text-justify:inter-ideograph;
	page-break-after:avoid;
	font-size:16.0pt;
	font-family:"Arial","sans-serif";
	font-weight:bold;}
p.36, li.36, div.36
	{mso-style-name:��¼3;
	margin:0cm;
	margin-bottom:.0001pt;
	text-align:justify;
	text-justify:inter-ideograph;
	page-break-after:avoid;
	font-size:14.0pt;
	font-family:"Arial","sans-serif";
	font-weight:bold;}
span.3Char0
	{mso-style-name:"���� 3 Char";
	mso-style-link:"���� 3";
	font-family:"Arial","sans-serif";
	font-weight:bold;}
p.16, li.16, div.16
	{mso-style-name:��¼1;
	margin-top:17.0pt;
	margin-right:0cm;
	margin-bottom:16.5pt;
	margin-left:0cm;
	text-align:center;
	page-break-after:avoid;
	font-size:22.0pt;
	font-family:����;
	font-weight:bold;}
p.17, li.17, div.17
	{mso-style-name:��¼��1;
	margin:0cm;
	margin-bottom:.0001pt;
	text-align:center;
	font-size:10.5pt;
	font-family:����;}
p.42, li.42, div.42
	{mso-style-name:��¼4;
	margin:0cm;
	margin-bottom:.0001pt;
	text-align:justify;
	text-justify:inter-ideograph;
	page-break-after:avoid;
	font-size:12.0pt;
	font-family:"Arial","sans-serif";
	font-weight:bold;}
span.4Char
	{mso-style-name:"���� 4 Char";
	mso-style-link:"���� 4";
	font-family:"Arial","sans-serif";
	font-weight:bold;}
p.a3, li.a3, div.a3
	{mso-style-name:��¼ͼ˵��;
	margin:0cm;
	margin-bottom:.0001pt;
	text-align:center;
	font-size:10.5pt;
	font-family:����;}
p.27, li.27, div.27
	{mso-style-name:�����2;
	margin-top:13.0pt;
	margin-right:0cm;
	margin-bottom:13.0pt;
	margin-left:28.8pt;
	text-align:justify;
	text-justify:inter-ideograph;
	text-indent:-28.8pt;
	page-break-after:avoid;
	font-size:16.0pt;
	font-family:"Arial","sans-serif";
	font-weight:bold;}
p.a4, li.a4, div.a4
	{mso-style-name:�ο�����;
	margin-top:7.8pt;
	margin-right:0cm;
	margin-bottom:7.8pt;
	margin-left:0cm;
	text-align:center;
	page-break-after:avoid;
	font-size:22.0pt;
	font-family:����;
	font-weight:bold;}
p.18, li.18, div.18
	{mso-style-name:��������1;
	margin-top:7.8pt;
	margin-right:0cm;
	margin-bottom:7.8pt;
	margin-left:0cm;
	text-align:center;
	page-break-after:avoid;
	font-size:22.0pt;
	font-family:����;
	font-weight:bold;}
p.19, li.19, div.19
	{mso-style-name:�б�1;
	margin-top:0cm;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:21.25pt;
	margin-bottom:.0001pt;
	text-align:center;
	text-indent:-21.25pt;
	font-size:10.5pt;
	font-family:����;}
p.1a, li.1a, div.1a
	{mso-style-name:��1;
	margin-top:0cm;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:21.25pt;
	margin-bottom:.0001pt;
	text-align:center;
	text-indent:-21.25pt;
	font-size:10.5pt;
	font-family:����;}
p.37, li.37, div.37
	{mso-style-name:ͼ˵��3;
	margin:0cm;
	margin-bottom:.0001pt;
	text-align:center;
	font-size:10.5pt;
	font-family:����;}
p.62, li.62, div.62
	{mso-style-name:��������6��;
	margin:0cm;
	margin-bottom:.0001pt;
	text-align:justify;
	text-justify:inter-ideograph;
	layout-grid-mode:char;
	font-size:7.5pt;
	font-family:����;}
p.a5, li.a5, div.a5
	{mso-style-name:���Ĵ���;
	mso-style-link:"���Ĵ��� Char";
	margin:0cm;
	margin-bottom:.0001pt;
	text-align:justify;
	text-justify:inter-ideograph;
	font-size:10.5pt;
	font-family:����;}
span.Char1
	{mso-style-name:"���Ĵ��� Char";
	mso-style-link:���Ĵ���;
	font-family:����;}
p.43, li.43, div.43
	{mso-style-name:"��ʽ ���� 4 +";
	margin:0cm;
	margin-bottom:.0001pt;
	text-align:justify;
	text-justify:inter-ideograph;
	page-break-after:avoid;
	font-size:12.0pt;
	font-family:"Arial","sans-serif";
	font-weight:bold;}
p.140, li.140, div.140
	{mso-style-name:��14;
	margin-top:0cm;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:21.25pt;
	margin-bottom:.0001pt;
	text-align:center;
	text-indent:-21.25pt;
	font-size:10.5pt;
	font-family:����;}
p.141, li.141, div.141
	{mso-style-name:ͼ˵��14;
	mso-style-link:"ͼ˵��14 Char";
	margin-top:0cm;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:21.25pt;
	margin-bottom:.0001pt;
	text-align:center;
	text-indent:-21.25pt;
	font-size:10.5pt;
	font-family:����;}
span.14Char
	{mso-style-name:"ͼ˵��14 Char";
	mso-style-link:ͼ˵��14;
	font-family:����;}
p.a6, li.a6, div.a6
	{mso-style-name:�ļ�Ŀ¼��;
	margin:0cm;
	margin-bottom:.0001pt;
	text-align:justify;
	text-justify:inter-ideograph;
	font-size:10.5pt;
	font-family:����;}
p.a7, li.a7, div.a7
	{mso-style-name:"��ʽ ���� +";
	mso-style-link:"��ʽ ���� + Char";
	margin:0cm;
	margin-bottom:.0001pt;
	text-align:justify;
	text-justify:inter-ideograph;
	font-size:10.5pt;
	font-family:����;}
span.Char2
	{mso-style-name:"��ʽ ���� + Char";
	mso-style-link:"��ʽ ���� +";
	font-family:"Times New Roman","serif";}
p.a8, li.a8, div.a8
	{mso-style-name:������ע;
	margin:0cm;
	margin-bottom:.0001pt;
	text-align:center;
	font-size:10.5pt;
	font-family:����;}
p.a9, li.a9, div.a9
	{mso-style-name:�б���ע;
	margin:0cm;
	margin-bottom:.0001pt;
	text-align:center;
	font-size:10.5pt;
	font-family:"Arial","sans-serif";}
p.aa, li.aa, div.aa
	{mso-style-name:ͼ��ע;
	margin:0cm;
	margin-bottom:.0001pt;
	text-align:center;
	font-size:10.5pt;
	font-family:"Arial","sans-serif";}
p.ab, li.ab, div.ab
	{mso-style-name:������ע;
	margin:0cm;
	margin-bottom:.0001pt;
	text-align:center;
	font-size:10.5pt;
	font-family:"Arial","sans-serif";}
p.ac, li.ac, div.ac
	{mso-style-name:��������;
	margin-top:0cm;
	margin-right:21.0pt;
	margin-bottom:0cm;
	margin-left:21.0pt;
	margin-bottom:.0001pt;
	text-align:justify;
	text-justify:inter-ideograph;
	border:none;
	padding:0cm;
	font-size:9.0pt;
	font-family:����;}
p.125, li.125, div.125
	{mso-style-name:"��ʽ ���� 1 + ����2";
	margin-top:17.0pt;
	margin-right:0cm;
	margin-bottom:16.5pt;
	margin-left:0cm;
	text-align:center;
	page-break-after:avoid;
	font-size:22.0pt;
	font-family:����;
	font-weight:bold;}
p.ad, li.ad, div.ad
	{mso-style-name:"��ʽ ��ע + ���� ��� ����";
	margin:0cm;
	margin-bottom:.0001pt;
	text-align:center;
	font-size:10.5pt;
	font-family:����;}
p.1b, li.1b, div.1b
	{mso-style-name:�����1;
	margin-top:17.0pt;
	margin-right:0cm;
	margin-bottom:16.5pt;
	margin-left:0cm;
	line-height:240%;
	page-break-after:avoid;
	font-size:16.0pt;
	font-family:����;
	font-weight:bold;}
p.38, li.38, div.38
	{mso-style-name:�����3;
	margin:0cm;
	margin-bottom:.0001pt;
	text-align:justify;
	text-justify:inter-ideograph;
	page-break-after:avoid;
	font-size:12.0pt;
	font-family:����С���μ���;}
p.63, li.63, div.63
	{mso-style-name:��������6��;
	margin:0cm;
	margin-bottom:.0001pt;
	text-align:justify;
	text-justify:inter-ideograph;
	font-size:7.5pt;
	font-family:����;}
p.64, li.64, div.64
	{mso-style-name:ͼ������6�������;
	margin:0cm;
	margin-bottom:.0001pt;
	line-height:10.0pt;
	layout-grid-mode:char;
	font-size:7.5pt;
	font-family:����;}
p.65, li.65, div.65
	{mso-style-name:ͼ������6��;
	mso-style-link:"ͼ������6�� Char";
	margin:0cm;
	margin-bottom:.0001pt;
	text-align:center;
	line-height:10.0pt;
	layout-grid-mode:char;
	font-size:7.5pt;
	font-family:����;}
span.6Char
	{mso-style-name:"ͼ������6�� Char";
	mso-style-link:ͼ������6��;
	font-family:����;}
p.ae, li.ae, div.ae
	{mso-style-name:ͼ��;
	margin:0cm;
	margin-bottom:.0001pt;
	text-align:justify;
	text-justify:inter-ideograph;
	font-size:10.5pt;
	font-family:����;}
p.28, li.28, div.28
	{mso-style-name:ͼ��2;
	margin:0cm;
	margin-bottom:.0001pt;
	text-align:justify;
	text-justify:inter-ideograph;
	font-size:10.5pt;
	font-family:����;}
p.af, li.af, div.af
	{mso-style-name:ϰ�����;
	margin-top:6.0pt;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:0cm;
	margin-bottom:.0001pt;
	text-align:justify;
	text-justify:inter-ideograph;
	page-break-after:avoid;
	font-size:14.0pt;
	font-family:����;}
p.1c, li.1c, div.1c
	{mso-style-name:���ֱ��1;
	margin:0cm;
	margin-bottom:.0001pt;
	text-align:justify;
	text-justify:inter-ideograph;
	font-size:16.0pt;
	font-family:����;}
p.af0, li.af0, div.af0
	{mso-style-name:������;
	margin:0cm;
	margin-bottom:.0001pt;
	text-align:center;
	font-size:10.5pt;
	font-family:"Arial","sans-serif";}
p.af1, li.af1, div.af1
	{mso-style-name:"��ʽ ��ע + ����";
	margin:0cm;
	margin-bottom:.0001pt;
	text-align:center;
	font-size:10.5pt;
	font-family:����;}
p.ListTitle, li.ListTitle, div.ListTitle
	{mso-style-name:ListTitle;
	margin:0cm;
	margin-bottom:.0001pt;
	text-align:justify;
	text-justify:inter-ideograph;
	font-size:10.5pt;
	font-family:"Arial","sans-serif";}
p.FigureTitle, li.FigureTitle, div.FigureTitle
	{mso-style-name:FigureTitle;
	margin:0cm;
	margin-bottom:.0001pt;
	text-align:center;
	font-size:10.5pt;
	font-family:"Arial","sans-serif";}
p.TableTitle, li.TableTitle, div.TableTitle
	{mso-style-name:TableTitle;
	margin:0cm;
	margin-bottom:.0001pt;
	text-align:center;
	font-size:10.5pt;
	font-family:"Arial","sans-serif";}
p.ProgramTitle, li.ProgramTitle, div.ProgramTitle
	{mso-style-name:ProgramTitle;
	margin:0cm;
	margin-bottom:.0001pt;
	text-align:center;
	font-size:10.5pt;
	font-family:"Arial","sans-serif";}
p.RightText, li.RightText, div.RightText
	{mso-style-name:RightText;
	margin-top:0cm;
	margin-right:21.0pt;
	margin-bottom:0cm;
	margin-left:42.0pt;
	margin-bottom:.0001pt;
	text-align:justify;
	text-justify:inter-ideograph;
	border:none;
	padding:0cm;
	font-size:9.0pt;
	font-family:����;}
p.af2, li.af2, div.af2
	{mso-style-name:��������С��;
	margin:0cm;
	margin-bottom:.0001pt;
	text-align:justify;
	text-justify:inter-ideograph;
	font-size:9.0pt;
	font-family:����;}
p.af3, li.af3, div.af3
	{mso-style-name:�ؼ���;
	mso-style-link:"�ؼ��� Char";
	margin:0cm;
	margin-bottom:.0001pt;
	text-align:justify;
	text-justify:inter-ideograph;
	font-size:10.5pt;
	font-family:����;}
span.Char3
	{mso-style-name:"�ؼ��� Char";
	mso-style-link:�ؼ���;
	font-family:����;}
p.af4, li.af4, div.af4
	{mso-style-name:�ļ���;
	mso-style-link:"�ļ��� Char";
	margin:0cm;
	margin-bottom:.0001pt;
	text-align:justify;
	text-justify:inter-ideograph;
	font-size:10.5pt;
	font-family:����;}
span.Char4
	{mso-style-name:"�ļ��� Char";
	mso-style-link:�ļ���;
	font-family:����;}
p.af5, li.af5, div.af5
	{mso-style-name:ѡ��;
	mso-style-link:"ѡ�� Char";
	margin:0cm;
	margin-bottom:.0001pt;
	text-align:justify;
	text-justify:inter-ideograph;
	font-size:10.5pt;
	font-family:����;}
span.Char5
	{mso-style-name:"ѡ�� Char";
	mso-style-link:ѡ��;
	font-family:����;}
p.af6, li.af6, div.af6
	{mso-style-name:������;
	mso-style-link:"������ Char";
	margin:0cm;
	margin-bottom:.0001pt;
	text-align:justify;
	text-justify:inter-ideograph;
	font-size:10.5pt;
	font-family:����;}
span.Char6
	{mso-style-name:"������ Char";
	mso-style-link:������;
	font-family:����;}
p.af7, li.af7, div.af7
	{mso-style-name:������;
	mso-style-link:"������ Char";
	margin:0cm;
	margin-bottom:.0001pt;
	text-align:justify;
	text-justify:inter-ideograph;
	font-size:10.5pt;
	font-family:����;}
span.Char7
	{mso-style-name:"������ Char";
	mso-style-link:������;
	font-family:����;}
p.af8, li.af8, div.af8
	{mso-style-name:�Ĵ�����;
	mso-style-link:"�Ĵ����� Char";
	margin:0cm;
	margin-bottom:.0001pt;
	text-align:justify;
	text-justify:inter-ideograph;
	font-size:10.5pt;
	font-family:����;}
span.Char8
	{mso-style-name:"�Ĵ����� Char";
	mso-style-link:�Ĵ�����;
	font-family:"Times New Roman","serif";}
p.af9, li.af9, div.af9
	{mso-style-name:������;
	mso-style-link:"������ Char";
	margin:0cm;
	margin-bottom:.0001pt;
	text-align:justify;
	text-justify:inter-ideograph;
	font-size:10.5pt;
	font-family:����;}
span.Char9
	{mso-style-name:"������ Char";
	mso-style-link:������;
	font-family:����;}
p.58, li.58, div.58
	{mso-style-name:ͼ������С5����;
	margin:0cm;
	margin-bottom:.0001pt;
	font-size:9.0pt;
	font-family:����;}
p.59, li.59, div.59
	{mso-style-name:ͼ������С5�ſ���;
	margin:0cm;
	margin-bottom:.0001pt;
	layout-grid-mode:char;
	font-size:9.0pt;
	font-family:����;}
p.926, li.926, div.926
	{mso-style-name:"��ʽ ������� + ���\:  9\.26 ����";
	margin:0cm;
	margin-bottom:.0001pt;
	layout-grid-mode:char;
	font-size:10.0pt;
	font-family:����;}
span.5Char4
	{mso-style-name:"���� 5 Char";
	mso-style-link:"���� 5";
	font-weight:bold;}
span.6Char0
	{mso-style-name:"���� 6 Char";
	mso-style-link:"���� 6";
	font-family:"Arial","sans-serif";
	font-weight:bold;}
span.7Char
	{mso-style-name:"���� 7 Char";
	mso-style-link:"���� 7";
	font-weight:bold;}
span.8Char
	{mso-style-name:"���� 8 Char";
	mso-style-link:"���� 8";
	font-family:"Arial","sans-serif";}
span.9Char
	{mso-style-name:"���� 9 Char";
	mso-style-link:"���� 9";
	font-family:"Arial","sans-serif";}
span.Chara
	{mso-style-name:"��ע�ı� Char";
	mso-style-link:��ע�ı�;
	font-family:����;}
span.Charb
	{mso-style-name:"��ע���� Char";
	mso-style-link:��ע����;
	font-family:����;}
span.Charc
	{mso-style-name:"ҳü Char";
	mso-style-link:ҳü;
	font-family:����;}
span.Chard
	{mso-style-name:"ҳ�� Char";
	mso-style-link:ҳ��;
	font-family:����;}
span.Chare
	{mso-style-name:"���� Char";
	mso-style-link:����;
	font-family:����;}
span.HTMLChar
	{mso-style-name:"HTML Ԥ���ʽ Char\,HTML Ԥ�ȸ�ʽ�� Char\,HTML Ԥ�ȸ�ʽ��1 Char\,HTML Ԥ�ȸ�ʽ��2 Char\,HTML Ԥ�ȸ�ʽ��3 Char";
	mso-style-link:"HTML Ԥ���ʽ\,HTML Ԥ�ȸ�ʽ��\,HTML Ԥ�ȸ�ʽ��1\,HTML Ԥ�ȸ�ʽ��2\,HTML Ԥ�ȸ�ʽ��3";
	font-family:����;}
span.Charf
	{mso-style-name:"��ע���� Char";
	mso-style-link:��ע����;
	font-family:����;
	font-weight:bold;}
span.Charf0
	{mso-style-name:"��ע���ı� Char";
	mso-style-link:��ע���ı�;
	font-family:����;}
span.5CharCharChar0
	{mso-style-name:"ͼ������5�� Char Char Char";
	font-family:����;}
span.5CharCharCharChar
	{mso-style-name:"ͼ������С5�� Char Char Char Char";
	font-family:����;}
span.msoIns
	{mso-style-name:"";
	text-decoration:underline;
	color:teal;}
span.msoDel
	{mso-style-name:"";
	text-decoration:line-through;
	color:red;}
.MsoChpDefault
	{font-size:10.0pt;}
 /* Page Definitions */
 @page WordSection1
	{size:595.3pt 841.9pt;
	margin:72.0pt 54.0pt 72.0pt 54.0pt;
	layout-grid:15.6pt;}
div.WordSection1
	{page:WordSection1;}
 /* List Definitions */
 ol
	{margin-bottom:0cm;}
ul
	{margin-bottom:0cm;}
-->
</style>

</head>

<body lang=ZH-CN link=blue vlink=purple style='text-justify-trim:punctuation'>

<div class=WordSection1 style='layout-grid:15.6pt'>

<p class=ab><a name="_Toc53320598"><span style='font-family:����'>����</span><span
lang=EN-US> 6&#8209;2 linux/boot/setup.S</span></a></p>

<div class=a align=center style='text-align:center'><span lang=EN-US>

<hr size=4 width="100%" align=center>

</span></div>

<p class=a><span lang=EN-US>&nbsp; <a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L1">1</a> !</span></p>

<p class=a><span lang=EN-US>&nbsp; <a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L2">2</a>
!&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
setup.s&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (C) 1991 Linus Torvalds</span></p>

<p class=a><span lang=EN-US>&nbsp; <a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L3">3</a> !</span></p>

<p class=a><span lang=EN-US>&nbsp; <a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L4">4</a> ! setup.s
is responsible for getting the system data from the BIOS,</span></p>

<p class=a><span lang=EN-US>&nbsp; <a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L5">5</a> ! and
putting them into the appropriate places in system memory.</span></p>

<p class=a><span lang=EN-US>&nbsp; <a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L6">6</a> ! both
setup.s and system has been loaded by the bootblock.</span></p>

<p class=a><span lang=EN-US>&nbsp; <a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L7">7</a> !</span></p>

<p class=a><span lang=EN-US>&nbsp; <a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L8">8</a> ! This
code asks the bios for memory/disk/other parameters, and</span></p>

<p class=a><span lang=EN-US>&nbsp; <a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L9">9</a> ! puts
them in a &quot;safe&quot; place: 0x90000-0x901FF, ie where the</span></p>

<p class=a><span lang=EN-US>&nbsp;<a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L10">10</a> !
boot-block used to be. It is then up to the protected mode</span></p>

<p class=a><span lang=EN-US>&nbsp;<a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L11">11</a> !
system to read them from there before the area is overwritten</span></p>

<p class=a><span lang=EN-US>&nbsp;<a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L12">12</a> ! for
buffer-blocks.</span></p>

<p class=a><span lang=EN-US>&nbsp;<a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L13">13</a> !</span></p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! setup.s</span>�����<span
lang=EN-US>BIOS</span>�л�ȡϵͳ���ݣ�������Щ���ݷŵ�ϵͳ�ڴ���ʵ�</p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! </span>�ط�����ʱ<span lang=EN-US>setup.s</span>��<span
lang=EN-US>system</span>�Ѿ���<span lang=EN-US>bootsect</span>��������ص��ڴ��С�</p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! </span></p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! </span>��δ���ѯ��<span lang=EN-US>bios</span>�й��ڴ�<span
lang=EN-US>/</span>����<span lang=EN-US>/</span>����������������Щ�����ŵ�һ��</p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! </span>����ȫ�ġ��ط���<span
lang=EN-US>0x90000-0x901FF</span>��Ҳ��ԭ��<span lang=EN-US>bootsect</span>�����������</p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! </span>�ĵط���Ȼ���ڱ�����鸲�ǵ�֮ǰ�ɱ���ģʽ��<span
lang=EN-US>system</span>��ȡ��</p>

<p class=a><span lang=EN-US>&nbsp;<a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L14">14</a> </span></p>

<p class=a><span lang=EN-US>&nbsp;<a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L15">15</a> ! NOTE!
These had better be the same as in bootsect.s!</span></p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! </span>������Щ������ú�<span
lang=EN-US>bootsect.s</span>�е���ͬ��</p>

<p class=a><span lang=EN-US>&nbsp;<a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L16">16</a>
#include &lt;linux/config.h&gt;</span></p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! config.h</span>�ж�����<span
lang=EN-US>DEF_INITSEG = 0x9000</span>��<span lang=EN-US>DEF_SYSSEG = 0x1000</span>��<span
lang=EN-US>DEF_SETUPSEG = 0x9020</span>��</p>

<p class=a><span lang=EN-US>&nbsp;<a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L17">17</a> </span></p>

<p class=a><span lang=EN-US>&nbsp;<a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L18">18</a>
INITSEG&nbsp; = DEF_INITSEG&nbsp; ! we move boot here - out of the way ! </span>ԭ��<span
lang=EN-US>bootsect</span>�����ĶΡ�</p>

<p class=a><span lang=EN-US>&nbsp;<a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L19">19</a>
SYSSEG&nbsp;&nbsp; = DEF_SYSSEG&nbsp;&nbsp; ! system loaded at 0x10000 (65536).&nbsp;
! system</span>��<span lang=EN-US>0x10000</span>����</p>

<p class=a><span lang=EN-US>&nbsp;<a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L20">20</a>
SETUPSEG = DEF_SETUPSEG ! this is the current segment&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;!
</span>���������ڵĶε�ַ��</p>

<p class=a><span lang=EN-US>&nbsp;<a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L21">21</a> </span></p>

<p class=a><span lang=EN-US>&nbsp;<a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L22">22</a> .globl
begtext, begdata, begbss, endtext, enddata, endbss</span></p>

<p class=a><span lang=EN-US>&nbsp;<a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L23">23</a> .text</span></p>

<p class=a><span lang=EN-US>&nbsp;<a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L24">24</a>
begtext:</span></p>

<p class=a><span lang=EN-US>&nbsp;<a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L25">25</a> .data</span></p>

<p class=a><span lang=EN-US>&nbsp;<a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L26">26</a>
begdata:</span></p>

<p class=a><span lang=EN-US>&nbsp;<a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L27">27</a> .bss</span></p>

<p class=a><span lang=EN-US>&nbsp;<a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L28">28</a> begbss:</span></p>

<p class=a><span lang=EN-US>&nbsp;<a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L29">29</a> .text</span></p>

<p class=a><span lang=EN-US>&nbsp;<a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L30">30</a> </span></p>

<p class=a><span lang=EN-US>&nbsp;<a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L31">31</a> entry
start</span></p>

<p class=a><span lang=EN-US>&nbsp;<a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L32">32</a> start:</span></p>

<p class=a><span lang=EN-US>&nbsp;<a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L33">33</a> </span></p>

<p class=a><span lang=EN-US>&nbsp;<a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L34">34</a> ! ok,
the read went well so we get current cursor position and save it for</span></p>

<p class=a><span lang=EN-US>&nbsp;<a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L35">35</a> !
posterity.</span></p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! ok</span>�����������̹��̶����������ڽ����λ�ñ����Ա����ʹ�ã���ش�����<span
lang=EN-US>59--62</span>�У���</p>

<p class=a><span lang=EN-US>&nbsp;<a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L36">36</a> </span></p>

<p class=a><span lang=EN-US>&nbsp;&nbsp; &nbsp;! </span>�¾佫<span lang=EN-US>ds</span>�ó�<span
lang=EN-US>INITSEG(0x9000)</span>�����Ѿ���<span lang=EN-US>bootsect</span>���������ù�������������<span
lang=EN-US>setup</span>����</p>

<p class=a><span lang=EN-US>&nbsp;&nbsp; &nbsp;! Linus</span>������Ҫ����������һ�¡�</p>

<p class=a><span lang=EN-US>&nbsp;<a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L37">37</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
mov&nbsp;&nbsp;&nbsp;&nbsp; ax,#INITSEG </span></p>

<p class=a><span lang=EN-US>&nbsp;<a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L38">38</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
mov&nbsp;&nbsp;&nbsp;&nbsp; ds,ax</span></p>

<p class=a><span lang=EN-US>&nbsp;<a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L39">39</a> </span></p>

<p class=a><span lang=EN-US>&nbsp;<a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L40">40</a> ! Get
memory size (extended mem, kB)</span></p>

<p class=a><span lang=EN-US>&nbsp; &nbsp;&nbsp;! </span>ȡ��չ�ڴ�Ĵ�Сֵ��<span
lang=EN-US>KB</span>����</p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! </span>����<span lang=EN-US>BIOS</span>�ж�<span
lang=EN-US>0x15 </span>���ܺ�<span lang=EN-US>ah = 0x88 </span>ȡϵͳ������չ�ڴ��С���������ڴ�<span
lang=EN-US>0x90002</span>����</p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! </span>���أ�<span lang=EN-US>ax
= </span>��<span lang=EN-US>0x100000</span>��<span
 lang=EN-US>1M</span>������ʼ����չ�ڴ��С<span lang=EN-US>(KB)</span>����������<span
lang=EN-US>CF</span>��λ��<span lang=EN-US>ax = </span>�����롣</p>

<p class=a><span lang=EN-US>&nbsp;<a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L41">41</a> </span></p>

<p class=a><span lang=EN-US>&nbsp;<a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L42">42</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
mov&nbsp;&nbsp;&nbsp;&nbsp; ah,#0x88</span></p>

<p class=a><span lang=EN-US>&nbsp;<a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L43">43</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
int&nbsp;&nbsp;&nbsp;&nbsp; 0x15</span></p>

<p class=a><span lang=EN-US>&nbsp;<a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L44">44</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
mov&nbsp;&nbsp;&nbsp;&nbsp; [2],ax&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
! </span>����չ�ڴ���ֵ����<span lang=EN-US>0x90002</span>����<span lang=EN-US>1</span>���֣���</p>

<p class=a><span lang=EN-US>&nbsp;<a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L45">45</a> </span></p>

<p class=a><span lang=EN-US>&nbsp;<a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L46">46</a> ! check
for EGA/VGA and some config parameters</span></p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! </span>�����ʾ��ʽ��<span
lang=EN-US>EGA/VGA</span>����ȡ������</p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! </span>����<span lang=EN-US>BIOS</span>�ж�<span
lang=EN-US>0x10</span>�����ӹ���ѡ��ʽ��Ϣ�����ܺţ�<span lang=EN-US>ah = 0x12</span>��<span
lang=EN-US>bl = 0x10</span></p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! </span>���أ�<span lang=EN-US>bh
=</span>��ʾ״̬��<span lang=EN-US>0x00 -</span>��ɫģʽ��<span lang=EN-US>I/O</span>�˿�<span
lang=EN-US>=0x3dX</span>��<span lang=EN-US>0x01 -</span>��ɫģʽ��<span lang=EN-US>I/O</span>�˿�<span
lang=EN-US>=0x3bX</span>��</p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! bl = </span>��װ����ʾ�ڴ档<span
lang=EN-US>0x00 - 64k</span>��<span lang=EN-US>0x01 - 128k</span>��<span
lang=EN-US>0x02 - 192k</span>��<span lang=EN-US>0x03 = 256k</span>��</p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! cx = </span>��ʾ�����Բ���<span
lang=EN-US>(</span>�μ�������<span lang=EN-US>BIOS</span>��Ƶ�ж�<span lang=EN-US>0x10</span>��˵��<span
lang=EN-US>)</span>��</p>

<p class=a><span lang=EN-US>&nbsp;<a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L47">47</a> </span></p>

<p class=a><span lang=EN-US>&nbsp;<a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L48">48</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
mov&nbsp;&nbsp;&nbsp;&nbsp; ah,#0x12</span></p>

<p class=a><span lang=EN-US>&nbsp;<a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L49">49</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
mov&nbsp;&nbsp;&nbsp;&nbsp; bl,#0x10</span></p>

<p class=a><span lang=EN-US>&nbsp;<a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L50">50</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
int&nbsp;&nbsp;&nbsp;&nbsp; 0x10</span></p>

<p class=a><span lang=EN-US>&nbsp;<a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L51">51</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
mov&nbsp;&nbsp;&nbsp;&nbsp; [8],ax&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;!
0x90008 = ??</span></p>

<p class=a><span lang=EN-US>&nbsp;<a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L52">52</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
mov&nbsp;&nbsp;&nbsp;&nbsp; [10],bx&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;!
0x9000A =</span>��װ����ʾ�ڴ棻<span
lang=EN-US>0x9000B=</span>��ʾ״̬<span lang=EN-US>(</span>��<span lang=EN-US>/</span>��ɫ<span
lang=EN-US>)</span></p>

<p class=a><span lang=EN-US>&nbsp;<a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L53">53</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
mov&nbsp;&nbsp;&nbsp;&nbsp; [12],cx&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;!
0x9000C =</span>��ʾ�����Բ�����</p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! </span>�����Ļ��ǰ����ֵ������ʾ����<span
lang=EN-US>VGA</span>��ʱ�������û�ѡ����ʾ����ֵ�������浽<span lang=EN-US>0x9000E</span>����</p>

<p class=a><span lang=EN-US>&nbsp;<a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L54">54</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
mov&nbsp;&nbsp;&nbsp;&nbsp; ax,#0x5019&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ! </span>��<span
lang=EN-US>ax</span>��Ԥ����ĻĬ������ֵ��<span lang=EN-US>ah = 80</span>�У�<span
lang=EN-US>al=25</span>�У���</p>

<p class=a><span lang=EN-US>&nbsp;<a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L55">55</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
cmp&nbsp;&nbsp;&nbsp;&nbsp; bl,#0x10&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
! </span>���жϷ���<span lang=EN-US>bl</span>ֵΪ<span lang=EN-US>0x10</span>�����ʾ����<span
lang=EN-US>VGA</span>��ʾ������ת��</p>

<p class=a><span lang=EN-US>&nbsp;<a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L56">56</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
je&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; novga</span></p>

<p class=a><span lang=EN-US>&nbsp;<a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L57">57</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
call&nbsp;&nbsp;&nbsp; chsvga&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
! </span>�����ʾ�����Һ����ͣ��޸���ʾ����ֵ����<span lang=EN-US>215</span>�У���</p>

<p class=a><span lang=EN-US>&nbsp;<a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L58">58</a>
novga:&nbsp; mov&nbsp;&nbsp;&nbsp;&nbsp; [14],ax&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
! </span>������Ļ��ǰ����ֵ��<span lang=EN-US>0x9000E</span>��<span lang=EN-US>0x9000F</span>����</p>

<p class=a><span lang=EN-US>&nbsp;</span></p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! </span>��δ���ʹ��<span lang=EN-US>BIOS</span>�ж�ȡ��Ļ��ǰ���λ�ã��С��У������������ڴ�<span
lang=EN-US>0x90000</span>����<span lang=EN-US>2</span>�ֽڣ���</p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! </span>����̨��ʼ������ᵽ�˴���ȡ��ֵ��</p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! BIOS</span>�ж�<span lang=EN-US>0x10</span>���ܺ�<span
lang=EN-US> ah = 0x03</span>�������λ�á�</p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! </span>���룺<span lang=EN-US>bh
= </span>ҳ��</p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! </span>���أ�<span lang=EN-US>ch
= </span>ɨ�迪ʼ�ߣ�<span lang=EN-US>cl = </span>ɨ������ߣ�<span lang=EN-US>dh = </span>�к�<span
lang=EN-US>(0x00</span>����<span lang=EN-US>)</span>��<span lang=EN-US>dl = </span>�к�<span
lang=EN-US>(0x00</span>�����<span lang=EN-US>)</span>��</p>

<p class=a><span lang=EN-US>&nbsp;<a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L59">59</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
mov&nbsp;&nbsp;&nbsp;&nbsp; ah,#0x03&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;!
read cursor pos</span></p>

<p class=a><span lang=EN-US>&nbsp;<a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L60">60</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
xor&nbsp;&nbsp;&nbsp;&nbsp; bh,bh</span></p>

<p class=a><span lang=EN-US>&nbsp;<a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L61">61</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
int&nbsp;&nbsp;&nbsp;&nbsp;
0x10&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;!
save it in known place, con_init fetches</span></p>

<p class=a><span lang=EN-US>&nbsp;<a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L62">62</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
mov&nbsp;&nbsp;&nbsp;&nbsp; [0],dx&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;!
it from 0x90000.</span></p>

<p class=a><span lang=EN-US>&nbsp;<a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L63">63</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></p>

<p class=a><span lang=EN-US>&nbsp;<a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L64">64</a> ! Get
video-card data:</span></p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! </span>�����������ȡ��ʾ����ǰ��ʾģʽ��</p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! </span>����<span lang=EN-US>BIOS</span>�ж�<span
lang=EN-US>0x10</span>�����ܺ�<span lang=EN-US> ah = 0x0f</span></p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! </span>���أ�<span lang=EN-US>ah
= </span>�ַ�������<span lang=EN-US>al = </span>��ʾģʽ��<span lang=EN-US>bh = </span>��ǰ��ʾҳ��</p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! 0x90004(1</span>��<span
lang=EN-US>)</span>��ŵ�ǰҳ��<span lang=EN-US>0x90006</span>�����ʾģʽ��<span
lang=EN-US>0x90007</span>����ַ�������</p>

<p class=a><span lang=EN-US>&nbsp;<a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L65">65</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></p>

<p class=a><span lang=EN-US>&nbsp;<a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L66">66</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
mov&nbsp;&nbsp;&nbsp;&nbsp; ah,#0x0f</span></p>

<p class=a><span lang=EN-US>&nbsp;<a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L67">67</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
int&nbsp;&nbsp;&nbsp;&nbsp; 0x10</span></p>

<p class=a><span lang=EN-US>&nbsp;<a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L68">68</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
mov&nbsp;&nbsp;&nbsp;&nbsp;
[4],bx&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ! bh = display
page</span></p>

<p class=a><span lang=EN-US>&nbsp;<a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L69">69</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
mov&nbsp;&nbsp;&nbsp;&nbsp;
[6],ax&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ! al = video mode,
ah = window width</span></p>

<p class=a><span lang=EN-US>&nbsp;<a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L70">70</a> </span></p>

<p class=a><span lang=EN-US>&nbsp;<a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L71">71</a> ! Get
hd0 data</span></p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! </span>ȡ��һ��Ӳ�̵���Ϣ������Ӳ�̲���������</p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! </span>��<span lang=EN-US>1</span>��Ӳ�̲��������׵�ַ��Ȼ���ж�����<span
lang=EN-US>0x41</span>������ֵ������<span lang=EN-US>2</span>��Ӳ�̲����������ڵ�<span
lang=EN-US>1</span>��</p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! </span>���ĺ��棬�ж�����<span
lang=EN-US>0x46</span>������ֵҲָ���<span lang=EN-US>2</span>��Ӳ�̵Ĳ�������ַ�����ĳ�����<span
lang=EN-US>16</span>���ֽڡ�</p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! </span>�������γ���ֱ���<span
lang=EN-US>ROM BIOS</span>���й�����Ӳ�̵Ĳ�������<span lang=EN-US>0x90080</span>����ŵ�<span
lang=EN-US>1</span>��Ӳ�̵ı���</p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! 0x90090</span>����ŵ�<span
lang=EN-US>2</span>��Ӳ�̵ı���</p>

<p class=a><span lang=EN-US>&nbsp;<a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L72">72</a> </span></p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! </span>��<span lang=EN-US>75</span>�������ڴ�ָ��λ�ô���ȡһ����ָ��ֵ������<span
lang=EN-US>ds</span>��<span lang=EN-US>si</span>�Ĵ����С�<span lang=EN-US>ds</span>�зŶε�ַ��</p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! si</span>�Ƕ���ƫ�Ƶ�ַ�������ǰ��ڴ��ַ<span
lang=EN-US>4 * 0x41</span>��<span lang=EN-US>= 0x104</span>���������<span
lang=EN-US>4</span>���ֽڶ�������<span lang=EN-US>4</span>��</p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! </span>�ڼ���Ӳ�̲���������λ�õĶκ�ƫ��ֵ��</p>

<p class=a><span lang=EN-US>&nbsp;<a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L73">73</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
mov&nbsp;&nbsp;&nbsp;&nbsp; ax,#0x0000</span></p>

<p class=a><span lang=EN-US>&nbsp;<a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L74">74</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
mov&nbsp;&nbsp;&nbsp;&nbsp; ds,ax</span></p>

<p class=a><span lang=EN-US>&nbsp;<a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L75">75</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
lds&nbsp;&nbsp;&nbsp;&nbsp; si,[4*0x41]&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;!
</span>ȡ�ж�����<span lang=EN-US>0x41</span>��ֵ����<span lang=EN-US>hd0</span>�������ĵ�ַ<span
lang=EN-US style='font-family:Wingdings'>��</span><span lang=EN-US>ds:si</span></p>

<p class=a><span lang=EN-US>&nbsp;<a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L76">76</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
mov&nbsp;&nbsp;&nbsp;&nbsp; ax,#INITSEG</span></p>

<p class=a><span lang=EN-US>&nbsp;<a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L77">77</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
mov&nbsp;&nbsp;&nbsp;&nbsp; es,ax</span></p>

<p class=a><span lang=EN-US>&nbsp;<a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L78">78</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
mov&nbsp;&nbsp;&nbsp;&nbsp; di,#0x0080&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;!
</span>�����Ŀ�ĵ�ַ<span lang=EN-US>: 0x9000:0x0080 </span><span lang=EN-US
style='font-family:Wingdings'>��</span><span lang=EN-US> es:di</span></p>

<p class=a><span lang=EN-US>&nbsp;<a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L79">79</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
mov&nbsp;&nbsp;&nbsp;&nbsp; cx,#0x10&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;!
</span>������<span lang=EN-US>16</span>�ֽڡ�</p>

<p class=a><span lang=EN-US>&nbsp;<a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L80">80</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
rep</span></p>

<p class=a><span lang=EN-US>&nbsp;<a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L81">81</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
movsb</span></p>

<p class=a><span lang=EN-US>&nbsp;<a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L82">82</a> </span></p>

<p class=a><span lang=EN-US>&nbsp;<a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L83">83</a> ! Get
hd1 data</span></p>

<p class=a><span lang=EN-US>&nbsp;<a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L84">84</a> </span></p>

<p class=a><span lang=EN-US>&nbsp;<a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L85">85</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
mov&nbsp;&nbsp;&nbsp;&nbsp; ax,#0x0000</span></p>

<p class=a><span lang=EN-US>&nbsp;<a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L86">86</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
mov&nbsp;&nbsp;&nbsp;&nbsp; ds,ax</span></p>

<p class=a><span lang=EN-US>&nbsp;<a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L87">87</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
lds&nbsp;&nbsp;&nbsp;&nbsp; si,[4*0x46]&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;!
</span>ȡ�ж�����<span lang=EN-US>0x46</span>��ֵ����<span lang=EN-US>hd1</span>�������ĵ�ַ<span
lang=EN-US style='font-family:Wingdings'>��</span><span lang=EN-US>ds:si</span></p>

<p class=a><span lang=EN-US>&nbsp;<a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L88">88</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
mov&nbsp;&nbsp;&nbsp;&nbsp; ax,#INITSEG</span></p>

<p class=a><span lang=EN-US>&nbsp;<a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L89">89</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
mov&nbsp;&nbsp;&nbsp;&nbsp; es,ax</span></p>

<p class=a><span lang=EN-US>&nbsp;<a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L90">90</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
mov&nbsp;&nbsp;&nbsp;&nbsp; di,#0x0090&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;!
</span>�����Ŀ�ĵ�ַ<span lang=EN-US>: 0x9000:0x0090 </span><span lang=EN-US
style='font-family:Wingdings'>��</span><span lang=EN-US> es:di</span></p>

<p class=a><span lang=EN-US>&nbsp;<a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L91">91</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
mov&nbsp;&nbsp;&nbsp;&nbsp; cx,#0x10</span></p>

<p class=a><span lang=EN-US>&nbsp;<a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L92">92</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
rep</span></p>

<p class=a><span lang=EN-US>&nbsp;<a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L93">93</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
movsb</span></p>

<p class=a><span lang=EN-US>&nbsp;<a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L94">94</a> </span></p>

<p class=a><span lang=EN-US>&nbsp;<a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L95">95</a> ! Check
that there IS a hd1 :-)</span></p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! </span>���ϵͳ�Ƿ��е�<span
lang=EN-US>2</span>��Ӳ�̡����û����ѵ�<span lang=EN-US>2</span>�������㡣</p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! </span>����<span lang=EN-US>BIOS</span>�жϵ���<span
lang=EN-US>0x13</span>��ȡ�����͹��ܣ����ܺ�<span lang=EN-US> ah = 0x15</span>��</p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! </span>���룺<span lang=EN-US>dl
= </span>�������ţ�<span lang=EN-US>0x8X</span>��Ӳ�̣�<span lang=EN-US>0x80</span>ָ��<span
lang=EN-US>1</span>��Ӳ�̣�<span lang=EN-US>0x81</span>��<span lang=EN-US>2</span>��Ӳ�̣�</p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! </span>�����<span lang=EN-US>ah
= </span>�����룻<span lang=EN-US>00 - </span>û������̣�<span lang=EN-US>CF</span>��λ��<span
lang=EN-US>01 - </span>��������û��<span lang=EN-US>change-line</span>֧�֣�</p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp;
!&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
02 - </span>������<span lang=EN-US>(</span>���������ƶ��豸<span lang=EN-US>)</span>����<span
lang=EN-US>change-line</span>֧�֣�<span lang=EN-US> 03 - </span>��Ӳ�̡�</p>

<p class=a><span lang=EN-US>&nbsp;<a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L96">96</a> </span></p>

<p class=a><span lang=EN-US>&nbsp;<a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L97">97</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
mov&nbsp;&nbsp;&nbsp;&nbsp; ax,#0x01500</span></p>

<p class=a><span lang=EN-US>&nbsp;<a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L98">98</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
mov&nbsp;&nbsp;&nbsp;&nbsp; dl,#0x81</span></p>

<p class=a><span lang=EN-US>&nbsp;<a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L99">99</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
int&nbsp;&nbsp;&nbsp;&nbsp; 0x13</span></p>

<p class=a><span lang=EN-US><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L100">100</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
jc&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; no_disk1</span></p>

<p class=a><span lang=EN-US><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L101">101</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
cmp&nbsp;&nbsp;&nbsp;&nbsp; ah,#3&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
! </span>��Ӳ����<span lang=EN-US>(</span>����<span lang=EN-US> = 3 </span>��<span
lang=EN-US>)</span>��</p>

<p class=a><span lang=EN-US><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L102">102</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
je&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; is_disk1</span></p>

<p class=a><span lang=EN-US><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L103">103</a>
no_disk1:</span></p>

<p class=a><span lang=EN-US><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L104">104</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
mov&nbsp;&nbsp;&nbsp;&nbsp; ax,#INITSEG&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
! </span>��<span lang=EN-US>2</span>��Ӳ�̲����ڣ���Ե�<span lang=EN-US>2</span>��Ӳ�̱����㡣</p>

<p class=a><span lang=EN-US><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L105">105</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
mov&nbsp;&nbsp;&nbsp;&nbsp; es,ax</span></p>

<p class=a><span lang=EN-US><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L106">106</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
mov&nbsp;&nbsp;&nbsp;&nbsp; di,#0x0090</span></p>

<p class=a><span lang=EN-US><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L107">107</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
mov&nbsp;&nbsp;&nbsp;&nbsp; cx,#0x10</span></p>

<p class=a><span lang=EN-US><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L108">108</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
mov&nbsp;&nbsp;&nbsp;&nbsp; ax,#0x00</span></p>

<p class=a><span lang=EN-US><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L109">109</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
rep</span></p>

<p class=a><span lang=EN-US><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L110">110</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
stosb</span></p>

<p class=a><span lang=EN-US><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L111">111</a>
is_disk1:</span></p>

<p class=a><span lang=EN-US><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L112">112</a> </span></p>

<p class=a><span lang=EN-US><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L113">113</a> ! now
we want to move to protected mode ...</span></p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! </span>��������Ҫ���뱣��ģʽ����<span
lang=EN-US>...</span></p>

<p class=a><span lang=EN-US><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L114">114</a> </span></p>

<p class=a><span lang=EN-US><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L115">115</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
cli&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
! no interrupts allowed !&nbsp;&nbsp;&nbsp;&nbsp; ! </span>�Ӵ˿�ʼ�������жϡ�</p>

<p class=a><span lang=EN-US><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L116">116</a> </span></p>

<p class=a><span lang=EN-US><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L117">117</a> !
first we move the system to it's rightful place</span></p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! </span>�������ǽ�<span lang=EN-US>system</span>ģ���Ƶ���ȷ��λ�á�</p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! bootsect</span>����������<span
lang=EN-US> system </span>ģ����뵽�ڴ�<span lang=EN-US> 0x10000</span>��<span
lang=EN-US>64KB</span>����ʼ��λ�á����ڵ�ʱ����</p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! system</span>ģ����󳤶Ȳ��ᳬ��<span
lang=EN-US>0x80000</span>��<span lang=EN-US>512KB</span>��������ĩ�˲��ᳬ���ڴ��ַ<span
lang=EN-US>0x90000</span>������</p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! bootsect</span>����Լ��ƶ���<span
lang=EN-US>0x90000</span>��ʼ�ĵط�������<span lang=EN-US>setup</span>���ص����ĺ��档������γ����</p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! </span>��;���ٰ�����<span
lang=EN-US>system</span>ģ���ƶ���<span lang=EN-US> 0x00000</span>λ�ã����Ѵ�<span
lang=EN-US> 0x10000</span>��<span lang=EN-US>0x8ffff </span>���ڴ����ݿ�</p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! </span>��<span lang=EN-US>512KB</span>����������ڴ�Ͷ��ƶ���<span
lang=EN-US>0x10000</span>��<span lang=EN-US>64KB</span>����λ�á�</p>

<p class=a><span lang=EN-US><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L118">118</a> </span></p>

<p class=a><span lang=EN-US><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L119">119</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
mov&nbsp;&nbsp;&nbsp;&nbsp; ax,#0x0000</span></p>

<p class=a><span lang=EN-US><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L120">120</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
cld&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
! 'direction'=0, movs moves forward</span></p>

<p class=a><span lang=EN-US><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L121">121</a>
do_move:</span></p>

<p class=a><span lang=EN-US><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L122">122</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
mov&nbsp;&nbsp;&nbsp;&nbsp;
es,ax&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ! destination
segment ! es:di</span>��Ŀ�ĵ�ַ<span lang=EN-US>(</span>��ʼΪ<span lang=EN-US>0x0:0x0)</span></p>

<p class=a><span lang=EN-US><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L123">123</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
add&nbsp;&nbsp;&nbsp;&nbsp; ax,#0x1000</span></p>

<p class=a><span lang=EN-US><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L124">124</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
cmp&nbsp;&nbsp;&nbsp;&nbsp; ax,#0x9000&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ! </span>�Ѿ������һ�Σ���<span
lang=EN-US>0x8000</span>�ο�ʼ��<span lang=EN-US>64KB</span>�������ƶ��ꣿ</p>

<p class=a><span lang=EN-US><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L125">125</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
jz&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; end_move&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
! </span>�ǣ�����ת��</p>

<p class=a><span lang=EN-US><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L126">126</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
mov&nbsp;&nbsp;&nbsp;&nbsp;
ds,ax&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ! source
segment&nbsp; ! ds:si</span>��Դ��ַ<span lang=EN-US>(</span>��ʼΪ<span lang=EN-US>0x1000:0x0)</span></p>

<p class=a><span lang=EN-US><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L127">127</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
sub&nbsp; &nbsp;&nbsp;&nbsp;di,di</span></p>

<p class=a><span lang=EN-US><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L128">128</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
sub&nbsp;&nbsp;&nbsp;&nbsp; si,si</span></p>

<p class=a><span lang=EN-US><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L129">129</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
mov&nbsp;&nbsp;&nbsp;&nbsp; cx,#0x8000&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ! </span>�ƶ�<span
lang=EN-US>0x8000</span>�֣�<span lang=EN-US>64KB</span>�ֽڣ���</p>

<p class=a><a name=L130></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L130"><span
lang=EN-US>130</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
rep</span></p>

<p class=a><a name=L131></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L131"><span
lang=EN-US>131</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
movsw</span></p>

<p class=a><a name=L132></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L132"><span
lang=EN-US>132</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
jmp&nbsp;&nbsp;&nbsp;&nbsp; do_move</span></p>

<p class=a><a name=L133></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L133"><span
lang=EN-US>133</span></a><span lang=EN-US> </span></p>

<p class=a><a name=L134></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L134"><span
lang=EN-US>134</span></a><span lang=EN-US> ! then we load the segment
descriptors</span></p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! </span>�˺����Ǽ��ض���������</p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! </span>�����￪ʼ������<span
lang=EN-US>32</span>λ����ģʽ�Ĳ����������Ҫ<span lang=EN-US>Intel 32</span>λ����ģʽ��̷����֪ʶ�ˣ�</p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! </span>�й��ⷽ�����Ϣ������б���ļ򵥽��ܻ�¼�е���ϸ˵�������������Ҫ˵�����ڽ���</p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! </span>����ģʽ������֮ǰ��������Ҫ�������ú���Ҫʹ�õĶ�����������������Ҫ����ȫ��������</p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! </span>�����ж�����������</p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; !</span></p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! </span>����ָ��<span lang=EN-US>lidt</span>���ڼ����ж�����������<span
lang=EN-US>IDT</span>���Ĵ��������Ĳ�������<span lang=EN-US>idt_48</span>����<span
lang=EN-US>6</span>�ֽڡ�ǰ<span lang=EN-US>2</span></p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! </span>�ֽڣ��ֽ�<span lang=EN-US>0-1</span>���������������ֽڳ���ֵ����<span
lang=EN-US>4</span>�ֽڣ��ֽ�<span lang=EN-US>2-5</span>��������������<span lang=EN-US>32</span>λ���Ի�</p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! </span>��ַ������ʽ�μ�����<span
lang=EN-US>218--220</span>�к�<span lang=EN-US>222--224</span>��˵�����ж����������е�ÿһ��<span
lang=EN-US>8</span>�ֽڱ���</p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! </span>ָ�������ж�ʱ��Ҫ���õĴ�����Ϣ�����ж�������Щ���ƣ���Ҫ�����������Ϣ��</p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; !</span></p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! lgdt</span>ָ�����ڼ���ȫ������������<span
lang=EN-US>GDT</span>���Ĵ��������������ʽ��<span lang=EN-US>lidt</span>ָ�����ͬ��ȫ������</p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! </span>�����е�ÿ���������<span
lang=EN-US>8</span>�ֽڣ������˱���ģʽ�����ݶκʹ���Σ��飩����Ϣ�� ���а���</p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! </span>�ε���󳤶����ƣ�<span
lang=EN-US>16</span>λ�����ε����Ե�ַ��ַ��<span lang=EN-US>32</span>λ�����ε���Ȩ�������Ƿ����ڴ桢��д</p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! </span>����Ȩ�Լ�����һЩ����ģʽ���еı�־���μ�����<span
lang=EN-US>205--216</span>�С�</p>

<p class=a><a name=L135></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L135"><span
lang=EN-US>135</span></a><span lang=EN-US> </span></p>

<p class=a><a name=L136></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L136"><span
lang=EN-US>136</span></a><span lang=EN-US> end_move:</span></p>

<p class=a><a name=L137></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L137"><span
lang=EN-US>137</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
mov&nbsp;&nbsp;&nbsp;&nbsp; ax,#SETUPSEG&nbsp;&nbsp;&nbsp; ! right, forgot this
at first. didn't work :-)</span></p>

<p class=a><a name=L138></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L138"><span
lang=EN-US>138</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
mov&nbsp;&nbsp;&nbsp;&nbsp; ds,ax&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
! ds</span>ָ�򱾳���<span lang=EN-US>(setup)</span>�Ρ�</p>

<p class=a><a name=L139></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L139"><span
lang=EN-US>139</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
lidt&nbsp;&nbsp;&nbsp;
idt_48&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ! load idt with
0,0&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;!
</span>����<span lang=EN-US>IDT</span>�Ĵ�����</p>

<p class=a><a name=L140></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L140"><span
lang=EN-US>140</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
lgdt&nbsp;&nbsp;&nbsp;
gdt_48&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ! load gdt with
whatever appropriate ! </span>����<span lang=EN-US>GDT</span>�Ĵ�����</p>

<p class=a><a name=L141></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L141"><span
lang=EN-US>141</span></a><span lang=EN-US> </span></p>

<p class=a><a name=L142></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L142"><span
lang=EN-US>142</span></a><span lang=EN-US> ! that was painless, now we enable
A20</span></p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! </span>���ϵĲ����ܼ򵥣��������ǿ���<span
lang=EN-US>A20</span>��ַ�ߡ�</p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! </span>Ϊ���ܹ����ʺ�ʹ��<span
lang=EN-US>1MB</span>���ϵ������ڴ棬������Ҫ���ȿ���<span lang=EN-US>A20</span>��ַ�ߡ��μ��������б���</p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! </span>�й�<span lang=EN-US>A20</span>�ź��ߵ�˵�����������漰��һЩ�˿ں�����ɲο�<span
lang=EN-US>kernel/chr_drv/keyboard.S</span></p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! </span>�����Լ��̽ӿڵ�˵�������ڻ����Ƿ�����������<span
lang=EN-US>A20</span>��ַ�ߣ����ǻ���Ҫ�ڽ��뱣��ģʽ</p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! </span>֮���ܷ���<span lang=EN-US>1MB</span>�����ڴ�֮���ڲ���һ�¡��������������<span
lang=EN-US>head.S</span>�����У�<span lang=EN-US>32--36</span>�У���</p>

<p class=a><a name=L143></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L143"><span
lang=EN-US>143</span></a><span lang=EN-US> </span></p>

<p class=a><a name=L144></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L144"><span
lang=EN-US>144</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
call&nbsp;&nbsp;&nbsp; empty_8042&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
! </span>����<span lang=EN-US>8042</span>״̬�Ĵ������ȴ����뻺�����ա�</p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
! </span>ֻ�е����뻺����Ϊ��ʱ�ſ��Զ���ִ��д���</p>

<p class=a><a name=L145></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L145"><span
lang=EN-US>145</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
mov&nbsp;&nbsp;&nbsp;&nbsp;
al,#0xD1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
! command write ! 0xD1</span>������<span lang=EN-US>-</span>��ʾҪд���ݵ�</p>

<p class=a><a name=L146></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L146"><span
lang=EN-US>146</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
out&nbsp;&nbsp;&nbsp;&nbsp; #0x64,al&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
! 8042</span>��<span lang=EN-US>P2</span>�˿ڡ�<span lang=EN-US>P2</span>�˿�λ<span
lang=EN-US>1</span>����<span lang=EN-US>A20</span>�ߵ�ѡͨ��</p>

<p class=a><a name=L147></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L147"><span
lang=EN-US>147</span></a><span lang=EN-US> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;call&nbsp;&nbsp;&nbsp;
empty_8042&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
! </span>�ȴ����뻺�����գ��������Ƿ񱻽��ܡ�</p>

<p class=a><a name=L148></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L148"><span
lang=EN-US>148</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
mov&nbsp;&nbsp;&nbsp;&nbsp;
al,#0xDF&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
! A20 on &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;! </span>ѡͨ<span lang=EN-US>A20</span>��ַ�ߵĲ�����</p>

<p class=a><a name=L149></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L149"><span
lang=EN-US>149</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
out&nbsp;&nbsp;&nbsp;&nbsp; #0x60,al&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
! </span>����Ҫд��<span lang=EN-US>0x60</span>�ڡ�</p>

<p class=a><a name=L150></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L150"><span
lang=EN-US>150</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
call&nbsp;&nbsp;&nbsp; empty_8042&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
! </span>����ʱ���뻺����Ϊ�գ����ʾ<span lang=EN-US>A20</span>���Ѿ�ѡͨ��</p>

<p class=a><a name=L151></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L151"><span
lang=EN-US>151</span></a><span lang=EN-US> </span></p>

<p class=a><a name=L152></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L152"><span
lang=EN-US>152</span></a><span lang=EN-US> ! well, that went ok, I hope. Now we
have to reprogram the interrupts :-(</span></p>

<p class=a><a name=L153></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L153"><span
lang=EN-US>153</span></a><span lang=EN-US> ! we put them right after the
intel-reserved hardware interrupts, at</span></p>

<p class=a><a name=L154></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L154"><span
lang=EN-US>154</span></a><span lang=EN-US> ! int 0x20-0x2F. There they won't mess up anything. Sadly IBM really</span></p>

<p class=a><a name=L155></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L155"><span
lang=EN-US>155</span></a><span lang=EN-US> ! messed this up with the original
PC, and they haven't been able to</span></p>

<p class=a><a name=L156></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L156"><span
lang=EN-US>156</span></a><span lang=EN-US> ! rectify it afterwards. Thus the
bios puts interrupts at 0x08-0x0f,</span></p>

<p class=a><a name=L157></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L157"><span
lang=EN-US>157</span></a><span lang=EN-US> ! which is used for the internal
hardware interrupts as well. We just</span></p>

<p class=a><a name=L158></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L158"><span
lang=EN-US>158</span></a><span lang=EN-US> ! have to reprogram the 8259's, and
it isn't fun.</span></p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! </span></p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! </span>ϣ������һ���������������Ǳ������¶��жϽ��б��<span
lang=EN-US> :-( </span>���ǽ����Ƿ�������</p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! </span>����<span lang=EN-US>Intel</span>������Ӳ���жϺ��棬��<span
lang=EN-US>int 0x20--0x2F</span>�����������ǲ��������ͻ��</p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! </span>���ҵ���<span lang=EN-US>IBM</span>��ԭ<span
lang=EN-US>PC</span>���и����ˣ��Ժ�Ҳû�о�������������<span lang=EN-US>PC</span>��<span
lang=EN-US>BIOS</span>���ж�</p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! </span>������<span lang=EN-US>0x08--0x0f</span>����Щ�ж�Ҳ�������ڲ�Ӳ���жϡ��������Ǿͱ������¶�<span
lang=EN-US>8259</span></p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! </span>�жϿ��������б�̣���һ�㶼û��˼��</p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; !</span></p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! PC</span>��ʹ��<span lang=EN-US>2</span>��<span
 lang=EN-US>8259A</span>оƬ�����ڶԿɱ�̿�����<span
 lang=EN-US>8259A</span>оƬ�ı�̷�����μ��������Ľ��ܡ�</p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! </span>��<span lang=EN-US>162</span>���϶���������֣�<span
lang=EN-US>0x00eb</span>����ֱ��ʹ�û������ʾ�����������תָ�����ʱ���á�</p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! 0xeb</span>��ֱ�ӽ���תָ��Ĳ����룬��<span
lang=EN-US>1</span>���ֽڵ����λ��ֵ�������ת��Χ��<span lang=EN-US>-127</span>��<span
lang=EN-US>127</span>��<span lang=EN-US>CPU</span></p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! </span>ͨ����������λ��ֵ�ӵ�<span
lang=EN-US>EIP</span>�Ĵ����о��γ�һ���µ���Ч��ַ����ʱ<span lang=EN-US>EIP</span>ָ����һ����ִ��</p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! </span>��ָ�ִ��ʱ�����ѵ�<span
lang=EN-US>CPU</span>ʱ����������<span lang=EN-US>7</span>��<span lang=EN-US>10</span>����<span
lang=EN-US>0x00eb </span>��ʾ��תֵ��<span lang=EN-US>0</span>��һ��ָ���</p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! </span>�˻���ֱ��ִ����һ��ָ�������ָ����ṩ<span
lang=EN-US>14--20</span>��<span lang=EN-US>CPU</span>ʱ�����ڵ��ӳ�ʱ�䡣��<span
lang=EN-US>as86</span></p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! </span>��û�б�ʾ��Ӧָ������Ƿ������<span
lang=EN-US>Linus</span>��<span lang=EN-US>setup.s</span>��һЩ�������о�ֱ��ʹ�û���������</p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! </span>ʾ����ָ����⣬ÿ���ղ���ָ��<span
lang=EN-US>NOP</span>��ʱ����������<span lang=EN-US>3</span>���������Ҫ�ﵽ��ͬ���ӳ�Ч����</p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! </span>��Ҫ<span lang=EN-US>6</span>��<span
lang=EN-US>7</span>��<span lang=EN-US>NOP</span>ָ�</p>

<p class=a><a name=L159></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L159"><span
lang=EN-US>159</span></a><span lang=EN-US> </span></p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! 8259</span>оƬ��Ƭ�˿���<span
lang=EN-US>0x20-0x21</span>����Ƭ�˿���<span lang=EN-US>0xA0-0xA1</span>�����ֵ<span
lang=EN-US>0x11</span>��ʾ��ʼ�����ʼ��</p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! </span>����<span lang=EN-US>ICW1</span>�����֣���ʾ���ش�������Ƭ<span
lang=EN-US>8259</span>���������Ҫ����<span lang=EN-US>ICW4</span>�����֡�</p>

<p class=a><a name=L160></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L160"><span
lang=EN-US>160</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
mov&nbsp;&nbsp;&nbsp;&nbsp;
al,#0x11&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
! initialization sequence</span></p>

<p class=a><a name=L161></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L161"><span
lang=EN-US>161</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
out&nbsp;&nbsp;&nbsp;&nbsp;
#0x20,al&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
! send it to 8259A-1 &nbsp;! </span>���͵�<span
 lang=EN-US>8259A</span>��оƬ��</p>

<p class=a><a name=L162></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L162"><span
lang=EN-US>162</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
.word&nbsp;&nbsp;
0x00eb,0x00eb&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ! jmp
$+2, jmp $+2&nbsp;&nbsp;&nbsp; ! '$'</span>��ʾ��ǰָ��ĵ�ַ��</p>

<p class=a><a name=L163></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L163"><span
lang=EN-US>163</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
out&nbsp;&nbsp;&nbsp;&nbsp;
#0xA0,al&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
! and to 8259A-2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ! </span>�ٷ��͵�<span
 lang=EN-US>8259A</span>��оƬ��</p>

<p class=a><a name=L164></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L164"><span
lang=EN-US>164</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
.word&nbsp;&nbsp; 0x00eb,0x00eb</span></p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! Linux</span>ϵͳӲ���жϺű����óɴ�<span
lang=EN-US>0x20</span>��ʼ���μ���<span lang=EN-US>3-2</span>��Ӳ���ж������ź����жϺŶ�Ӧ����</p>

<p class=a><a name=L165></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L165"><span
lang=EN-US>165</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
mov&nbsp;&nbsp;&nbsp;&nbsp;
al,#0x20&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
! start of hardware int's (0x20)</span></p>

<p class=a><a name=L166></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L166"><span
lang=EN-US>166</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
out&nbsp;&nbsp;&nbsp; &nbsp;#0x21,al&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
! </span>����оƬ<span lang=EN-US>ICW2</span>�����֣�������ʼ�жϺţ�Ҫ����˿ڡ�</p>

<p class=a><a name=L167></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L167"><span
lang=EN-US>167</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
.word&nbsp;&nbsp; 0x00eb,0x00eb</span></p>

<p class=a><a name=L168></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L168"><span
lang=EN-US>168</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;mov&nbsp;&nbsp;&nbsp;&nbsp;
al,#0x28&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
! start of hardware int's 2 (0x28)</span></p>

<p class=a><a name=L169></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L169"><span
lang=EN-US>169</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
out&nbsp;&nbsp;&nbsp;&nbsp; #0xA1,al&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
! </span>�ʹ�оƬ<span lang=EN-US>ICW2</span>�����֣���оƬ����ʼ�жϺš�</p>

<p class=a><a name=L170></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L170"><span
lang=EN-US>170</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
.word&nbsp;&nbsp; 0x00eb,0x00eb</span></p>

<p class=a><a name=L171></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L171"><span
lang=EN-US>171</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
mov&nbsp;&nbsp;&nbsp;&nbsp;
al,#0x04&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
! 8259-1 is master</span></p>

<p class=a><a name=L172></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L172"><span
lang=EN-US>172</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
out&nbsp;&nbsp;&nbsp;&nbsp; #0x21,al&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
! </span>����оƬ<span lang=EN-US>ICW3</span>�����֣���оƬ��<span lang=EN-US>IR2</span>����оƬ<span
lang=EN-US>INT</span>��</p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>���μ������б����˵����</p>

<p class=a><a name=L173></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L173"><span
lang=EN-US>173</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
.word&nbsp;&nbsp; 0x00eb,0x00eb</span></p>

<p class=a><a name=L174></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L174"><span
lang=EN-US>174</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
mov&nbsp;&nbsp;&nbsp;&nbsp;
al,#0x02&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
! 8259-2 is slave</span></p>

<p class=a><a name=L175></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L175"><span
lang=EN-US>175</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
out&nbsp;&nbsp;&nbsp;&nbsp; #0xA1,al&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
! </span>�ʹ�оƬ<span lang=EN-US>ICW3</span>�����֣���ʾ��оƬ��<span lang=EN-US>INT</span>������о</p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;! </span>Ƭ��<span
lang=EN-US>IR2</span>�����ϡ�</p>

<p class=a><a name=L176></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L176"><span
lang=EN-US>176</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
.word&nbsp;&nbsp; 0x00eb,0x00eb</span></p>

<p class=a><a name=L177></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L177"><span
lang=EN-US>177</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
mov&nbsp;&nbsp;&nbsp;&nbsp;
al,#0x01&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
! 8086 mode for both</span></p>

<p class=a><a name=L178></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L178"><span
lang=EN-US>178</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
out&nbsp;&nbsp;&nbsp;&nbsp; #0x21,al&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
! </span>����оƬ<span lang=EN-US>ICW4</span>�����֡�<span lang=EN-US>8086</span>ģʽ����ͨ<span
lang=EN-US>EOI</span>���ǻ���</p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
! </span>��ʽ���跢��ָ������λ����ʼ��������оƬ������</p>

<p class=a><a name=L179></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L179"><span
lang=EN-US>179</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
.word&nbsp;&nbsp; 0x00eb,0x00eb</span></p>

<p class=a><a name=L180></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L180"><span
lang=EN-US>180</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
out&nbsp;&nbsp;&nbsp;&nbsp; #0xA1,al&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>���ʹ�оƬ<span lang=EN-US>ICW4</span>�����֣�����ͬ�ϡ�</p>

<p class=a><a name=L181></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L181"><span
lang=EN-US>181</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
.word&nbsp;&nbsp; 0x00eb,0x00eb</span></p>

<p class=a><a name=L182></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L182"><span
lang=EN-US>182</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
mov&nbsp;&nbsp;&nbsp;&nbsp;
al,#0xFF&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
! mask off all interrupts for now</span></p>

<p class=a><a name=L183></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L183"><span
lang=EN-US>183</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
out&nbsp;&nbsp; &nbsp;&nbsp;#0x21,al&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
! </span>������оƬ�����ж�����</p>

<p class=a><a name=L184></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L184"><span
lang=EN-US>184</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
.word&nbsp;&nbsp; 0x00eb,0x00eb</span></p>

<p class=a><a name=L185></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L185"><span
lang=EN-US>185</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
out&nbsp;&nbsp;&nbsp;&nbsp; #0xA1,al&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>�����δ�оƬ�����ж�����</p>

<p class=a><a name=L186></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L186"><span
lang=EN-US>186</span></a><span lang=EN-US> </span></p>

<p class=a><a name=L187></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L187"><span
lang=EN-US>187</span></a><span lang=EN-US> ! well, that certainly wasn't fun
:-(. Hopefully it works, and we don't</span></p>

<p class=a><a name=L188></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L188"><span
lang=EN-US>188</span></a><span lang=EN-US> ! need no steenking BIOS anyway
(except for the initial loading :-).</span></p>

<p class=a><a name=L189></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L189"><span
lang=EN-US>189</span></a><span lang=EN-US> ! The BIOS-routine wants lots of
unnecessary data, and it's less</span></p>

<p class=a><a name=L190></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L190"><span
lang=EN-US>190</span></a><span lang=EN-US> ! &quot;interesting&quot; anyway.
This is how REAL programmers do it.</span></p>

<p class=a><a name=L191></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L191"><span
lang=EN-US>191</span></a><span lang=EN-US> !</span></p>

<p class=a><a name=L192></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L192"><span
lang=EN-US>192</span></a><span lang=EN-US> ! Well, now's the time to actually
move into protected mode. To make</span></p>

<p class=a><a name=L193></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L193"><span
lang=EN-US>193</span></a><span lang=EN-US> ! things as simple as possible, we
do no register set-up or anything,</span></p>

<p class=a><a name=L194></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L194"><span
lang=EN-US>194</span></a><span lang=EN-US> ! we let the gnu-compiled 32-bit
programs do that. We just jump to</span></p>

<p class=a><a name=L195></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L195"><span
lang=EN-US>195</span></a><span lang=EN-US> ! absolute address 0x00000, in
32-bit protected mode.</span></p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! </span></p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! </span>�ߣ�������α�̵�Ȼû��<span
lang=EN-US>:-(</span>����ϣ�������ܹ�������������Ҳ������Ҫ��ζ��<span lang=EN-US>BIOS </span></p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! </span>�ˣ����˳�ʼ����<span
lang=EN-US>:-)</span>��<span lang=EN-US>BIOS</span>�ӳ���Ҫ��ܶ಻��Ҫ�����ݣ�������һ�㶼ûȤ������</p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! </span>���������ĳ���Ա�������¡�</p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! </span></p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! </span>���ˣ�������������ʼ���뱣��ģʽ��ʱ���ˡ�Ϊ�˰��������þ����򵥣����ǲ�����</p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! </span>�Ĵ������ݽ����κ����á�������<span
lang=EN-US>gnu</span>�����<span lang=EN-US>32</span>λ����ȥ������Щ�¡��ڽ���<span
lang=EN-US>32</span>λ��</p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! </span>��ģʽʱ���ǽ��Ǽ򵥵���ת�����Ե�ַ<span
lang=EN-US>0x00000</span>����</p>

<p class=a><a name=L196></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L196"><span
lang=EN-US>196</span></a><span lang=EN-US> </span></p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! </span>�������ò�����<span
lang=EN-US>32</span>λ����ģʽ���С����ȼ��ػ���״̬��<span lang=EN-US>(lmsw-Load Machine Status
Word)</span>��</p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! </span>Ҳ�ƿ��ƼĴ���<span
lang=EN-US>CR0</span>�������λ<span lang=EN-US>0</span>��<span lang=EN-US>1</span>������<span
lang=EN-US>CPU</span>�л�������ģʽ��������������Ȩ��<span lang=EN-US>0</span>�У���</p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! </span>��ǰ��Ȩ��<span lang=EN-US>CPL=0</span>����ʱ�μĴ�����Ȼָ����ʵ��ַģʽ����ͬ�����Ե�ַ������ʵ��ַģʽ��</p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! </span>���Ե�ַ�������ڴ��ַ��ͬ���������øñ���λ�����һ��ָ�������һ���μ���תָ����</p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! </span>����ˢ��<span lang=EN-US>CPU</span>��ǰָ����С���Ϊ<span
lang=EN-US>CPU</span>����ִ��һ��ָ��֮ǰ���Ѵ��ڴ��ȡ��ָ��������</p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! </span>���롣Ȼ���ڽ��뱣��ģʽ�Ժ���Щ����ʵģʽ��Ԥ��ȡ�õ�ָ����Ϣ�ͱ�ò�����Ч����һ��</p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! </span>�μ���תָ��ͻ�ˢ��<span
lang=EN-US>CPU</span>�ĵ�ǰָ����У���������Щ��Ч��Ϣ�����⣬��<span lang=EN-US>Intel</span>��˾���ֲ�</p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! </span>�Ͻ���<span lang=EN-US>80386</span>������<span
lang=EN-US>CPU</span>Ӧ��ʹ��ָ��<span lang=EN-US>��mov cr0,ax</span>���л�������ģʽ��<span
lang=EN-US>lmsw</span>ָ������ڼ�����</p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! </span>ǰ��<span lang=EN-US>286 CPU</span>��</p>

<p class=a><span lang=EN-US>&nbsp;</span></p>

<p class=a><a name=L197></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L197"><span
lang=EN-US>197</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
mov&nbsp;&nbsp;&nbsp;&nbsp; ax,#0x0001&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; !
protected mode (PE) bit &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;! </span>����ģʽ����λ<span
lang=EN-US>(PE)</span>��</p>

<p class=a><a name=L198></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L198"><span
lang=EN-US>198</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
lmsw&nbsp;&nbsp;&nbsp;
ax&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
! This is it!&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
! </span>���������ػ���״̬��<span lang=EN-US>!</span></p>

<p class=a><a name=L199></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L199"><span
lang=EN-US>199</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
jmpi&nbsp;&nbsp;&nbsp;
0,8&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; !
jmp offset 0 of segment 8 (cs) ! </span>��ת��<span lang=EN-US>cs</span>��ƫ��<span
lang=EN-US>0</span>����</p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! </span>�����Ѿ���<span lang=EN-US>system</span>ģ���ƶ���<span
lang=EN-US>0x00000</span>��ʼ�ĵط��������Ͼ��е�ƫ�Ƶ�ַ��<span lang=EN-US>0</span>������ֵ<span
lang=EN-US>8</span>�Ѿ�</p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! </span>�Ǳ���ģʽ�µĶ�ѡ����ˣ�����ѡ�����������������������Լ���Ҫ�����Ȩ������ѡ�����</p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! </span>��Ϊ<span lang=EN-US>16</span>λ��<span
lang=EN-US>2</span>�ֽڣ���λ<span lang=EN-US>0-1</span>��ʾ�������Ȩ��<span lang=EN-US>0--3</span>����<span
lang=EN-US>Linux</span>����ϵͳֻ�õ�������<span lang=EN-US>0</span>������</p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! </span>�˼�����<span lang=EN-US>3</span>�����û�������λ<span
lang=EN-US>2</span>����ѡ��ȫ������������<span lang=EN-US>0</span>�����Ǿֲ���������<span
lang=EN-US>(1)</span>��λ<span lang=EN-US>3-15</span>����</p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! </span>���������������ָ��ѡ��ڼ��������������Զ�ѡ���<span
lang=EN-US>8</span>��<span lang=EN-US>0b0000,0000,0000,1000</span>����ʾ����</p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! </span>��Ȩ��<span lang=EN-US>0</span>��ʹ��ȫ����������<span
lang=EN-US>GDT</span>�е�<span lang=EN-US>2</span>���������������ָ������Ļ���ַ��<span
lang=EN-US>0</span>���μ�<span lang=EN-US>571</span>�У���</p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! </span>����������תָ��ͻ�ȥִ��<span
lang=EN-US>system</span>�еĴ��롣���⣬</p>

<p class=a><a name=L200></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L200"><span
lang=EN-US>200</span></a><span lang=EN-US> </span></p>

<p class=a><a name=L201></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L201"><span
lang=EN-US>201</span></a><span lang=EN-US> ! This routine checks that the
keyboard command queue is empty</span></p>

<p class=a><a name=L202></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L202"><span
lang=EN-US>202</span></a><span lang=EN-US> ! No timeout is used - if this hangs
there is something wrong with</span></p>

<p class=a><a name=L203></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L203"><span
lang=EN-US>203</span></a><span lang=EN-US> ! the machine, and we probably
couldn't proceed anyway.</span></p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! </span>��������ӳ����������������Ƿ�Ϊ�ա����ﲻʹ�ó�ʱ����<span
lang=EN-US> - </span></p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! </span>���������������˵��<span
lang=EN-US>PC</span>�������⣬���Ǿ�û�а취�ٴ�����ȥ�ˡ�</p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! </span></p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! </span>ֻ�е����뻺����Ϊ��ʱ�����̿�����״̬�Ĵ���λ<span
lang=EN-US>1 = 0</span>���ſ��Զ���ִ��д���</p>

<p class=a><a name=L204></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L204"><span
lang=EN-US>204</span></a><span lang=EN-US> empty_8042:</span></p>

<p class=a><a name=L205></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L205"><span
lang=EN-US>205</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
.word&nbsp;&nbsp; 0x00eb,0x00eb</span></p>

<p class=a><a name=L206></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L206"><span
lang=EN-US>206</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
in&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
al,#0x64&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ! 8042 status port&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
! </span>��<span lang=EN-US>AT</span>���̿�����״̬�Ĵ�����</p>

<p class=a><a name=L207></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L207"><span
lang=EN-US>207</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
test&nbsp;&nbsp;&nbsp;
al,#2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ! is input
buffer full?&nbsp;&nbsp;&nbsp; ! </span>����λ<span lang=EN-US>1</span>�����뻺��������</p>

<p class=a><a name=L208></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L208"><span
lang=EN-US>208</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
jnz&nbsp;&nbsp;&nbsp;&nbsp; empty_8042&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ! yes -
loop</span></p>

<p class=a><a name=L209></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L209"><span
lang=EN-US>209</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
ret</span></p>

<p class=a><a name=L210></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L210"><span
lang=EN-US>210</span></a><span lang=EN-US> </span></p>

<p class=a><a name=L211></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L211"><span
lang=EN-US>211</span></a><span lang=EN-US> ! Routine trying to recognize type
of SVGA-board present (if any)</span></p>

<p class=a><a name=L212></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L212"><span
lang=EN-US>212</span></a><span lang=EN-US> ! and if it recognize one gives the
choices of resolution it offers.</span></p>

<p class=a><a name=L213></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L213"><span
lang=EN-US>213</span></a><span lang=EN-US> ! If one is found the resolution
chosen is given by al,ah (rows,cols).</span></p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! </span>����������ʶ��<span
lang=EN-US>SVGA</span>��ʾ�������еĻ������ӳ�����ʶ���һ������û�</p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! </span>�ṩѡ��ֱ��ʵĻ��ᣬ���ѷֱ��ʷ���Ĵ���<span
lang=EN-US>al</span>��<span lang=EN-US>ah</span>���С��У��з��ء�</p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! </span></p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! </span>ע������<span lang=EN-US>215--566</span>�д���ǣ�浽�ڶ���ʾ���˿���Ϣ����˱Ƚϸ��ӡ���������δ������ں�</p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! </span>���й�ϵ������˿�������������</p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! </span>����������ʾ<span lang=EN-US>588</span>���ϵ�<span
lang=EN-US>msg1</span>�ַ�����<span lang=EN-US>&quot;</span>��<span lang=EN-US>&lt;</span>�س���<span
lang=EN-US>&gt;</span>�鿴���ڵ�<span lang=EN-US>SVGA</span>ģʽ�������������<span
lang=EN-US>&quot;</span>����</p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! </span>Ȼ��ѭ����ȡ���̿�����������������ȴ��û�����������û����»س�����ȥ���ϵͳ����</p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! </span>��<span lang=EN-US>SVGA</span>ģʽ������<span
lang=EN-US>AL</span>��<span lang=EN-US>AH</span>�з����������ֵ����������Ĭ��ֵ<span
lang=EN-US>AL=25</span>�С�<span lang=EN-US>AH=80</span>�в����ء�</p>

<p class=a><a name=L214></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L214"><span
lang=EN-US>214</span></a><span lang=EN-US> </span></p>

<p class=a><a name=L215></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L215"><span
lang=EN-US>215</span></a><span lang=EN-US> chsvga: cld</span></p>

<p class=a><a name=L216></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L216"><span
lang=EN-US>216</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
push&nbsp;&nbsp;&nbsp; ds&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
! </span>����<span lang=EN-US>ds</span>ֵ������<span lang=EN-US>231</span>�У���<span
lang=EN-US>490</span>��<span lang=EN-US>492</span>�У�������</p>

<p class=a><a name=L217></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L217"><span
lang=EN-US>217</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;push&nbsp;&nbsp;&nbsp;
cs&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
! </span>��Ĭ�����ݶ����óɺʹ����ͬһ���Ρ�</p>

<p class=a><a name=L218></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L218"><span
lang=EN-US>218</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
pop&nbsp;&nbsp;&nbsp;&nbsp; ds</span></p>

<p class=a><a name=L219></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L219"><span
lang=EN-US>219</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
mov&nbsp;&nbsp;&nbsp;&nbsp; ax,#0xc000</span></p>

<p class=a><a name=L220></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L220"><span
lang=EN-US>220</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
mov&nbsp;&nbsp;&nbsp;&nbsp; es,ax&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
! es </span>ָ��<span lang=EN-US>0xc000</span>�Ρ��˴���<span lang=EN-US>VGA</span>���ϵ�<span
lang=EN-US>ROM BIOS</span>����</p>

<p class=a><a name=L221></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L221"><span
lang=EN-US>221</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
lea &nbsp;&nbsp;&nbsp;&nbsp;si,msg1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
! ds:si</span>ָ��<span lang=EN-US>msg1</span>�ַ�����</p>

<p class=a><a name=L222></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L222"><span
lang=EN-US>222</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
call&nbsp;&nbsp;&nbsp; prtstr&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
! </span>��ʾ��<span lang=EN-US>NULL</span>��β��<span lang=EN-US>msg1</span>�ַ�����</p>

<p class=a><a name=L223></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L223"><span
lang=EN-US>223</span></a><span lang=EN-US> nokey:&nbsp;
in&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; al,#0x60&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
! </span>��ȡ���̿�������������������Լ��̵�ɨ����������</p>

<p class=a><a name=L224></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L224"><span
lang=EN-US>224</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
cmp&nbsp;&nbsp;&nbsp;&nbsp; al,#0x82&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
! </span>����յ���<span lang=EN-US>0x82</span>С��ɨ�������ǽ�ͨɨ���룬��Ϊ<span lang=EN-US>0x82</span>��</p>

<p class=a><a name=L225></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L225"><span
lang=EN-US>225</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
jb&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; nokey&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
! </span>��С�Ͽ�ɨ����ֵ��С��<span lang=EN-US>0x82</span>��ʾ��û�а����ɿ���</p>

<p class=a><a name=L226></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L226"><span
lang=EN-US>226</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
cmp&nbsp;&nbsp;&nbsp;&nbsp; al,#0xe0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
! </span>���ɨ�������<span lang=EN-US>0xe0</span>����ʾ�յ�������չɨ����ǰ׺��</p>

<p class=a><a name=L227></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L227"><span
lang=EN-US>227</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
ja&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; nokey</span></p>

<p class=a><a name=L228></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L228"><span
lang=EN-US>228</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
cmp&nbsp;&nbsp;&nbsp;&nbsp; al,#0x9c&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ! </span>����Ͽ�ɨ������<span lang=EN-US>0x9c</span>����ʾ�û�����<span
lang=EN-US>/</span>�ɿ��˻س�����</p>

<p class=a><a name=L229></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L229"><span
lang=EN-US>229</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
je&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; svga&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
! </span>���ǳ�����תȥ���ϵͳ�Ƿ����<span lang=EN-US>SVGA</span>ģʽ��</p>

<p class=a><a name=L230></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L230"><span
lang=EN-US>230</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
mov&nbsp;&nbsp;&nbsp;&nbsp; ax,#0x5019&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ! </span>�����<span
lang=EN-US>AX</span>�з�������ֵĬ������Ϊ<span lang=EN-US>AL=25</span>�С�<span lang=EN-US>AH=80</span>�С�</p>

<p class=a><a name=L231></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L231"><span
lang=EN-US>231</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
pop&nbsp;&nbsp;&nbsp;&nbsp; ds</span></p>

<p class=a><a name=L232></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L232"><span
lang=EN-US>232</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
ret</span></p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! </span>�������<span lang=EN-US>VGA</span>��ʾ���ϵ�<span
lang=EN-US>ROM BIOS</span>ָ��λ�ô����������ݴ�����֧�ֵ��ر������жϻ�����</p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! </span>��װ����ʲô���ӵ���ʾ����������֧��<span
lang=EN-US>10</span>����ʾ������չ���ܡ�ע�⣬��ʱ�����Ѿ��ڵ�</p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! 220</span>�а�<span lang=EN-US>es</span>ָ��<span
lang=EN-US>VGA</span>����<span lang=EN-US>ROM BIOS</span>���ڵĶ�<span lang=EN-US>0xc000</span>���μ���<span
lang=EN-US>2</span>�£���</p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! </span>�����ж��ǲ���<span
lang=EN-US>ATI</span>��ʾ�������ǰ� <span lang=EN-US>ds:si</span>ָ��<span lang=EN-US>595</span>����<span
lang=EN-US>ATI</span>��ʾ���������ݴ�������<span lang=EN-US>es:si</span>ָ</p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! </span>��<span lang=EN-US>VGA
BIOS</span>��ָ��λ�ã�ƫ��<span lang=EN-US>0x31</span>��������Ϊ������������<span lang=EN-US>9</span>���ַ���<span
lang=EN-US>&quot;761295520&quot;</span>���������</p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! </span>��ѭ���Ƚ�����������������ͬ���ʾ�����е�<span
lang=EN-US>VGA</span>����<span lang=EN-US>ATI</span>���ӵģ�������<span lang=EN-US>ds:si</span>ָ�����</p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! </span>ʾ���������õ�����ģʽֵ<span
lang=EN-US>dscati</span>����<span lang=EN-US>615</span>�У�����<span lang=EN-US>di</span>ָ��<span
lang=EN-US>ATI</span>�������õ����и�����ģʽ��</p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! </span>����ת�����<span lang=EN-US>selmod</span>��<span
lang=EN-US>438</span>�У�����һ���������á�</p>

<p class=a><a name=L233></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L233"><span
lang=EN-US>233</span></a><span lang=EN-US> svga:&nbsp;&nbsp;
lea&nbsp;&nbsp;&nbsp;&nbsp;
si,idati&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ! Check ATI 'clues'&nbsp;
! </span>����ж�<span lang=EN-US> ATI</span>��ʾ�������ݡ�</p>

<p class=a><a name=L234></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L234"><span
lang=EN-US>234</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
mov&nbsp;&nbsp;&nbsp;&nbsp; di,#0x31&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
! </span>��������<span lang=EN-US>0xc000:0x0031</span>��ʼ��</p>

<p class=a><a name=L235></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L235"><span
lang=EN-US>235</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
mov&nbsp;&nbsp;&nbsp;&nbsp; cx,#0x09&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
! </span>��������<span lang=EN-US>9</span>���ֽڡ�</p>

<p class=a><a name=L236></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L236"><span
lang=EN-US>236</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
repe</span></p>

<p class=a><a name=L237></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L237"><span
lang=EN-US>237</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
cmpsb</span></p>

<p class=a><a name=L238></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L238"><span
lang=EN-US>238</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
jne&nbsp;&nbsp;&nbsp;&nbsp; noati&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;! </span>����������ͬ���ʾ����<span lang=EN-US>ATI</span>��ʾ������ת������⿨��</p>

<p class=a><a name=L239></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L239"><span
lang=EN-US>239</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
lea&nbsp;&nbsp;&nbsp;&nbsp; si,dscati&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
! </span>���<span lang=EN-US>9</span>���ֽڶ���ͬ����ʾϵͳ����һ��<span lang=EN-US>ATI</span>����ʾ����</p>

<p class=a><a name=L240></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L240"><span
lang=EN-US>240</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
lea&nbsp;&nbsp;&nbsp;&nbsp; di,moati&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
! </span>����<span lang=EN-US>si</span>ָ��<span lang=EN-US>ATI</span>�����еĿ�ѡ����ֵ��<span
lang=EN-US>di</span>ָ���ѡ����</p>

<p class=a><a name=L241></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L241"><span
lang=EN-US>241</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
lea&nbsp;&nbsp;&nbsp;&nbsp; cx,selmod&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
! </span>��ģʽ�б���Ȼ����ת��<span lang=EN-US>selmod</span>��<span lang=EN-US>438</span>�У�������������</p>

<p class=a><a name=L242></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L242"><span
lang=EN-US>242</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
jmp&nbsp;&nbsp;&nbsp;&nbsp; cx</span></p>

<p class=a><span lang=EN-US>&nbsp;</span></p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! </span>�������ж��ǲ���<span
lang=EN-US>Ahead</span>���ӵ���ʾ����������<span lang=EN-US>EGA/VGA </span>ͼ�������Ĵ���<span
lang=EN-US>0x3ce</span>д������ʵ�</p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! </span>�������Ĵ���������<span
lang=EN-US>0x0f</span>��ͬʱ��<span
lang=EN-US>0x3cf</span>�˿ڣ���ʱ��Ӧ�������Ĵ�����д�뿪����չ�Ĵ���</p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! </span>��־ֵ<span lang=EN-US>0x20</span>��Ȼ��ͨ��<span
lang=EN-US>0x3cf</span>�˿ڶ�ȡ�������Ĵ���ֵ���Լ���Ƿ�������ÿ�����չ�Ĵ���</p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! </span>��־�����������˵����<span
lang=EN-US>Ahead</span>���ӵ���ʾ����ע��<span lang=EN-US>word</span>���ʱ<span
lang=EN-US>al</span><span lang=EN-US style='font-family:Wingdings'>��</span>�˿�<span
lang=EN-US>n</span>��<span lang=EN-US>ah</span><span lang=EN-US
style='font-family:Wingdings'>��</span>�˿�<span lang=EN-US>n+1</span>��</p>

<p class=a><a name=L243></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L243"><span
lang=EN-US>243</span></a><span lang=EN-US> noati:&nbsp;
mov&nbsp;&nbsp;&nbsp;&nbsp; ax,#0x200f&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ! Check Ahead 'clues'</span></p>

<p class=a><a name=L244></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L244"><span
lang=EN-US>244</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
mov&nbsp;&nbsp;&nbsp;&nbsp; dx,#0x3ce&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
! </span>���ݶ˿�ָ���������Ĵ�����<span lang=EN-US>0x0f</span><span
lang=EN-US style='font-family:Wingdings'>��</span><span lang=EN-US>0x3ce</span>�˿ڣ���</p>

<p class=a><a name=L245></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L245"><span
lang=EN-US>245</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
out&nbsp;&nbsp;&nbsp;&nbsp; dx,ax &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;!
</span>�����ÿ�����չ�Ĵ�����־��<span lang=EN-US>0x20</span><span lang=EN-US
style='font-family:Wingdings'>��</span><span lang=EN-US>0x3cf</span>�˿ڣ���</p>

<p class=a><a name=L246></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L246"><span
lang=EN-US>246</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
inc&nbsp;&nbsp;&nbsp;&nbsp; dx&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
! </span>Ȼ���ٶ�ȡ�üĴ��������ñ�־�Ƿ������ϡ�</p>

<p class=a><a name=L247></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L247"><span
lang=EN-US>247</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
in&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; al,dx</span></p>

<p class=a><a name=L248></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L248"><span
lang=EN-US>248</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
cmp&nbsp;&nbsp;&nbsp;&nbsp; al,#0x20&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
! </span>�����ȡֵ��<span lang=EN-US>0x20</span>�����ʾ��<span lang=EN-US>Ahead A</span>��ʾ����</p>

<p class=a><a name=L249></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L249"><span
lang=EN-US>249</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
je&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; isahed&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
! </span>�����ȡֵ��<span lang=EN-US>0x21</span>�����ʾ��<span lang=EN-US>Ahead B</span>��ʾ����</p>

<p class=a><a name=L250></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L250"><span
lang=EN-US>250</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
cmp&nbsp;&nbsp;&nbsp;&nbsp; al,#0x21&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
! </span>����˵������<span lang=EN-US>Ahead</span>��ʾ����������ת����������࿨��</p>

<p class=a><a name=L251></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L251"><span
lang=EN-US>251</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
jne&nbsp;&nbsp;&nbsp;&nbsp; noahed</span></p>

<p class=a><a name=L252></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L252"><span
lang=EN-US>252</span></a><span lang=EN-US> isahed: lea&nbsp;&nbsp;&nbsp;&nbsp;
si,dscahead&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ! si </span>ָ��<span lang=EN-US>Ahead</span>��ʾ����ѡ����ֵ����<span
lang=EN-US>di</span>ָ����չģʽ��</p>

<p class=a><a name=L253></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L253"><span
lang=EN-US>253</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
lea&nbsp;&nbsp;&nbsp;&nbsp; di,moahead&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ! </span>������չģʽ���б���Ȼ����ת��<span
lang=EN-US>selmod</span>��<span lang=EN-US>438</span>�У�����</p>

<p class=a><a name=L254></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L254"><span
lang=EN-US>254</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
lea&nbsp;&nbsp;&nbsp;&nbsp; cx,selmod&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
! </span>��������</p>

<p class=a><a name=L255></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L255"><span
lang=EN-US>255</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
jmp&nbsp;&nbsp;&nbsp;&nbsp; cx</span></p>

<p class=a><span lang=EN-US>&nbsp;</span></p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! </span>����������ǲ���<span
lang=EN-US>Chips &amp; Tech</span>��������ʾ����ͨ���˿�<span lang=EN-US>0x3c3</span>��<span
lang=EN-US>0x94</span>��<span lang=EN-US>0x46e8</span>������<span lang=EN-US>VGA</span>����</p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! </span>�Ĵ����Ľ�������ģʽ��־��λ<span
lang=EN-US>4</span>����Ȼ��Ӷ˿�<span lang=EN-US>0x104</span>��ȡ��ʾ��оƬ����ʶֵ������ñ�ʶֵ</p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! </span>��<span lang=EN-US>0xA5</span>����˵����<span
lang=EN-US>Chips &amp; Tech</span>��������ʾ����</p>

<p class=a><a name=L256></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L256"><span
lang=EN-US>256</span></a><span lang=EN-US> noahed: mov&nbsp;&nbsp;&nbsp;&nbsp;
dx,#0x3c3&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ! Check Chips &amp; Tech. 'clues'</span></p>

<p class=a><a name=L257></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L257"><span
lang=EN-US>257</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
in&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; al,dx&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
! </span>��<span lang=EN-US>0x3c3</span>�˿ڶ�ȡ<span
lang=EN-US>VGA</span>�����Ĵ���ֵ�������Ͻ�������ģʽ</p>

<p class=a><a name=L258></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L258"><span
lang=EN-US>258</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
or&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; al,#0x10&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
! </span>��־��λ<span lang=EN-US>4</span>������д�ء�</p>

<p class=a><a name=L259></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L259"><span
lang=EN-US>259</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
out&nbsp;&nbsp;&nbsp;&nbsp; dx,al</span></p>

<p class=a><a name=L260></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L260"><span
lang=EN-US>260</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
mov&nbsp;&nbsp;&nbsp;&nbsp; dx,#0x104&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
! </span>������ģʽʱ��ȫ�ֱ�ʶ�˿�<span lang=EN-US>0x104</span>��ȡ��ʾ��оƬ��ʶֵ��</p>

<p class=a><span lang=EN-US><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L261">261</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
in&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; al,dx&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
! </span>����ʱ�����<span lang=EN-US>bl</span>�Ĵ����С�</p>

<p class=a><span lang=EN-US><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L262">262</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
mov&nbsp;&nbsp;&nbsp;&nbsp; bl,al</span></p>

<p class=a><span lang=EN-US><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L263">263</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
mov&nbsp;&nbsp;&nbsp;&nbsp; dx,#0x3c3&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ! </span>Ȼ���<span lang=EN-US>0x3c3</span>�˿��еĽ�������ģʽ��־��λ��</p>

<p class=a><span lang=EN-US><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L264">264</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
in&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; al,dx</span></p>

<p class=a><span lang=EN-US><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L265">265</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
and&nbsp;&nbsp;&nbsp;&nbsp; al,#0xef</span></p>

<p class=a><span lang=EN-US><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L266">266</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
out&nbsp;&nbsp;&nbsp;&nbsp; dx,al</span></p>

<p class=a><span lang=EN-US><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L267">267</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
cmp&nbsp;&nbsp;&nbsp;&nbsp; bl,[idcandt]&nbsp;&nbsp;&nbsp;&nbsp; ! </span>�ٰ�<span
lang=EN-US>bl</span>�б�ʶֵ��λ��<span lang=EN-US>idcandt</span>������<span lang=EN-US>596</span>�У���<span
lang=EN-US>Chips &amp;</span></p>

<p class=a><span lang=EN-US><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L268">268</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
jne&nbsp;&nbsp;&nbsp;&nbsp; nocant&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
! Tech</span>�ı�ʶֵ<span lang=EN-US>0xA5</span>���Ƚϡ������ͬ����ת�Ƚ���һ���Կ���</p>

<p class=a><span lang=EN-US><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L269">269</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
lea&nbsp;&nbsp;&nbsp;&nbsp; si,dsccandt&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ! </span>��<span
lang=EN-US>si</span>ָ��������ʾ���Ŀ�ѡ����ֵ����<span lang=EN-US>di</span>ָ����չģʽ����</p>

<p class=a><span lang=EN-US><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L270">270</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
lea&nbsp;&nbsp;&nbsp;&nbsp; di,mocandt&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ! </span>����չģʽ���б���Ȼ����ת��<span
lang=EN-US>selmod</span>��<span lang=EN-US>438</span>�У���������</p>

<p class=a><span lang=EN-US><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L271">271</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
lea&nbsp;&nbsp;&nbsp;&nbsp; cx,selmod&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
! </span>��ʾģʽ�Ĳ�����</p>

<p class=a><span lang=EN-US><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L272">272</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
jmp&nbsp;&nbsp;&nbsp;&nbsp; cx</span></p>

<p class=a><span lang=EN-US>&nbsp;</span></p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! </span>���ڼ���ǲ���<span
lang=EN-US>Cirrus</span>��ʾ����������ʹ��<span lang=EN-US>CRT</span>������������<span
lang=EN-US>0x1f</span>�Ĵ��������������Խ�ֹ��չ</p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! </span>���ܡ��üĴ�������Ϊӥ�꣨<span
lang=EN-US>Eagle ID</span>���Ĵ���������ֵ�ߵͰ��ֽڽ���һ�º�д��˿�<span lang=EN-US>0x3c4</span>��</p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! </span>����<span lang=EN-US>6</span>�ţ�����<span
lang=EN-US>/</span>��չ���Ĵ���Ӧ�û��ֹ<span lang=EN-US>Cirrus</span>��ʾ������չ���ܡ����������˵������<span
lang=EN-US>Cirrus</span></p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! </span>��ʾ������Ϊ�Ӷ˿�<span
lang=EN-US>0x3d4</span>������<span lang=EN-US>0x1f</span>ӥ��Ĵ����ж�ȡ��������ӥ��ֵ��<span
lang=EN-US>0x0c</span>�����Ŷ�Ӧ����</p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! </span>����ʼ��ַ���ֽڼĴ�������������֮���ֵ������ڶ�<span
lang=EN-US>0x1f</span>������֮ǰ������Ҫ�Ȱ��Դ���ʼ</p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! </span>���ֽڼĴ������ݱ�������㣬���ڼ���ָ�֮�����⣬��û�н�������<span
lang=EN-US>Eagle ID</span>ֵд��<span lang=EN-US>0x3c4</span></p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! </span>�˿�������<span lang=EN-US>6</span>�Ŷ���<span
lang=EN-US>/</span>��չ�Ĵ��������¿�����չ���ܡ�</p>

<p class=a><span lang=EN-US><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L273">273</a>
nocant: mov&nbsp;&nbsp;&nbsp;&nbsp;
dx,#0x3d4&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ! Check Cirrus 'clues'</span></p>

<p class=a><span lang=EN-US><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L274">274</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
mov&nbsp;&nbsp;&nbsp;&nbsp; al,#0x0c&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ! </span>������<span lang=EN-US>CRT</span>���ƼĴ����������Ĵ����˿�<span lang=EN-US>0x3d4</span>д��Ҫ����</p>

<p class=a><span lang=EN-US><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L275">275</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
out&nbsp;&nbsp;&nbsp;&nbsp; dx,al&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
! </span>�ļĴ���������<span lang=EN-US>0x0c</span>����Ӧ�Դ���ʼ��ַ���ֽڼĴ�������</p>

<p class=a><span lang=EN-US><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L276">276</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
inc&nbsp;&nbsp;&nbsp;&nbsp; dx&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
! </span>Ȼ���<span lang=EN-US>0x3d5</span>�˿ڶ����Դ���ʼ��ַ���ֽڲ��ݴ���<span lang=EN-US>bl</span>�У�</p>

<p class=a><span lang=EN-US><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L277">277</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
in&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; al,dx&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
! </span>�ٰ��Դ���ʼ��ַ���ֽڼĴ������㡣</p>

<p class=a><span lang=EN-US><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L278">278</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
mov&nbsp;&nbsp;&nbsp;&nbsp; bl,al</span></p>

<p class=a><span lang=EN-US><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L279">279</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
xor&nbsp;&nbsp;&nbsp;&nbsp; al,al</span></p>

<p class=a><span lang=EN-US><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L280">280</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
out&nbsp;&nbsp;&nbsp;&nbsp; dx,al</span></p>

<p class=a><span lang=EN-US><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L281">281</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
dec&nbsp;&nbsp;&nbsp; &nbsp;dx&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
! </span>������<span lang=EN-US>0x3d4</span>�˿��������<span lang=EN-US>0x1f</span>��ָ������Ҫ��<span
lang=EN-US>0x3d5</span>�˿�</p>

<p class=a><span lang=EN-US><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L282">282</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
mov&nbsp;&nbsp;&nbsp;&nbsp; al,#0x1f&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ! </span>���ʶ�ȡ��<span lang=EN-US>Eagle ID</span>���Ĵ������ݡ�</p>

<p class=a><span lang=EN-US><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L283">283</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
out&nbsp;&nbsp;&nbsp;&nbsp; dx,al</span></p>

<p class=a><span lang=EN-US><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L284">284</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
inc&nbsp;&nbsp;&nbsp;&nbsp; dx</span></p>

<p class=a><span lang=EN-US><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L285">285</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
in&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; al,dx&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
! </span>��<span lang=EN-US>0x3d5</span>�˿ڶ�ȡ��<span lang=EN-US>Eagle ID</span>���Ĵ���ֵ�����ݴ���<span
lang=EN-US>bh</span>�С�</p>

<p class=a><span lang=EN-US><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L286">286</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
mov&nbsp;&nbsp;&nbsp;&nbsp; bh,al&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
! </span>Ȼ��Ѹ�ֵ�ߵ�<span lang=EN-US>4</span>���ػ���λ�ô�ŵ�<span lang=EN-US>cl</span>�С�������<span
lang=EN-US>8</span>λ</p>

<p class=a><span lang=EN-US><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L287">287</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
xor&nbsp;&nbsp;&nbsp;&nbsp; ah,ah&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
! </span>�����<span lang=EN-US>ch</span>�У���<span lang=EN-US>cl</span>�з�����ֵ<span
lang=EN-US>6</span>��</p>

<p class=a><span lang=EN-US><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L288">288</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
shl&nbsp;&nbsp;&nbsp;&nbsp; al,#4</span></p>

<p class=a><span lang=EN-US><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L289">289</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
mov&nbsp;&nbsp;&nbsp;&nbsp; cx,ax</span></p>

<p class=a><span lang=EN-US><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L290">290</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
mov&nbsp;&nbsp;&nbsp;&nbsp; al,bh</span></p>

<p class=a><span lang=EN-US><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L291">291</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
shr&nbsp;&nbsp;&nbsp;&nbsp; al,#4</span></p>

<p class=a><span lang=EN-US><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L292">292</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
add&nbsp;&nbsp;&nbsp;&nbsp; cx,ax</span></p>

<p class=a><span lang=EN-US><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L293">293</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
shl&nbsp;&nbsp;&nbsp;&nbsp; cx,#8</span></p>

<p class=a><span lang=EN-US><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L294">294</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
add&nbsp;&nbsp;&nbsp;&nbsp; cx,#6&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
! </span>����<span lang=EN-US>cx</span>ֵ�����<span lang=EN-US>ax</span>�С���ʱ<span
lang=EN-US>ah</span>���ǻ�λ��ġ�<span lang=EN-US>Eagle</span></p>

<p class=a><span lang=EN-US><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L295">295</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
mov&nbsp;&nbsp;&nbsp;&nbsp; ax,cx&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;!
ID</span>��ֵ��<span lang=EN-US>al</span>����������<span lang=EN-US>6</span>����Ӧ����<span
lang=EN-US>/</span>��չ�Ĵ�������<span lang=EN-US>ah</span></p>

<p class=a><span lang=EN-US><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L296">296</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
mov&nbsp;&nbsp;&nbsp;&nbsp; dx,#0x3c4&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ! </span>д��<span lang=EN-US>0x3c4</span>�˿������Ķ���<span
lang=EN-US>/</span>��չ�Ĵ���Ӧ�ûᵼ��<span lang=EN-US>Cirrus</span></p>

<p class=a><span lang=EN-US><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L297">297</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
out&nbsp;&nbsp;&nbsp;&nbsp; dx,ax&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;!
</span>��ʾ����ֹ��չ���ܡ�</p>

<p class=a><span lang=EN-US><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L298">298</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
inc&nbsp;&nbsp;&nbsp;&nbsp; dx</span></p>

<p class=a><span lang=EN-US><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L299">299</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
in&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; al,dx&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
! </span>�����չ������ı���ֹ����ô��ʱ�����ֵӦ��Ϊ<span lang=EN-US>0</span>��</p>

<p class=a><span lang=EN-US><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L300">300</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
and&nbsp;&nbsp;&nbsp;&nbsp; al,al&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
! </span>�����Ϊ<span lang=EN-US>0</span>���ʾ����<span lang=EN-US>Cirrus</span>��ʾ������ת���������������</p>

<p class=a><span lang=EN-US><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L301">301</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
jnz&nbsp;&nbsp;&nbsp;&nbsp; nocirr</span></p>

<p class=a><span lang=EN-US><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L302">302</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
mov&nbsp;&nbsp;&nbsp;&nbsp; al,bh&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
! </span>��<span lang=EN-US>Cirrus</span>��ʾ���������õ�<span lang=EN-US>286</span>�б�����<span
lang=EN-US>bh</span>�еġ�<span lang=EN-US>Eagle</span></p>

<p class=a><span lang=EN-US><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L303">303</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
out&nbsp;&nbsp;&nbsp;&nbsp; dx,al&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
! ID</span>��ԭֵ�����¿���<span lang=EN-US>Cirrus</span>����չ���ܡ���ʱ��ȡ�ķ���</p>

<p class=a><span lang=EN-US><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L304">304</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
in&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; al,dx&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
! </span>ֵӦ��Ϊ<span lang=EN-US>1</span>�������ǣ�����Ȼ˵������<span lang=EN-US>Cirrus</span>��ʾ����</p>

<p class=a><span lang=EN-US><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L305">305</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
cmp&nbsp;&nbsp;&nbsp;&nbsp; al,#0x01</span></p>

<p class=a><span lang=EN-US><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L306">306</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
jne&nbsp;&nbsp;&nbsp;&nbsp; nocirr</span></p>

<p class=a><span lang=EN-US><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L307">307</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
call&nbsp;&nbsp;&nbsp; rst3d4&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;!
</span>�ָ�<span lang=EN-US>CRT</span>����������ʾ��ʼ��ַ���ֽڼĴ������ݡ�</p>

<p class=a><span lang=EN-US><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L308">308</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
lea&nbsp;&nbsp;&nbsp;&nbsp; si,dsccirrus&nbsp;&nbsp;&nbsp;&nbsp; ! si</span>ָ��<span
lang=EN-US>Cirrus</span>��ʾ���Ŀ�ѡ����ֵ��<span lang=EN-US>di</span>ָ����չģʽ����</p>

<p class=a><span lang=EN-US><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L309">309</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
lea&nbsp;&nbsp;&nbsp;&nbsp; di,mocirrus&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ! </span>�Ͷ�Ӧģʽ�š�Ȼ����ת��<span
lang=EN-US>selmod</span>��ȥѡ����ʾģʽ��</p>

<p class=a><span lang=EN-US><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L310">310</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
lea&nbsp;&nbsp;&nbsp;&nbsp; cx,selmod</span></p>

<p class=a><span lang=EN-US><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L311">311</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
jmp&nbsp;&nbsp;&nbsp;&nbsp; cx</span></p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! </span>���ӳ������ñ�����<span
lang=EN-US>bl</span>�е�ֵ����<span lang=EN-US>278</span>�У��ָ�<span lang=EN-US>CRT</span>����������ʾ��ʼ��ַ���ֽڼĴ������ݡ�</p>

<p class=a><span lang=EN-US><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L312">312</a>
rst3d4: mov&nbsp;&nbsp;&nbsp;&nbsp; dx,#0x3d4</span></p>

<p class=a><span lang=EN-US><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L313">313</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
mov&nbsp;&nbsp;&nbsp;&nbsp; al,bl</span></p>

<p class=a><span lang=EN-US><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L314">314</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
xor&nbsp;&nbsp;&nbsp;&nbsp; ah,ah</span></p>

<p class=a><span lang=EN-US><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L315">315</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
shl&nbsp;&nbsp;&nbsp;&nbsp; ax,#8</span></p>

<p class=a><span lang=EN-US><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L316">316</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
add&nbsp;&nbsp;&nbsp;&nbsp; ax,#0x0c</span></p>

<p class=a><span lang=EN-US><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L317">317</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
out&nbsp;&nbsp;&nbsp;&nbsp; dx,ax&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
! </span>ע�⣬����<span lang=EN-US>word</span>������� <span lang=EN-US>al </span><span
lang=EN-US style='font-family:Wingdings'>��</span><span lang=EN-US>0x3d4</span>��<span
lang=EN-US>ah </span><span lang=EN-US style='font-family:Wingdings'>��</span><span
lang=EN-US>0x3d5</span>��</p>

<p class=a><span lang=EN-US><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L318">318</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
ret&nbsp;&nbsp;&nbsp;&nbsp; </span></p>

<p class=a><span lang=EN-US>&nbsp;</span></p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! </span>���ڼ��ϵͳ���ǲ���<span
lang=EN-US>Everex</span>��ʾ���������������ж�<span lang=EN-US>int 0x10</span>����<span
lang=EN-US>0x70</span>��<span lang=EN-US>ax =0x7000</span>��</p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! bx=0x0000</span>������<span
lang=EN-US>Everex</span>����չ��Ƶ<span lang=EN-US>BIOS</span>���ܡ�����<span lang=EN-US>Everes</span>������ʾ�������жϵ���Ӧ��</p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! </span>�᷵��ģ��״̬���������·�����Ϣ��</p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! al = 0x70</span>�����ǻ���<span
lang=EN-US>Trident</span>��<span lang=EN-US>Everex</span>��ʾ����</p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! cl = </span>��ʾ�����ͣ�<span
lang=EN-US>00-</span>��ɫ��<span lang=EN-US>01-CGA</span>��<span lang=EN-US>02-EGA</span>��<span
lang=EN-US>03-</span>���ֶ�Ƶ��<span lang=EN-US>04-PS/2</span>��<span lang=EN-US>05-IBM
8514</span>��<span lang=EN-US>06-SVGA</span>��</p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! ch = </span>���ԣ�λ<span
lang=EN-US>7-6</span>��<span lang=EN-US>00-256K</span>��<span lang=EN-US>01-512K</span>��<span
lang=EN-US>10-1MB</span>��<span lang=EN-US>11-2MB</span>��λ<span lang=EN-US>4-</span>����<span
lang=EN-US>VGA</span>������λ<span lang=EN-US>0-6845</span>ģ�⡣</p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! dx = </span>�忨�ͺţ�λ<span
lang=EN-US>15-4</span>�������ͱ�ʶ�ţ�λ<span lang=EN-US>3-0</span>����������ʶ�š�</p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; !&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
0x2360-Ultragraphics II</span>��<span lang=EN-US>0x6200-Vision VGA</span>��<span
lang=EN-US>0x6730-EVGA</span>��<span lang=EN-US>0x6780-Viewpoint</span>��</p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! di = </span>��<span lang=EN-US>BCD</span>���ʾ����Ƶ<span
lang=EN-US>BIOS</span>�汾�š�</p>

<p class=a><span lang=EN-US><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L319">319</a>
nocirr: call&nbsp;&nbsp;&nbsp;
rst3d4&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ! Check
Everex 'clues'</span></p>

<p class=a><span lang=EN-US><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L320">320</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
mov&nbsp;&nbsp;&nbsp;&nbsp; ax,#0x7000&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ! </span>����<span
lang=EN-US>ax = 0x7000, bx=0x0000</span>������<span lang=EN-US>int 0x10</span>��</p>

<p class=a><span lang=EN-US><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L321">321</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
xor&nbsp;&nbsp;&nbsp;&nbsp; bx,bx</span></p>

<p class=a><span lang=EN-US><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L322">322</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
int&nbsp;&nbsp;&nbsp;&nbsp; 0x10</span></p>

<p class=a><span lang=EN-US><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L323">323</a>&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;cmp&nbsp;&nbsp;&nbsp;&nbsp; al,#0x70&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
! </span>����<span lang=EN-US>Everes</span>��ʾ����<span lang=EN-US>al</span>��Ӧ�÷���ֵ<span
lang=EN-US>0x70</span>��</p>

<p class=a><span lang=EN-US><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L324">324</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
jne&nbsp;&nbsp;&nbsp;&nbsp; noevrx</span></p>

<p class=a><span lang=EN-US><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L325">325</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
shr&nbsp;&nbsp;&nbsp;&nbsp; dx,#4&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
! </span>���ɰ������ţ�λ<span lang=EN-US>3-0</span>����</p>

<p class=a><span lang=EN-US><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L326">326</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
cmp&nbsp;&nbsp;&nbsp;&nbsp; dx,#0x678&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
! </span>�����ͺ���<span lang=EN-US>0x678</span>��ʾ��һ��<span lang=EN-US>Trident</span>��ʾ��������ת��</p>

<p class=a><span lang=EN-US><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L327">327</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
je&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; istrid</span></p>

<p class=a><span lang=EN-US><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L328">328</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
cmp&nbsp;&nbsp;&nbsp;&nbsp; dx,#0x236&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
! </span>�����ͺ���<span lang=EN-US>0x236</span>��ʾ��һ��<span lang=EN-US>Trident</span>��ʾ��������ת��</p>

<p class=a><span lang=EN-US><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L329">329</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
je&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; istrid</span></p>

<p class=a><span lang=EN-US><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L330">330</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
lea&nbsp;&nbsp;&nbsp;&nbsp; si,dsceverex&nbsp;&nbsp;&nbsp;&nbsp; ! </span>��<span
lang=EN-US>si</span>ָ��<span lang=EN-US>Everex</span>��ʾ���Ŀ�ѡ����ֵ������<span
lang=EN-US>di</span>ָ����չ</p>

<p class=a><span lang=EN-US><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L331">331</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
lea&nbsp;&nbsp;&nbsp;&nbsp; di,moeverex&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ! </span>ģʽ������ģʽ���б���Ȼ����ת��<span
lang=EN-US>selmod</span>ȥִ��ѡ��</p>

<p class=a><span lang=EN-US><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L332">332</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
lea&nbsp;&nbsp;&nbsp;&nbsp; cx,selmod &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;!
</span>��ʾģʽ�Ĳ�����</p>

<p class=a><span lang=EN-US><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L333">333</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
jmp&nbsp;&nbsp;&nbsp;&nbsp; cx</span></p>

<p class=a><span lang=EN-US><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L334">334</a>
istrid: lea&nbsp;&nbsp;&nbsp;&nbsp; cx,ev2tri&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
! </span>��<span lang=EN-US>Trident</span>���͵�<span lang=EN-US>Everex</span>��ʾ��������ת��<span
lang=EN-US>ev2tri</span>������</p>

<p class=a><span lang=EN-US><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L335">335</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
jmp&nbsp;&nbsp;&nbsp;&nbsp; cx</span></p>

<p class=a><span lang=EN-US>&nbsp;</span></p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! </span>���ڼ���ǲ���<span
lang=EN-US>Genoa</span>��ʾ������ʽ�Ǽ������Ƶ<span lang=EN-US>BIOS</span>�е��������ִ���<span
lang=EN-US>0x77</span>��<span lang=EN-US>0x00</span>��<span lang=EN-US>0x66</span>��</p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! 0x99</span>����ע�⣬��ʱ<span
lang=EN-US>es</span>�Ѿ��ڵ�<span lang=EN-US>220</span>�б����ó�ָ��<span lang=EN-US>VGA</span>����<span
lang=EN-US>ROM BIOS</span>���ڵĶ�<span lang=EN-US>0xc000</span>��</p>

<p class=a><span lang=EN-US><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L336">336</a>
noevrx: lea&nbsp;&nbsp;&nbsp;&nbsp;
si,idgenoa&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ! Check Genoa 'clues'</span></p>

<p class=a><span lang=EN-US><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L337">337</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
xor&nbsp;&nbsp;&nbsp;&nbsp; ax,ax&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
! </span>��<span lang=EN-US>ds:si</span>ָ���<span lang=EN-US>597</span>���ϵ��������ִ���</p>

<p class=a><span lang=EN-US><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L338">338</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
seg es</span></p>

<p class=a><span lang=EN-US><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L339">339</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
mov&nbsp;&nbsp;&nbsp;&nbsp; al,[0x37]&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
! </span>ȡ<span lang=EN-US>VGA</span>����<span lang=EN-US>BIOS</span>��<span
lang=EN-US>0x37</span>����ָ�루��ָ������������</p>

<p class=a><span lang=EN-US><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L340">340</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
mov&nbsp;&nbsp;&nbsp;&nbsp; di,ax&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
! </span>��˴�ʱ<span lang=EN-US>es:di</span>ָ���������ִ���ʼ����</p>

<p class=a><span lang=EN-US><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L341">341</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
mov&nbsp;&nbsp;&nbsp;&nbsp; cx,#0x04</span></p>

<p class=a><span lang=EN-US><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L342">342</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
dec&nbsp;&nbsp;&nbsp;&nbsp; si</span></p>

<p class=a><span lang=EN-US><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L343">343</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
dec&nbsp;&nbsp;&nbsp;&nbsp; di</span></p>

<p class=a><span lang=EN-US><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L344">344</a>
l1:&nbsp;&nbsp;&nbsp;&nbsp; inc&nbsp;&nbsp;&nbsp;&nbsp; si&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
! </span>Ȼ��ѭ���Ƚ���<span lang=EN-US>4</span>���ֽڵ��������ִ���</p>

<p class=a><span lang=EN-US><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L345">345</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
inc&nbsp;&nbsp;&nbsp;&nbsp; di</span></p>

<p class=a><span lang=EN-US><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L346">346</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
mov&nbsp;&nbsp;&nbsp;&nbsp; al,(si)</span></p>

<p class=a><span lang=EN-US><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L347">347</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
seg es</span></p>

<p class=a><span lang=EN-US><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L348">348</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
and&nbsp;&nbsp;&nbsp;&nbsp; al,(di)</span></p>

<p class=a><span lang=EN-US><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L349">349</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
cmp&nbsp;&nbsp;&nbsp;&nbsp; al,(si)</span></p>

<p class=a><span lang=EN-US><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L350">350</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
loope&nbsp;&nbsp; l1</span></p>

<p class=a><span lang=EN-US><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L351">351</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
cmp&nbsp;&nbsp;&nbsp;&nbsp; cx,#0x00&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
! </span>����������ִ���ȫ��ͬ�����ʾ��<span lang=EN-US>Genoa</span>��ʾ����</p>

<p class=a><span lang=EN-US><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L352">352</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
jne&nbsp;&nbsp;&nbsp;&nbsp; nogen&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;! </span>������תȥ����������͵���ʾ����</p>

<p class=a><span lang=EN-US><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L353">353</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
lea&nbsp;&nbsp;&nbsp;&nbsp; si,dscgenoa&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ! </span>��<span
lang=EN-US>si</span>ָ��<span lang=EN-US>Genoa</span>��ʾ���Ŀ�ѡ����ֵ������<span
lang=EN-US>di</span>ָ����չ</p>

<p class=a><span lang=EN-US><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L354">354</a>&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lea&nbsp;&nbsp;&nbsp;&nbsp; di,mogenoa&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
! </span>ģʽ������ģʽ���б���Ȼ����ת��<span lang=EN-US>selmod</span>ȥִ��ѡ��</p>

<p class=a><span lang=EN-US><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L355">355</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
lea&nbsp;&nbsp;&nbsp;&nbsp; cx,selmod&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
! </span>��ʾģʽ�Ĳ�����</p>

<p class=a><span lang=EN-US><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L356">356</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
jmp&nbsp;&nbsp;&nbsp;&nbsp; cx</span></p>

<p class=a><span lang=EN-US>&nbsp;</span></p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! </span>���ڼ���ǲ���<span
lang=EN-US>Paradise</span>��ʾ����ͬ���ǲ��ñȽ���ʾ����<span lang=EN-US>BIOS</span>������������<span
lang=EN-US>VGA=</span>�����ķ�ʽ��</p>

<p class=a><span lang=EN-US><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L357">357</a>
nogen:&nbsp; lea&nbsp; &nbsp;&nbsp;&nbsp;si,idparadise&nbsp;&nbsp;&nbsp; !
Check Paradise 'clues'</span></p>

<p class=a><span lang=EN-US><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L358">358</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
mov&nbsp;&nbsp;&nbsp;&nbsp; di,#0x7d&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
! es:di</span>ָ��<span lang=EN-US>VGA ROM BIOS</span>��<span lang=EN-US>0xc000:0x007d</span>�����ô�Ӧ����</p>

<p class=a><span lang=EN-US><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L359">359</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
mov&nbsp;&nbsp;&nbsp;&nbsp; cx,#0x04&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
! 4</span>���ַ���<span lang=EN-US>VGA=</span>����</p>

<p class=a><span lang=EN-US><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L360">360</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
repe</span></p>

<p class=a><span lang=EN-US><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L361">361</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
cmpsb</span></p>

<p class=a><span lang=EN-US><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L362">362</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
jne&nbsp;&nbsp;&nbsp;&nbsp; nopara&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
! </span>���в�ͬ���ַ�����ʾ����<span lang=EN-US>Paradise</span>��ʾ����������ת��</p>

<p class=a><span lang=EN-US><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L363">363</a>&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;lea&nbsp;&nbsp;&nbsp;&nbsp; si,dscparadise&nbsp;&nbsp; !
</span>������<span lang=EN-US>si</span>ָ��<span lang=EN-US>Paradise</span>��ʾ���Ŀ�ѡ����ֵ������<span
lang=EN-US>di</span>ָ</p>

<p class=a><span lang=EN-US><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L364">364</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
lea&nbsp;&nbsp;&nbsp;&nbsp; di,moparadise&nbsp;&nbsp;&nbsp; ! </span>����չģʽ������ģʽ���б���Ȼ����ת��<span
lang=EN-US>selmod</span>��ȥѡ</p>

<p class=a><span lang=EN-US><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L365">365</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
lea&nbsp;&nbsp;&nbsp;&nbsp; cx,selmod&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;!
</span>����Ҫʹ�õ���ʾģʽ��</p>

<p class=a><span lang=EN-US><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L366">366</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
jmp&nbsp;&nbsp;&nbsp;&nbsp; cx</span></p>

<p class=a><span lang=EN-US>&nbsp;</span></p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! </span>���ڼ���ǲ���<span
lang=EN-US>Trident</span>��<span lang=EN-US>TVGA</span>����ʾ����<span lang=EN-US>TVGA</span>��ʾ�������ģʽ���ƼĴ���<span
lang=EN-US>1</span>��<span lang=EN-US>0x3c4</span>�˿�����</p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! </span>��<span lang=EN-US>0x0e</span>����λ<span
lang=EN-US>3--0</span>��<span lang=EN-US>64K</span>�ڴ�ҳ�����ֵ������ֶ�ֵ��һ�����ԣ���д��ʱ��������Ҫ���Ȱ�</p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! </span>ֵ��<span lang=EN-US>0x02</span>��������������д�룻����ȡ��ֵʱ����Ҫִ���������������ǰ��ֵӦ����д</p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! </span>����ٶ�ȡ��ֵ��ͬ���������������������������ǲ���<span
lang=EN-US>Trident</span>��ʾ����</p>

<p class=a><span lang=EN-US><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L367">367</a>
nopara: mov&nbsp;&nbsp;&nbsp;&nbsp; dx,#0x3c4&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ! Check Trident 'clues'</span></p>

<p class=a><span lang=EN-US><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L368">368</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
mov&nbsp;&nbsp;&nbsp;&nbsp; al,#0x0e&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
! </span>�����ڶ˿�<span lang=EN-US>0x3c4</span>���������<span
lang=EN-US>0x0e</span>������ģʽ���ƼĴ���<span lang=EN-US>1</span>��</p>

<p class=a><span lang=EN-US><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L369">369</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
out&nbsp;&nbsp;&nbsp;&nbsp; dx,al&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
! </span>Ȼ���<span lang=EN-US>0x3c5</span>���ݶ˿ڶ���üĴ���ԭֵ�����ݴ���<span lang=EN-US>ah</span>�С�</p>

<p class=a><span lang=EN-US><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L370">370</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
inc&nbsp;&nbsp;&nbsp;&nbsp; dx</span></p>

<p class=a><span lang=EN-US><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L371">371</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
in&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; al,dx</span></p>

<p class=a><span lang=EN-US><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L372">372</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
xchg&nbsp;&nbsp;&nbsp; ah,al</span></p>

<p class=a><span lang=EN-US><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L373">373</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
mov&nbsp;&nbsp;&nbsp;&nbsp; al,#0x00&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
! </span>Ȼ��������üĴ���д��<span lang=EN-US>0x00</span>���ٶ�ȡ��ֵ<span lang=EN-US
style='font-family:Wingdings'>��</span><span lang=EN-US>al</span>��</p>

<p class=a><span lang=EN-US><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L374">374</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
out&nbsp;&nbsp;&nbsp;&nbsp; dx,al&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;!
</span>д��<span lang=EN-US>0x00</span>���൱�ڡ�ԭֵ��<span lang=EN-US>0x02</span>���<span
lang=EN-US>0x02</span>���д��ֵ��</p>

<p class=a><span lang=EN-US><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L375">375</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
in&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; al,dx&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
! </span>�������<span lang=EN-US>Trident</span>��ʾ������˺�����ֵӦ����<span lang=EN-US>0x02</span>��</p>

<p class=a><span lang=EN-US><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L376">376</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
xchg&nbsp;&nbsp;&nbsp; al,ah&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
! </span>������<span lang=EN-US>al=</span>ԭģʽ���ƼĴ���<span lang=EN-US>1</span>��ֵ��<span
lang=EN-US>ah=</span>����ȡ��ֵ��</p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! </span>�����������Ӣ��ע���ǡ������<span
lang=EN-US>...</span>���в�û��Ҫ��������������������ҵ�<span lang=EN-US>Trident</span>��ʾ��</p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! </span>�����á����������������Ļ�ͻ��ģ��<span
lang=EN-US>...</span>�����⼸�и�����Ӣ��ע�͵����ִ�����²�����</p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! </span>���<span lang=EN-US>bl</span>��ԭģʽ���ƼĴ���<span
lang=EN-US>1</span>��λ<span lang=EN-US>1</span>����λ״̬�Ļ��ͽ��临λ������ͽ�λ<span
lang=EN-US>1</span>��λ��</p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! </span>ʵ�����⼸�������Ƕ�ԭģʽ���ƼĴ���<span
lang=EN-US>1</span>��ִֵ�����<span lang=EN-US> 0x02</span>�Ĳ�����Ȼ���ý��ֵȥ����</p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! </span>���ָ���ԭ�Ĵ���ֵ��</p>

<p class=a><span lang=EN-US><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L377">377</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
mov&nbsp;&nbsp;&nbsp;&nbsp;
bl,al&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;!
Strange thing ... in the book this wasn't</span></p>

<p class=a><span lang=EN-US><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L378">378</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
and&nbsp;&nbsp;&nbsp;&nbsp; bl,#0x02&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;!
necessary but it worked on my card which</span></p>

<p class=a><span lang=EN-US><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L379">379</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
jz&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
setb2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;! is a
trident. Without it the screen goes</span></p>

<p class=a><span lang=EN-US><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L380">380</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
and&nbsp;&nbsp;&nbsp;&nbsp; al,#0xfd&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;!
blurred ...</span></p>

<p class=a><span lang=EN-US><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L381">381</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
jmp&nbsp;&nbsp;&nbsp;&nbsp;
clrb2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;!</span></p>

<p class=a><span lang=EN-US><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L382">382</a>
setb2:&nbsp; or&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
al,#0x02&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;!</span></p>

<p class=a><span lang=EN-US><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L383">383</a>
clrb2:&nbsp; out&nbsp;&nbsp;&nbsp;&nbsp; dx,al</span></p>

<p class=a><span lang=EN-US><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L384">384</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
and&nbsp;&nbsp;&nbsp;&nbsp; ah,#0x0f&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ! </span>ȡ<span lang=EN-US>375</span>��������ֵ��ҳ������ֶΣ�λ<span lang=EN-US>3--0</span>�������</p>

<p class=a><span lang=EN-US><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L385">385</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
cmp&nbsp;&nbsp;&nbsp;&nbsp; ah,#0x02&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;!
</span>���ֶ�ֵ����<span lang=EN-US>0x02</span>�����ʾ��<span lang=EN-US>Trident</span>��ʾ����</p>

<p class=a><span lang=EN-US><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L386">386</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
jne&nbsp;&nbsp;&nbsp;&nbsp; notrid</span></p>

<p class=a><span lang=EN-US><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L387">387</a>
ev2tri: lea&nbsp;&nbsp;&nbsp;&nbsp; si,dsctrident&nbsp;&nbsp;&nbsp; ! </span>��<span
lang=EN-US>Trident</span>��ʾ����������<span lang=EN-US>si</span>ָ�����ʾ���Ŀ�ѡ����</p>

<p class=a><span lang=EN-US><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L388">388</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
lea&nbsp;&nbsp;&nbsp;&nbsp; di,motrident&nbsp;&nbsp;&nbsp;&nbsp; ! </span>ֵ�б�����<span
lang=EN-US>di</span>ָ���Ӧ��չģʽ������ģʽ���б���Ȼ</p>

<p class=a><span lang=EN-US><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L389">389</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
lea&nbsp;&nbsp;&nbsp;&nbsp; cx,selmod&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
! </span>����ת��<span lang=EN-US>selmod</span>ȥִ��ģʽѡ�������</p>

<p class=a><span lang=EN-US><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L390">390</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
jmp&nbsp;&nbsp;&nbsp;&nbsp; cx</span></p>

<p class=a><span lang=EN-US>&nbsp;</span></p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! </span>���ڼ���ǲ���<span
lang=EN-US>Tseng</span>��ʾ����<span lang=EN-US>ET4000AX</span>��<span lang=EN-US>ET4000/W32</span>�ࣩ�������Ƕ�<span
lang=EN-US>0x3cd</span>�˿ڶ�Ӧ�Ķ�</p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! </span>ѡ��<span lang=EN-US>Segment
Select</span>���Ĵ���ִ�ж�д�������üĴ�����<span lang=EN-US>4</span>λ��λ<span lang=EN-US>7--4</span>����Ҫ���ж�������</p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! 64KB</span>�κţ�<span
lang=EN-US>Bank number</span>������<span lang=EN-US>4</span>λ��λ<span lang=EN-US>3--0</span>����ָ��Ҫд�Ķκš����ָ����ѡ��Ĵ�����</p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! </span>��ֵ��<span lang=EN-US>
0x55</span>����ʾ����д��<span lang=EN-US>6</span>��<span lang=EN-US>64KB</span>�Σ�����ô����<span
lang=EN-US>Tseng</span>��ʾ����˵���Ѹ�ֵд��Ĵ���</p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! </span>���ٶ���Ӧ�û���<span
lang=EN-US>0x55</span>��</p>

<p class=a><span lang=EN-US><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L391">391</a>
notrid: mov&nbsp;&nbsp;&nbsp;&nbsp;
dx,#0x3cd&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ! Check Tseng 'clues'</span></p>

<p class=a><span lang=EN-US><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L392">392</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
in&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
al,dx&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ! Could
things be this simple ! :-)</span></p>

<p class=a><span lang=EN-US><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L393">393</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
mov&nbsp;&nbsp;&nbsp;&nbsp; bl,al&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
! </span>�ȴ�<span lang=EN-US>0x3cd</span>�˿ڶ�ȡ��ѡ��Ĵ���ԭֵ����������<span lang=EN-US>bl</span>�С�</p>

<p class=a><span lang=EN-US><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L394">394</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
mov&nbsp;&nbsp;&nbsp;&nbsp; al,#0x55&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
! </span>Ȼ��������üĴ�����д��<span lang=EN-US>0x55</span>���ٶ��벢����<span lang=EN-US>ah</span>�С�</p>

<p class=a><span lang=EN-US><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L395">395</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
out&nbsp;&nbsp;&nbsp;&nbsp; dx,al</span></p>

<p class=a><span lang=EN-US><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L396">396</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
in&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; al,dx</span></p>

<p class=a><span lang=EN-US><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L397">397</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
mov&nbsp;&nbsp;&nbsp;&nbsp; ah,al</span></p>

<p class=a><span lang=EN-US><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L398">398</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
mov&nbsp;&nbsp;&nbsp;&nbsp; al,bl&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
! </span>���Żָ��üĴ�����ԭֵ��</p>

<p class=a><span lang=EN-US><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L399">399</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
out&nbsp;&nbsp;&nbsp;&nbsp; dx,al</span></p>

<p class=a><span lang=EN-US><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L400">400</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
cmp&nbsp;&nbsp;&nbsp;&nbsp; ah,#0x55&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
! </span>�����ȡ�ľ�������д���ֵ���������<span lang=EN-US>Tseng</span>��ʾ����</p>

<p class=a><span lang=EN-US><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L401">401</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
jne&nbsp;&nbsp;&nbsp;&nbsp; notsen</span></p>

<p class=a><span lang=EN-US><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L402">402</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
lea&nbsp;&nbsp;&nbsp;&nbsp; si,dsctseng&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ! </span>������<span
lang=EN-US>si</span>ָ��<span lang=EN-US>Tseng</span>��ʾ���Ŀ�ѡ����ֵ���б�����<span
lang=EN-US>di</span></p>

<p class=a><span lang=EN-US><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L403">403</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
lea&nbsp;&nbsp;&nbsp;&nbsp; di,motseng&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ! </span>ָ���Ӧ��չģʽ������ģʽ���б���Ȼ����ת��<span
lang=EN-US>selmod</span></p>

<p class=a><span lang=EN-US><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L404">404</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
lea&nbsp;&nbsp;&nbsp;&nbsp; cx,selmod &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;!
</span>ȥִ��ģʽѡ�������</p>

<p class=a><a name=L405></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L405"><span
lang=EN-US>405</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
jmp&nbsp;&nbsp;&nbsp;&nbsp; cx</span></p>

<p class=a><span lang=EN-US>&nbsp;</span></p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! </span>�������ǲ���<span
lang=EN-US>Video7</span>��ʾ�����˿�<span lang=EN-US>0x3c2</span>�ǻ������Ĵ���д�˿ڣ���<span
lang=EN-US>0x3cc</span>�ǻ������Ĵ�</p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! </span>�����˿ڡ��üĴ�����λ<span
lang=EN-US>0</span>�ǵ�ɫ<span lang=EN-US>/</span>��ɫ��־�����Ϊ<span lang=EN-US>0</span>���ʾ�ǵ�ɫ�������ǲ�ɫ���ж��ǲ���</p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! Video7</span>��ʾ���ķ�ʽ������������ʾ����<span
lang=EN-US>CRT</span>������չ��ʶ�Ĵ�������������<span lang=EN-US>0x1f</span>�����üĴ���</p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! </span>��ֵʵ���Ͼ����Դ���ʼ��ַ���ֽڼĴ�����������<span
lang=EN-US>0x0c</span>�������ݺ�<span
lang=EN-US>0xea</span>�������������ֵ��</p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! </span>�������ֻҪ���Դ���ʼ��ַ���ֽڼĴ�����д��һ���ض�ֵ��Ȼ��ӱ�ʶ�Ĵ����ж�ȡ��ʶֵ</p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! </span>�����жϼ��ɡ�</p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! </span>ͨ����������ʾ��������<span
lang=EN-US>Video7</span>��ʾ���ļ����������ǿ�֪������ͨ����Ϊ�����������衣</p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! </span>���ȶ�ȡ�����������Ҫ�õ��ļĴ���ԭֵ��Ȼ��ʹ���ض�����ֵ����д��Ͷ�������������</p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! </span>��ԭ�Ĵ���ֵ���Լ���������жϡ�</p>

<p class=a><a name=L406></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L406"><span
lang=EN-US>406</span></a><span lang=EN-US> notsen: mov&nbsp;&nbsp;&nbsp;&nbsp;
dx,#0x3cc&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ! Check Video7 'clues'</span></p>

<p class=a><a name=L407></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L407"><span
lang=EN-US>407</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
in&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; al,dx</span></p>

<p class=a><a name=L408></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L408"><span
lang=EN-US>408</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
mov&nbsp;&nbsp;&nbsp;&nbsp; dx,#0x3b4&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;!
</span>������<span lang=EN-US>dx</span>Ϊ��ɫ��ʾ<span lang=EN-US>CRT</span>���������Ĵ����˿ں�<span
lang=EN-US>0x3b4</span>��</p>

<p class=a><a name=L409></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L409"><span
lang=EN-US>409</span></a><span lang=EN-US> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;and&nbsp;&nbsp;&nbsp;&nbsp;
al,#0x01&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ! </span>����������Ĵ�����λ<span
lang=EN-US>0</span>����<span lang=EN-US>0</span>����ɫ����ֱ����ת��</p>

<p class=a><a name=L410></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L410"><span
lang=EN-US>410</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
jz&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; even7&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
! </span>����<span lang=EN-US>dx</span>����Ϊ��ɫ��ʾ<span lang=EN-US>CRT</span>���������Ĵ����˿ں�<span
lang=EN-US>0x3d4</span>��</p>

<p class=a><a name=L411></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L411"><span
lang=EN-US>411</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
mov&nbsp;&nbsp;&nbsp;&nbsp; dx,#0x3d4</span></p>

<p class=a><a name=L412></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L412"><span
lang=EN-US>412</span></a><span lang=EN-US> even7:&nbsp;
mov&nbsp;&nbsp;&nbsp;&nbsp; al,#0x0c&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ! </span>���üĴ���������Ϊ<span lang=EN-US>0x0c</span>����Ӧ�Դ���ʼ��ַ���ֽڼĴ�����</p>

<p class=a><a name=L413></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L413"><span
lang=EN-US>413</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
out&nbsp;&nbsp;&nbsp;&nbsp; dx,al</span></p>

<p class=a><a name=L414></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L414"><span
lang=EN-US>414</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
inc&nbsp;&nbsp;&nbsp;&nbsp; dx</span></p>

<p class=a><a name=L415></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L415"><span
lang=EN-US>415</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;in&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
al,dx&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ! </span>��ȡ��ʾ�ڴ���ʼ��ַ���ֽڼĴ������ݣ���������<span
lang=EN-US>bl</span>�С�</p>

<p class=a><a name=L416></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L416"><span
lang=EN-US>416</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
mov&nbsp;&nbsp;&nbsp;&nbsp; bl,al</span></p>

<p class=a><a name=L417></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L417"><span
lang=EN-US>417</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
mov&nbsp;&nbsp;&nbsp;&nbsp; al,#0x55&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
! </span>Ȼ�����Դ���ʼ��ַ���ֽڼĴ�����д��ֵ<span lang=EN-US>0x55</span>���ٶ�ȡ������</p>

<p class=a><a name=L418></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L418"><span
lang=EN-US>418</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
out&nbsp;&nbsp;&nbsp;&nbsp; dx,al</span></p>

<p class=a><a name=L419></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L419"><span
lang=EN-US>419</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
in&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; al,dx</span></p>

<p class=a><a name=L420></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L420"><span
lang=EN-US>420</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
dec&nbsp;&nbsp;&nbsp;&nbsp; dx&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
! </span>Ȼ��ͨ��<span lang=EN-US>CRTC</span>�����Ĵ����˿�<span lang=EN-US>0x3b4</span>��<span
lang=EN-US>0x3d4</span>ѡ����������</p>

<p class=a><a name=L421></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L421"><span
lang=EN-US>421</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
mov&nbsp;&nbsp;&nbsp;&nbsp; al,#0x1f&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ! 0x1f</span>��<span
lang=EN-US>Video7</span>��ʾ����ʶ�Ĵ������üĴ�������ʵ���Ͼ���</p>

<p class=a><a name=L422></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L422"><span
lang=EN-US>422</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
out&nbsp;&nbsp;&nbsp;&nbsp; dx,al&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
! </span>�Դ���ʼ��ַ���ֽں�<span lang=EN-US>0xea</span>������������Ľ��ֵ��</p>

<p class=a><a name=L423></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L423"><span
lang=EN-US>423</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
inc&nbsp;&nbsp;&nbsp;&nbsp; dx</span></p>

<p class=a><a name=L424></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L424"><span
lang=EN-US>424</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
in&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; al,dx&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
! </span>��ȡ<span lang=EN-US>Video7</span>��ʾ����ʶ�Ĵ���ֵ����������<span lang=EN-US>bh</span>�С�</p>

<p class=a><a name=L425></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L425"><span
lang=EN-US>425</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
mov&nbsp;&nbsp;&nbsp;&nbsp; bh,al</span></p>

<p class=a><a name=L426></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L426"><span
lang=EN-US>426</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
dec&nbsp;&nbsp;&nbsp;&nbsp; dx&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
! </span>Ȼ����ѡ���Դ���ʼ��ַ���ֽڼĴ������ָ���ԭֵ��</p>

<p class=a><a name=L427></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L427"><span
lang=EN-US>427</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
mov&nbsp;&nbsp;&nbsp;&nbsp; al,#0x0c</span></p>

<p class=a><a name=L428></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L428"><span
lang=EN-US>428</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
out&nbsp;&nbsp;&nbsp;&nbsp; dx,al</span></p>

<p class=a><a name=L429></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L429"><span
lang=EN-US>429</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
inc &nbsp;&nbsp;&nbsp;&nbsp;dx</span></p>

<p class=a><a name=L430></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L430"><span
lang=EN-US>430</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
mov&nbsp;&nbsp;&nbsp;&nbsp; al,bl</span></p>

<p class=a><a name=L431></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L431"><span
lang=EN-US>431</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
out&nbsp;&nbsp;&nbsp;&nbsp; dx,al</span></p>

<p class=a><a name=L432></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L432"><span
lang=EN-US>432</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
mov&nbsp;&nbsp;&nbsp;&nbsp; al,#0x55&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
! </span>�����������֤��<span lang=EN-US>Video7</span>��ʾ����ʶ�Ĵ���ֵ�����Դ���ʼ</p>

<p class=a><a name=L433></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L433"><span
lang=EN-US>433</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
xor&nbsp;&nbsp;&nbsp;&nbsp; al,#0xea&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
! </span>��ַ���ֽں�<span lang=EN-US>0xea</span>������������Ľ��ֵ<span lang=EN-US>��</span>�����<span
lang=EN-US>0x55</span></p>

<p class=a><a name=L434></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L434"><span
lang=EN-US>434</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
cmp&nbsp;&nbsp;&nbsp;&nbsp; al,bh&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
! </span>��<span lang=EN-US>0xea</span>�����������Ľ����Ӧ�õ��ڱ�ʶ�Ĵ����Ĳ���ֵ��</p>

<p class=a><a name=L435></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L435"><span
lang=EN-US>435</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
jne&nbsp;&nbsp;&nbsp;&nbsp; novid7&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
! </span>������<span lang=EN-US>Video7</span>��ʾ����������Ĭ����ʾ����ֵ��<span lang=EN-US>492</span>�У���</p>

<p class=a><a name=L436></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L436"><span
lang=EN-US>436</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
lea&nbsp;&nbsp;&nbsp;&nbsp; si,dscvideo7&nbsp;&nbsp;&nbsp;&nbsp; ! </span>��<span
lang=EN-US>Video7</span>��ʾ����������<span lang=EN-US>si</span>ָ�����ʾ������ֵ������<span
lang=EN-US>di</span></p>

<p class=a><a name=L437></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L437"><span
lang=EN-US>437</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
lea&nbsp;&nbsp;&nbsp;&nbsp; di,movideo7&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ! </span>ָ����չģʽ������ģʽ���б���</p>

<p class=a><span lang=EN-US>&nbsp;</span></p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! </span>����������������жϳ�����ʾ�������Լ�ȡ�õ������չģʽ��Ϣ��<span
lang=EN-US>si</span>ָ�������ֵ�б���<span lang=EN-US>di</span></p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! </span>ָ����չģʽ������ģʽ���б�������ʾ�û�ѡ����õ���ʾģʽ�������ó���Ӧ��ʾģʽ�����</p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! </span>�ӳ��򷵻�ϵͳ��ǰ���õ���Ļ����ֵ��<span
lang=EN-US>ah = </span>������<span lang=EN-US>al=</span>�����������磬���ϵͳ����<span
lang=EN-US>ATI</span>��ʾ����</p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! </span>��ô��Ļ�ϻ���ʾ������Ϣ��</p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! Mode:&nbsp; COLSxROWS:</span></p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! 0.&nbsp;&nbsp;&nbsp;&nbsp; 132
x 25</span></p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! 1.&nbsp;&nbsp;&nbsp;&nbsp; 132
x 44</span></p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! Choose mode by pressing the
corresponding number.</span></p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! </span></p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! </span>��γ�����������Ļ����ʾ<span
lang=EN-US>NULL</span>��β���ַ�����Ϣ��<span lang=EN-US>Mode:&nbsp; COLSxROWS:</span>����</p>

<p class=a><a name=L438></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L438"><span
lang=EN-US>438</span></a><span lang=EN-US> selmod: push&nbsp;&nbsp;&nbsp; si</span></p>

<p class=a><a name=L439></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L439"><span
lang=EN-US>439</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
lea&nbsp;&nbsp;&nbsp;&nbsp; si,msg2</span></p>

<p class=a><a name=L440></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L440"><span
lang=EN-US>440</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
call&nbsp;&nbsp;&nbsp; prtstr</span></p>

<p class=a><a name=L441></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L441"><span
lang=EN-US>441</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
xor&nbsp;&nbsp;&nbsp;&nbsp; cx,cx</span></p>

<p class=a><a name=L442></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L442"><span
lang=EN-US>442</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
mov&nbsp;&nbsp;&nbsp;&nbsp; cl,(di)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
! </span>��ʱ<span lang=EN-US>cl</span>���Ǽ�������ʾ������չģʽ������</p>

<p class=a><a name=L443></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L443"><span
lang=EN-US>443</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
pop&nbsp;&nbsp;&nbsp;&nbsp; si</span></p>

<p class=a><a name=L444></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L444"><span
lang=EN-US>444</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
push&nbsp;&nbsp;&nbsp; si</span></p>

<p class=a><a name=L445></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L445"><span
lang=EN-US>445</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
push&nbsp;&nbsp;&nbsp; cx</span></p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! </span>Ȼ����ÿһ������ʾ����ǰ��ʾ����ѡ�����չģʽ����ֵ�����û�ѡ�á�</p>

<p class=a><a name=L446></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L446"><span
lang=EN-US>446</span></a><span lang=EN-US> tbl:&nbsp;&nbsp;&nbsp;
pop&nbsp;&nbsp;&nbsp;&nbsp; bx&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
! bx = </span>��ʾ������չģʽ�ܸ�����</p>

<p class=a><a name=L447></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L447"><span
lang=EN-US>447</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
push&nbsp;&nbsp;&nbsp; bx</span></p>

<p class=a><a name=L448></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L448"><span
lang=EN-US>448</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
mov&nbsp;&nbsp;&nbsp;&nbsp; al,bl</span></p>

<p class=a><a name=L449></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L449"><span
lang=EN-US>449</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
sub&nbsp;&nbsp;&nbsp;&nbsp; al,cl</span></p>

<p class=a><a name=L450></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L450"><span
lang=EN-US>450</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
call&nbsp;&nbsp;&nbsp; dprnt&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
! </span>��ʮ���Ƹ�ʽ��ʾ<span lang=EN-US>al</span>�е�ֵ��</p>

<p class=a><a name=L451></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L451"><span
lang=EN-US>451</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
call&nbsp;&nbsp;&nbsp; spcing&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
! </span>��ʾһ�����ٿ�<span lang=EN-US>4</span>���ո�</p>

<p class=a><a name=L452></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L452"><span
lang=EN-US>452</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
lodsw&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
! </span>��<span lang=EN-US>ax</span>�м���<span lang=EN-US>si</span>ָ�������ֵ�����<span
lang=EN-US>si</span>ָ����һ��<span lang=EN-US>word</span>ֵ��</p>

<p class=a><a name=L453></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L453"><span
lang=EN-US>453</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
xchg&nbsp;&nbsp;&nbsp; al,ah&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
! </span>����λ�ú�<span lang=EN-US>al = </span>������</p>

<p class=a><a name=L454></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L454"><span
lang=EN-US>454</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
call&nbsp;&nbsp;&nbsp; dprnt&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;! </span>��ʾ������</p>

<p class=a><a name=L455></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L455"><span
lang=EN-US>455</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
xchg&nbsp;&nbsp;&nbsp; ah,al&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
! </span>��ʱ<span lang=EN-US>al</span>��������ֵ��</p>

<p class=a><a name=L456></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L456"><span
lang=EN-US>456</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
push&nbsp;&nbsp;&nbsp; ax</span></p>

<p class=a><a name=L457></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L457"><span
lang=EN-US>457</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
mov&nbsp;&nbsp;&nbsp;&nbsp; al,#0x78&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
! </span>��ʾһ��С��<span lang=EN-US>x��</span>�����˺š�</p>

<p class=a><a name=L458></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L458"><span
lang=EN-US>458</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
call&nbsp;&nbsp;&nbsp; prnt1</span></p>

<p class=a><a name=L459></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L459"><span
lang=EN-US>459</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
pop&nbsp;&nbsp;&nbsp;&nbsp; ax&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;! </span>��ʱ<span lang=EN-US>al</span>��������ֵ��</p>

<p class=a><a name=L460></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L460"><span
lang=EN-US>460</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
call&nbsp;&nbsp;&nbsp; dprnt&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
! </span>��ʾ������</p>

<p class=a><a name=L461></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L461"><span
lang=EN-US>461</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
call&nbsp;&nbsp;&nbsp; docr&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
! </span>�س����С�</p>

<p class=a><a name=L462></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L462"><span
lang=EN-US>462</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
loop&nbsp;&nbsp;&nbsp; tbl&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
! </span>����ʾ��һ������ֵ��<span lang=EN-US>cx</span>����չģʽ����ֵ�ݼ�<span lang=EN-US>1</span>��</p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! </span>����չģʽ����ֵ����ʾ֮����ʾ��<span
lang=EN-US>Choose mode by pressing the corresponding number.</span>����</p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! </span>Ȼ��Ӽ��̿ڶ�ȡ�û�������ɨ���룬���ݸ�ɨ����ȷ���û�ѡ�������ֵģʽ�ţ�������<span
lang=EN-US>ROM </span></p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! BIOS</span>����ʾ�ж�<span
lang=EN-US>int 0x10</span>����<span lang=EN-US>0x00</span>��������Ӧ����ʾģʽ��</p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! </span>��<span lang=EN-US>468</span>�е�<span
lang=EN-US>��</span>ģʽ����ֵ<span lang=EN-US>+0x80��</span>���������ּ�<span
lang=EN-US>-1</span>���ɿ�ɨ���롣����<span lang=EN-US>0--9</span>���ּ������ǵ��ɿ�</p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! </span>ɨ����ֱ��ǣ�<span
lang=EN-US>0 - 0x8B</span>��<span lang=EN-US>1 - 0x82</span>��<span lang=EN-US>2
- 0x83</span>��<span lang=EN-US>3 - 0x84</span>��<span lang=EN-US>4 - 0x85</span>��</p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; !&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
5 - 0x86</span>��<span lang=EN-US>6 - 0x87</span>��<span lang=EN-US>7 - 0x88</span>��<span
lang=EN-US>8 - 0x89</span>��<span lang=EN-US>9 - 0x8A</span>��</p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! </span>��ˣ������ȡ�ļ����ɿ�ɨ����С��<span
lang=EN-US>0x82</span>�ͱ�ʾ�������ּ������ɨ�������<span lang=EN-US>0x8B</span>���ʾ�û�</p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! </span>��������<span lang=EN-US>0</span>����</p>

<p class=a><a name=L463></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L463"><span
lang=EN-US>463</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
pop&nbsp;&nbsp;&nbsp;&nbsp; cx&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
! cl</span>������ʾ����չģʽ�ܸ���ֵ��</p>

<p class=a><a name=L464></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L464"><span
lang=EN-US>464</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
call&nbsp;&nbsp;&nbsp; docr</span></p>

<p class=a><a name=L465></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L465"><span
lang=EN-US>465</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
lea&nbsp;&nbsp;&nbsp;&nbsp; si,msg3&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
! </span>��ʾ���밴��Ӧ���ּ���ѡ��ģʽ����</p>

<p class=a><a name=L466></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L466"><span
lang=EN-US>466</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
call&nbsp;&nbsp;&nbsp; prtstr</span></p>

<p class=a><a name=L467></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L467"><span
lang=EN-US>467</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
pop&nbsp;&nbsp;&nbsp;&nbsp; si&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
! </span>����ԭ����ֵָ�루ָ����ʾ������ֵ����ʼ������</p>

<p class=a><a name=L468></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L468"><span
lang=EN-US>468</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
add&nbsp;&nbsp;&nbsp;&nbsp; cl,#0x80&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
! cl + 0x80 = </span>��Ӧ�����ּ�<span
 lang=EN-US>-1</span>�����ɿ�ɨ���롣</p>

<p class=a><a name=L469></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L469"><span
lang=EN-US>469</span></a><span lang=EN-US> nonum:&nbsp;
in&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
al,#0x60&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;! Quick and dirty...</span></p>

<p class=a><a name=L470></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L470"><span
lang=EN-US>470</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
cmp&nbsp;&nbsp;&nbsp;&nbsp; al,#0x82&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
! </span>�������ɿ�ɨ����С��<span lang=EN-US>0x82</span>���ʾ�������ּ������ɸü���</p>

<p class=a><a name=L471></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L471"><span
lang=EN-US>471</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
jb&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; nonum</span></p>

<p class=a><a name=L472></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L472"><span
lang=EN-US>472</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
cmp&nbsp;&nbsp;&nbsp;&nbsp; al,#0x8b&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;!
</span>�������ɿ�ɨ�������<span lang=EN-US>0x8b</span>����ʾ���������ּ�<span lang=EN-US>0</span>��</p>

<p class=a><a name=L473></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L473"><span
lang=EN-US>473</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
je&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; zero</span></p>

<p class=a><a name=L474></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L474"><span
lang=EN-US>474</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
cmp&nbsp;&nbsp;&nbsp;&nbsp; al,cl&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;! </span>��ɨ���������չģʽ����ֵ��Ӧ�����ɨ����ֵ����ʾ</p>

<p class=a><a name=L475></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L475"><span
lang=EN-US>475</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
ja&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; nonum&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
! </span>�����ֵ������Χ�������ּ����ɿ�ɨ���롣�����ʾ</p>

<p class=a><a name=L476></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L476"><span
lang=EN-US>476</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
jmp&nbsp;&nbsp;&nbsp;&nbsp; nozero&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
! </span>�û����²��ɿ���һ����<span lang=EN-US>0</span>���ְ�����</p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! </span>������ɿ�ɨ����ת���ɶ�Ӧ�����ְ���ֵ��Ȼ�����ø�ֵ��ģʽ������ģʽ���б���ѡ���Ӧ��</p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! </span>��ģʽ�š����ŵ��û���<span
lang=EN-US>ROM BIOS</span>�ж�<span lang=EN-US>int 0x10</span>����<span lang=EN-US>0</span>����Ļ���ó�ģʽ��ָ����ģʽ�������</p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! </span>����ģʽ�Ŵ���ʾ������ֵ����ѡ����<span
lang=EN-US>ax</span>�з��ض�Ӧ������ֵ��</p>

<p class=a><a name=L477></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L477"><span
lang=EN-US>477</span></a><span lang=EN-US> zero:&nbsp;&nbsp;
sub&nbsp;&nbsp;&nbsp;&nbsp; al,#0x0a&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ! al = 0x8b - 0x0a = 0x81</span>��</p>

<p class=a><a name=L478></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L478"><span
lang=EN-US>478</span></a><span lang=EN-US> nozero: sub&nbsp;&nbsp;&nbsp;&nbsp;
al,#0x80&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ! </span>�ټ�ȥ<span
lang=EN-US>0x80</span>�Ϳ��Եõ��û�ѡ���˵ڼ���ģʽ��</p>

<p class=a><a name=L479></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L479"><span
lang=EN-US>479</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
dec&nbsp;&nbsp;&nbsp;&nbsp; al&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
! </span>��<span lang=EN-US>0</span>�������</p>

<p class=a><a name=L480></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L480"><span
lang=EN-US>480</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
xor&nbsp;&nbsp;&nbsp;&nbsp; ah,ah&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
! int 0x10</span>��ʾ���ܺ�<span lang=EN-US>=0</span>��������ʾģʽ����</p>

<p class=a><a name=L481></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L481"><span
lang=EN-US>481</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
add&nbsp;&nbsp;&nbsp;&nbsp; di,ax</span></p>

<p class=a><a name=L482></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L482"><span
lang=EN-US>482</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
inc&nbsp;&nbsp;&nbsp;&nbsp; di&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
! di</span>ָ���Ӧ��ģʽ�ţ�������<span lang=EN-US>1</span>��ģʽ�����ֽ�ֵ����</p>

<p class=a><a name=L483></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L483"><span
lang=EN-US>483</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
push&nbsp;&nbsp;&nbsp; ax</span></p>

<p class=a><a name=L484></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L484"><span
lang=EN-US>484</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
mov&nbsp;&nbsp;&nbsp;&nbsp; al,(di)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
! </span>ȡģʽ��<span lang=EN-US style='font-family:Wingdings'>��</span><span
lang=EN-US>al</span>�У�������ϵͳ<span lang=EN-US>BIOS</span>��ʾ�жϹ���<span lang=EN-US>0</span>��</p>

<p class=a><a name=L485></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L485"><span
lang=EN-US>485</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
int&nbsp;&nbsp;&nbsp;&nbsp; 0x10</span></p>

<p class=a><a name=L486></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L486"><span
lang=EN-US>486</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
pop&nbsp;&nbsp;&nbsp;&nbsp; ax</span></p>

<p class=a><a name=L487></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L487"><span
lang=EN-US>487</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
shl&nbsp;&nbsp;&nbsp;&nbsp; ax,#1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
! </span>ģʽ�ų�<span lang=EN-US>2</span>��ת����Ϊ����ֵ���ж�Ӧֵ��ָ�롣</p>

<p class=a><a name=L488></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L488"><span
lang=EN-US>488</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
add&nbsp;&nbsp;&nbsp;&nbsp; si,ax</span></p>

<p class=a><a name=L489></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L489"><span
lang=EN-US>489</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
lodsw&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
! </span>ȡ��Ӧ����ֵ��<span lang=EN-US>ax</span>�У�<span lang=EN-US>ah = </span>������<span
lang=EN-US>al = </span>��������</p>

<p class=a><a name=L490></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L490"><span
lang=EN-US>490</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
pop&nbsp;&nbsp;&nbsp;&nbsp; ds&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
! </span>�ָ���<span lang=EN-US>216</span>�б����<span lang=EN-US>ds</span>ԭֵ����<span
lang=EN-US>ax</span>�з��ص�ǰ��ʾ����ֵ��</p>

<p class=a><a name=L491></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L491"><span
lang=EN-US>491</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
ret</span></p>

<p class=a><span lang=EN-US>&nbsp;</span></p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! </span>�����������������ʾ������ô����ֻ�ò���Ĭ�ϵ�<span
lang=EN-US>80 x 25 </span>�ı�׼����ֵ��</p>

<p class=a><a name=L492></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L492"><span
lang=EN-US>492</span></a><span lang=EN-US> novid7: pop&nbsp;&nbsp;&nbsp;&nbsp;
ds&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;!
Here could be code to support standard 80x50,80x30</span></p>

<p class=a><a name=L493></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L493"><span
lang=EN-US>493</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
mov&nbsp;&nbsp;&nbsp;&nbsp; ax,#0x5019&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></p>

<p class=a><a name=L494></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L494"><span
lang=EN-US>494</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
ret</span></p>

<p class=a><a name=L495></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L495"><span
lang=EN-US>495</span></a><span lang=EN-US> </span></p>

<p class=a><a name=L496></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L496"><span
lang=EN-US>496</span></a><span lang=EN-US> ! Routine that 'tabs' to next col.</span></p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! </span>����ƶ�����һ�Ʊ�λ���ӳ���</p>

<p class=a><a name=L497></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L497"><span
lang=EN-US>497</span></a><span lang=EN-US> </span></p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! </span>��ʾһ�����ַ�<span
lang=EN-US>'.'</span>��<span lang=EN-US>4</span>���ո�</p>

<p class=a><a name=L498></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L498"><span
lang=EN-US>498</span></a><span lang=EN-US> spcing: mov&nbsp;&nbsp;&nbsp;&nbsp;
al,#0x2e&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ! </span>��ʾһ�����ַ�<span
lang=EN-US>'.'</span>��</p>

<p class=a><a name=L499></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L499"><span
lang=EN-US>499</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
call&nbsp;&nbsp;&nbsp; prnt1</span></p>

<p class=a><a name=L500></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L500"><span
lang=EN-US>500</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
mov&nbsp;&nbsp;&nbsp;&nbsp; al,#0x20</span></p>

<p class=a><a name=L501></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L501"><span
lang=EN-US>501</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
call&nbsp;&nbsp;&nbsp; prnt1&nbsp;&nbsp; </span></p>

<p class=a><a name=L502></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L502"><span
lang=EN-US>502</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
mov&nbsp;&nbsp;&nbsp;&nbsp; al,#0x20</span></p>

<p class=a><a name=L503></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L503"><span
lang=EN-US>503</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
call&nbsp;&nbsp;&nbsp; prnt1&nbsp;&nbsp; </span></p>

<p class=a><a name=L504></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L504"><span
lang=EN-US>504</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
mov&nbsp;&nbsp;&nbsp;&nbsp; al,#0x20</span></p>

<p class=a><a name=L505></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L505"><span
lang=EN-US>505</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
call&nbsp;&nbsp;&nbsp; prnt1&nbsp;&nbsp; </span></p>

<p class=a><a name=L506></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L506"><span
lang=EN-US>506</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
mov&nbsp;&nbsp;&nbsp;&nbsp; al,#0x20</span></p>

<p class=a><a name=L507></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L507"><span
lang=EN-US>507</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
call&nbsp;&nbsp;&nbsp; prnt1</span></p>

<p class=a><a name=L508></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L508"><span
lang=EN-US>508</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
ret&nbsp;&nbsp;&nbsp;&nbsp; </span></p>

<p class=a><a name=L509></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L509"><span
lang=EN-US>509</span></a><span lang=EN-US> </span></p>

<p class=a><a name=L510></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L510"><span
lang=EN-US>510</span></a><span lang=EN-US> ! Routine to print asciiz-string at
DS:SI</span></p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! </span>��ʾλ��<span lang=EN-US>DS:SI</span>����<span
lang=EN-US>NULL</span>��<span lang=EN-US>0x00</span>����β���ַ�����</p>

<p class=a><a name=L511></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L511"><span
lang=EN-US>511</span></a><span lang=EN-US> </span></p>

<p class=a><a name=L512></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L512"><span
lang=EN-US>512</span></a><span lang=EN-US> prtstr: lodsb</span></p>

<p class=a><a name=L513></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L513"><span
lang=EN-US>513</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
and&nbsp;&nbsp;&nbsp;&nbsp; al,al</span></p>

<p class=a><a name=L514></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L514"><span
lang=EN-US>514</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
jz&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; fin</span></p>

<p class=a><a name=L515></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L515"><span
lang=EN-US>515</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
call&nbsp;&nbsp;&nbsp; prnt1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
! </span>��ʾ<span lang=EN-US>al</span>�е�һ���ַ���</p>

<p class=a><a name=L516></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L516"><span
lang=EN-US>516</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
jmp&nbsp;&nbsp;&nbsp;&nbsp; prtstr</span></p>

<p class=a><a name=L517></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L517"><span
lang=EN-US>517</span></a><span lang=EN-US> fin:&nbsp;&nbsp;&nbsp; ret</span></p>

<p class=a><a name=L518></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L518"><span
lang=EN-US>518</span></a><span lang=EN-US> </span></p>

<p class=a><a name=L519></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L519"><span
lang=EN-US>519</span></a><span lang=EN-US> ! Routine to print a decimal value
on screen, the value to be</span></p>

<p class=a><a name=L520></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L520"><span
lang=EN-US>520</span></a><span lang=EN-US> ! printed is put in al (i.e 0-255). </span></p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! </span>��ʾʮ�������ֵ��ӳ�����ʾֵ���ڼĴ���<span
lang=EN-US>al</span>�У�<span lang=EN-US>0--255</span>����</p>

<p class=a><a name=L521></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L521"><span
lang=EN-US>521</span></a><span lang=EN-US> </span></p>

<p class=a><a name=L522></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L522"><span
lang=EN-US>522</span></a><span lang=EN-US> dprnt:&nbsp; push&nbsp;&nbsp;&nbsp;
ax</span></p>

<p class=a><a name=L523></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L523"><span
lang=EN-US>523</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
push&nbsp;&nbsp;&nbsp; cx</span></p>

<p class=a><a name=L524></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L524"><span
lang=EN-US>524</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
mov&nbsp;&nbsp;&nbsp;&nbsp;
ah,#0x00&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></p>

<p class=a><a name=L525></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L525"><span
lang=EN-US>525</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
mov&nbsp;&nbsp;&nbsp;&nbsp; cl,#0x0a</span></p>

<p class=a><a name=L526></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L526"><span
lang=EN-US>526</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
idiv&nbsp;&nbsp;&nbsp; cl</span></p>

<p class=a><a name=L527></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L527"><span
lang=EN-US>527</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
cmp&nbsp;&nbsp;&nbsp;&nbsp; al,#0x09</span></p>

<p class=a><a name=L528></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L528"><span
lang=EN-US>528</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
jbe&nbsp;&nbsp;&nbsp;&nbsp; lt100</span></p>

<p class=a><a name=L529></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L529"><span
lang=EN-US>529</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
call&nbsp;&nbsp;&nbsp; dprnt</span></p>

<p class=a><a name=L530></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L530"><span
lang=EN-US>530</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
jmp&nbsp;&nbsp;&nbsp;&nbsp; skip10</span></p>

<p class=a><a name=L531></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L531"><span
lang=EN-US>531</span></a><span lang=EN-US> lt100:&nbsp;
add&nbsp;&nbsp;&nbsp;&nbsp; al,#0x30</span></p>

<p class=a><a name=L532></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L532"><span
lang=EN-US>532</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
call&nbsp;&nbsp;&nbsp; prnt1</span></p>

<p class=a><a name=L533></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L533"><span
lang=EN-US>533</span></a><span lang=EN-US> skip10: mov&nbsp;&nbsp;&nbsp;&nbsp;
al,ah</span></p>

<p class=a><a name=L534></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L534"><span
lang=EN-US>534</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
add&nbsp;&nbsp;&nbsp;&nbsp; al,#0x30</span></p>

<p class=a><a name=L535></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L535"><span
lang=EN-US>535</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
call&nbsp;&nbsp;&nbsp; prnt1&nbsp;&nbsp; </span></p>

<p class=a><a name=L536></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L536"><span
lang=EN-US>536</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
pop&nbsp;&nbsp;&nbsp;&nbsp; cx</span></p>

<p class=a><a name=L537></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L537"><span
lang=EN-US>537</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
pop&nbsp;&nbsp;&nbsp;&nbsp; ax</span></p>

<p class=a><a name=L538></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L538"><span
lang=EN-US>538</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ret</span></p>

<p class=a><a name=L539></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L539"><span
lang=EN-US>539</span></a><span lang=EN-US> </span></p>

<p class=a><a name=L540></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L540"><span
lang=EN-US>540</span></a><span lang=EN-US> ! Part of above routine, this one
just prints ascii al</span></p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! </span>�����ӳ����һ���֡���ʾ<span
lang=EN-US>al</span>�е�һ���ַ���</p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! </span>���ӳ���ʹ���ж�<span
lang=EN-US>0x10</span>��<span lang=EN-US>0x0E</span>���ܣ��Ե紫��ʽ����Ļ��дһ���ַ��������Զ��Ƶ���һ��</p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! </span>λ�ô������д��һ�й��ͻ��ƶ�����һ�п�ʼ��������Ѿ�д��һ�����һ�У���������Ļ</p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! </span>�����Ϲ���һ�С��ַ�<span
lang=EN-US>0x07</span>��<span lang=EN-US>BEL</span>����<span lang=EN-US>0x08</span>��<span
lang=EN-US>BS</span>����<span lang=EN-US>0x0A(LF)</span>��<span
lang=EN-US>0x0D</span>��<span lang=EN-US>CR</span>������Ϊ�������ʾ��</p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! </span>���룺<span lang=EN-US>AL
-- </span>��д�ַ���<span lang=EN-US>BH -- </span>��ʾҳ�ţ�<span lang=EN-US>BL -- </span>ǰ����ʾɫ��ͼ�η�ʽʱ����</p>

<p class=a><a name=L541></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L541"><span
lang=EN-US>541</span></a><span lang=EN-US> </span></p>

<p class=a><a name=L542></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L542"><span
lang=EN-US>542</span></a><span lang=EN-US> prnt1:&nbsp; push&nbsp;&nbsp;&nbsp;
ax</span></p>

<p class=a><a name=L543></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L543"><span
lang=EN-US>543</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
push&nbsp;&nbsp;&nbsp; cx</span></p>

<p class=a><a name=L544></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L544"><span
lang=EN-US>544</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
mov&nbsp;&nbsp;&nbsp;&nbsp; bh,#0x00&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
! </span>��ʾҳ�档</p>

<p class=a><a name=L545></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L545"><span
lang=EN-US>545</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
mov&nbsp;&nbsp;&nbsp;&nbsp; cx,#0x01</span></p>

<p class=a><a name=L546></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L546"><span
lang=EN-US>546</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
mov&nbsp;&nbsp;&nbsp;&nbsp; ah,#0x0e</span></p>

<p class=a><a name=L547></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L547"><span
lang=EN-US>547</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
int&nbsp;&nbsp;&nbsp;&nbsp; 0x10</span></p>

<p class=a><a name=L548></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L548"><span
lang=EN-US>548</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
pop&nbsp;&nbsp;&nbsp;&nbsp; cx</span></p>

<p class=a><a name=L549></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L549"><span
lang=EN-US>549</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
pop&nbsp;&nbsp;&nbsp;&nbsp; ax</span></p>

<p class=a><a name=L550></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L550"><span
lang=EN-US>550</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
ret</span></p>

<p class=a><a name=L551></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L551"><span
lang=EN-US>551</span></a><span lang=EN-US> </span></p>

<p class=a><a name=L552></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L552"><span
lang=EN-US>552</span></a><span lang=EN-US> ! Prints &lt;CR&gt; + &lt;LF&gt;&nbsp;&nbsp;&nbsp;
! </span>��ʾ�س�<span lang=EN-US>+</span>���С�</p>

<p class=a><a name=L553></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L553"><span
lang=EN-US>553</span></a><span lang=EN-US> </span></p>

<p class=a><a name=L554></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L554"><span
lang=EN-US>554</span></a><span lang=EN-US> docr:&nbsp;&nbsp;
push&nbsp;&nbsp;&nbsp; ax</span></p>

<p class=a><a name=L555></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L555"><span
lang=EN-US>555</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
push&nbsp;&nbsp;&nbsp; cx</span></p>

<p class=a><a name=L556></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L556"><span
lang=EN-US>556</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
mov&nbsp;&nbsp;&nbsp;&nbsp; bh,#0x00</span></p>

<p class=a><a name=L557></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L557"><span
lang=EN-US>557</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
mov&nbsp;&nbsp;&nbsp;&nbsp; ah,#0x0e</span></p>

<p class=a><a name=L558></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L558"><span
lang=EN-US>558</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
mov&nbsp;&nbsp;&nbsp;&nbsp; al,#0x0a</span></p>

<p class=a><a name=L559></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L559"><span
lang=EN-US>559</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
mov&nbsp;&nbsp;&nbsp;&nbsp; cx,#0x01</span></p>

<p class=a><a name=L560></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L560"><span
lang=EN-US>560</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
int&nbsp;&nbsp;&nbsp;&nbsp; 0x10</span></p>

<p class=a><a name=L561></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L561"><span
lang=EN-US>561</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
mov&nbsp;&nbsp;&nbsp;&nbsp; al,#0x0d</span></p>

<p class=a><a name=L562></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L562"><span
lang=EN-US>562</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
int&nbsp;&nbsp;&nbsp;&nbsp; 0x10</span></p>

<p class=a><a name=L563></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L563"><span
lang=EN-US>563</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
pop&nbsp;&nbsp;&nbsp;&nbsp; cx</span></p>

<p class=a><a name=L564></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L564"><span
lang=EN-US>564</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
pop&nbsp;&nbsp;&nbsp;&nbsp; ax</span></p>

<p class=a><a name=L565></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L565"><span
lang=EN-US>565</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
ret&nbsp;&nbsp;&nbsp;&nbsp; </span></p>

<p class=a><a name=L566></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L566"><span
lang=EN-US>566</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! </span>ȫ������������ʼ�������������ɶ��<span
lang=EN-US>8</span>�ֽڳ�������������ɡ����������<span lang=EN-US>3</span>���������</p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! </span>��<span lang=EN-US>1</span>�����ã�<span
lang=EN-US>568</span>�У���������ڡ���<span lang=EN-US>2</span>����ϵͳ�������������<span
lang=EN-US>570-573</span>�У�����<span lang=EN-US>3</span>����ϵ</p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! </span>ͳ���ݶ�������<span
lang=EN-US>(575-578</span>��<span lang=EN-US>)</span>��</p>

<p class=a><a name=L567></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L567"><span
lang=EN-US>567</span></a><span lang=EN-US> gdt:</span></p>

<p class=a><a name=L568></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L568"><span
lang=EN-US>568</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
.word&nbsp;&nbsp; 0,0,0,0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; !
dummy&nbsp;&nbsp; ! </span>��<span lang=EN-US>1</span>�������������á�</p>

<p class=a><a name=L569></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L569"><span
lang=EN-US>569</span></a><span lang=EN-US> </span></p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! </span>��<span lang=EN-US>GDT</span>���������ƫ������<span
lang=EN-US>0x08</span>�������ں˴����ѡ�����ֵ��</p>

<p class=a><a name=L570></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L570"><span
lang=EN-US>570</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
.word&nbsp;&nbsp; 0x07FF&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
! 8Mb - limit=2047 &nbsp;(0--2047</span>�������<span lang=EN-US>2048*4096=8Mb)</span></p>

<p class=a><a name=L571></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L571"><span
lang=EN-US>571</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
.word&nbsp;&nbsp; 0x0000&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
! base address=0</span></p>

<p class=a><a name=L572></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L572"><span
lang=EN-US>572</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
.word&nbsp;&nbsp; 0x9A00&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ! code read/exec &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;! </span>�����Ϊֻ������ִ�С�</p>

<p class=a><a name=L573></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L573"><span
lang=EN-US>573</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
.word&nbsp;&nbsp; 0x00C0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ! granularity=4096, 386&nbsp; ! </span>������Ϊ<span lang=EN-US>4096</span>��<span
lang=EN-US>32</span>λģʽ��</p>

<p class=a><a name=L574></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L574"><span
lang=EN-US>574</span></a><span lang=EN-US> </span></p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! </span>��<span lang=EN-US>GDT</span>���������ƫ������<span
lang=EN-US>0x10</span>�������ں����ݶ�ѡ�����ֵ��</p>

<p class=a><a name=L575></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L575"><span
lang=EN-US>575</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
.word&nbsp;&nbsp; 0x07FF&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;!
8Mb - limit=2047 (2048*4096=8Mb)</span></p>

<p class=a><a name=L576></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L576"><span
lang=EN-US>576</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
.word&nbsp;&nbsp; 0x0000&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
! base address=0</span></p>

<p class=a><a name=L577></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L577"><span
lang=EN-US>577</span></a><span lang=EN-US> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.word&nbsp;&nbsp;
0x9200&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ! data read/write &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;!
</span>���ݶ�Ϊ�ɶ���д��</p>

<p class=a><a name=L578></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L578"><span
lang=EN-US>578</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
.word&nbsp;&nbsp; 0x00C0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ! granularity=4096, 386 &nbsp;! </span>������Ϊ<span lang=EN-US>4096</span>��<span
lang=EN-US>32</span>λģʽ��</p>

<p class=a><a name=L579></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L579"><span
lang=EN-US>579</span></a><span lang=EN-US> </span></p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! </span>�����Ǽ����ж����������Ĵ���<span
lang=EN-US>idtr</span>��ָ��<span lang=EN-US>lidt</span>Ҫ���<span lang=EN-US>6</span>�ֽڲ�������ǰ<span
lang=EN-US>2</span>�ֽ���<span lang=EN-US>IDT</span>����</p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! </span>�޳�����<span lang=EN-US>4</span>�ֽ���<span
lang=EN-US>idt</span>�������Ե�ַ�ռ��е�<span lang=EN-US>32</span>λ����ַ��<span lang=EN-US>CPU</span>Ҫ���ڽ��뱣��ģʽ֮ǰ����</p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! </span>��<span lang=EN-US>IDT</span>�����������������һ������Ϊ<span
lang=EN-US>0</span>�Ŀձ���</p>

<p class=a><a name=L580></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L580"><span
lang=EN-US>580</span></a><span lang=EN-US> idt_48:</span></p>

<p class=a><a name=L581></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L581"><span
lang=EN-US>581</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
.word&nbsp;&nbsp;
0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
! idt limit=0</span></p>

<p class=a><a name=L582></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L582"><span
lang=EN-US>582</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
.word&nbsp;&nbsp;
0,0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; !
idt base=0L</span></p>

<p class=a><a name=L583></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L583"><span
lang=EN-US>583</span></a><span lang=EN-US> </span></p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! </span>���Ǽ���ȫ�����������Ĵ���<span
lang=EN-US>gdtr</span>��ָ��<span lang=EN-US>lgdt</span>Ҫ���<span lang=EN-US>6</span>�ֽڲ�������ǰ<span
lang=EN-US>2</span>�ֽ���<span lang=EN-US>gdt</span>������</p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! </span>������<span lang=EN-US>4</span>�ֽ���
<span lang=EN-US>gdt</span>�������Ի���ַ������ȫ�ֱ���������Ϊ<span lang=EN-US> 2KB</span>��<span
lang=EN-US>0x7ff</span>���ɣ�����Ϊÿ<span lang=EN-US>8</span></p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! </span>�ֽ����һ��������������Ա��й�����<span
lang=EN-US> 256</span>�<span lang=EN-US>4</span>�ֽڵ����Ի���ַΪ<span lang=EN-US>
0x0009&lt;&lt;16 +</span></p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! 0x0200 + gdt</span>����<span
lang=EN-US>0x90200 + gdt</span>��<span lang=EN-US>(</span>����<span lang=EN-US>gdt</span>��ȫ�ֱ��ڱ�������е�ƫ�Ƶ�ַ����<span
lang=EN-US>205</span>��<span lang=EN-US>)</span></p>

<p class=a><a name=L584></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L584"><span
lang=EN-US>584</span></a><span lang=EN-US> gdt_48:</span></p>

<p class=a><a name=L585></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L585"><span
lang=EN-US>585</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
.word&nbsp;&nbsp;
0x800&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ! gdt
limit=2048, 256 GDT entries</span></p>

<p class=a><a name=L586></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L586"><span
lang=EN-US>586</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
.word&nbsp;&nbsp; 512+gdt,0x9&nbsp;&nbsp;&nbsp;&nbsp; ! gdt base = 0X9xxxx</span></p>

<p class=a><a name=L587></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L587"><span
lang=EN-US>587</span></a><span lang=EN-US> </span></p>

<p class=a><a name=L588></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L588"><span
lang=EN-US>588</span></a><span lang=EN-US> msg1: &nbsp;&nbsp;.ascii&nbsp;
&quot;Press &lt;RETURN&gt; to see SVGA-modes available or any other key to continue.&quot;</span></p>

<p class=a><a name=L589></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L589"><span
lang=EN-US>589</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
db&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0x0d, 0x0a, 0x0a, 0x00</span></p>

<p class=a><a name=L590></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L590"><span
lang=EN-US>590</span></a><span lang=EN-US>
msg2:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; .ascii&nbsp;
&quot;Mode:&nbsp; COLSxROWS:&quot;</span></p>

<p class=a><a name=L591></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L591"><span
lang=EN-US>591</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
db&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0x0d, 0x0a, 0x0a, 0x00</span></p>

<p class=a><a name=L592></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L592"><span
lang=EN-US>592</span></a><span lang=EN-US>
msg3:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; .ascii&nbsp;
&quot;Choose mode by pressing the corresponding number.&quot;</span></p>

<p class=a><a name=L593></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L593"><span
lang=EN-US>593</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
db&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0x0d, 0x0a, 0x00</span></p>

<p class=a><a name=L594></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L594"><span
lang=EN-US>594</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! </span>������<span lang=EN-US>4</span>����ʾ�����������ݴ���</p>

<p class=a><a name=L595></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L595"><span
lang=EN-US>595</span></a><span lang=EN-US>
idati:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; .ascii&nbsp;
&quot;761295520&quot;</span></p>

<p class=a><a name=L596></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L596"><span
lang=EN-US>596</span></a><span lang=EN-US> idcandt:&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.byte&nbsp;&nbsp;
0xa5&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
! </span>���<span lang=EN-US>idcandt</span>��˼��<span lang=EN-US>ID of Chip AND
Tech.</span></p>

<p class=a><a name=L597></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L597"><span
lang=EN-US>597</span></a><span lang=EN-US>
idgenoa:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; .byte&nbsp;&nbsp; 0x77,
0x00, 0x66, 0x99</span></p>

<p class=a><a name=L598></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L598"><span
lang=EN-US>598</span></a><span lang=EN-US> idparadise:&nbsp;&nbsp;&nbsp;&nbsp;
.ascii&nbsp; &quot;VGA=&quot;</span></p>

<p class=a><a name=L599></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L599"><span
lang=EN-US>599</span></a><span lang=EN-US> </span></p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! </span>�����Ǹ�����ʾ����ʹ�õ���չģʽ�����Ͷ�Ӧ��ģʽ���б�������ÿһ�е�<span
lang=EN-US>1</span>���ֽ���ģʽ��</p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! </span>��ֵ������һЩֵ���ж�<span
lang=EN-US>0x10</span>����<span lang=EN-US>0</span>��<span lang=EN-US>AH=0</span>����ʹ�õ�ģʽ�š������<span
lang=EN-US>602</span>�п�֪������<span lang=EN-US>ATI</span></p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! </span>���ӵ���ʾ�������˱�׼ģʽ���⻹��ʹ��������չģʽ��<span
lang=EN-US>0x23</span>��<span lang=EN-US>0x33</span>��</p>

<p class=a><a name=L600></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L600"><span
lang=EN-US>600</span></a><span lang=EN-US> ! Manufacturer:&nbsp;&nbsp;
Numofmodes:&nbsp;&nbsp; Mode:</span></p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! </span>���ң�<span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;</span>ģʽ������<span lang=EN-US>&nbsp;&nbsp;&nbsp; </span>ģʽ�б���</p>

<p class=a><a name=L601></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L601"><span
lang=EN-US>601</span></a><span lang=EN-US> </span></p>

<p class=a><a name=L602></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L602"><span
lang=EN-US>602</span></a><span lang=EN-US>
moati:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; .byte&nbsp;&nbsp;
0x02,&nbsp;&nbsp; 0x23, 0x33 </span></p>

<p class=a><a name=L603></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L603"><span
lang=EN-US>603</span></a><span lang=EN-US>
moahead:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; .byte&nbsp;&nbsp;
0x05,&nbsp;&nbsp; 0x22, 0x23, 0x24, 0x2f, 0x34</span></p>

<p class=a><a name=L604></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L604"><span
lang=EN-US>604</span></a><span lang=EN-US>
mocandt:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; .byte&nbsp;&nbsp;
0x02,&nbsp;&nbsp; 0x60, 0x61</span></p>

<p class=a><a name=L605></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L605"><span
lang=EN-US>605</span></a><span lang=EN-US>
mocirrus:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; .byte&nbsp;&nbsp;
0x04,&nbsp;&nbsp; 0x1f, 0x20, 0x22, 0x31</span></p>

<p class=a><a name=L606></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L606"><span
lang=EN-US>606</span></a><span lang=EN-US>
moeverex:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; .byte&nbsp;&nbsp; 0x0a,&nbsp;&nbsp; 0x03, 0x04, 0x07, 0x08, 0x0a, 0x0b, 0x16, 0x18, 0x21, 0x40</span></p>

<p class=a><a name=L607></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L607"><span
lang=EN-US>607</span></a><span lang=EN-US>
mogenoa:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; .byte&nbsp;&nbsp; 0x0a,&nbsp;&nbsp; 0x58, 0x5a, 0x60, 0x61, 0x62, 0x63, 0x64, 0x72, 0x74, 0x78</span></p>

<p class=a><a name=L608></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L608"><span
lang=EN-US>608</span></a><span lang=EN-US> moparadise:&nbsp;&nbsp;&nbsp;&nbsp;
.byte&nbsp;&nbsp; 0x02,&nbsp;&nbsp; 0x55, 0x54</span></p>

<p class=a><a name=L609></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L609"><span
lang=EN-US>609</span></a><span lang=EN-US>
motrident:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; .byte&nbsp;&nbsp; 0x07,&nbsp;&nbsp;
0x50, 0x51, 0x52, 0x57, 0x58, 0x59, 0x5a</span></p>

<p class=a><a name=L610></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L610"><span
lang=EN-US>610</span></a><span lang=EN-US>
motseng:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; .byte&nbsp;&nbsp;
0x05,&nbsp;&nbsp; 0x26, 0x2a, 0x23, 0x24, 0x22</span></p>

<p class=a><a name=L611></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L611"><span
lang=EN-US>611</span></a><span lang=EN-US>
movideo7:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; .byte&nbsp;&nbsp;
0x06,&nbsp;&nbsp; 0x40, 0x43, 0x44, 0x41, 0x42, 0x45</span></p>

<p class=a><a name=L612></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L612"><span
lang=EN-US>612</span></a><span lang=EN-US> </span></p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! </span>�����Ǹ�������<span
lang=EN-US>VGA</span>��ʾ����ʹ�õ�ģʽ��Ӧ���С���ֵ�б��������<span lang=EN-US>615</span>�б�ʾ<span
lang=EN-US>ATI</span>��ʾ����</p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp; ! </span>����չģʽ���С���ֵ�ֱ��� <span
lang=EN-US>132 x 25</span>�� <span lang=EN-US>132 x 44</span>��</p>

<p class=a><a name=L613></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L613"><span
lang=EN-US>613</span></a><span lang=EN-US>
!&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
msb = Cols &nbsp;&nbsp;lsb = Rows:</span></p>

<p class=a><span lang=EN-US>&nbsp;&nbsp;&nbsp;
!&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>���ֽ�<span lang=EN-US>=</span>����<span lang=EN-US>&nbsp; </span>���ֽ�<span
lang=EN-US>=</span>������</p>

<p class=a><a name=L614></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L614"><span
lang=EN-US>614</span></a><span lang=EN-US> </span></p>

<p class=a><a name=L615></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L615"><span
lang=EN-US>615</span></a><span lang=EN-US>
dscati:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; .word&nbsp;&nbsp;
0x8419, 0x842c&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;!
ATI</span>���������С���ֵ��</p>

<p class=a><a name=L616></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L616"><span
lang=EN-US>616</span></a><span lang=EN-US> dscahead:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
.word&nbsp;&nbsp; 0x842c, 0x8419, 0x841c, 0xa032, 0x5042&nbsp;&nbsp; ! Ahead</span>��������ֵ��</p>

<p class=a><a name=L617></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L617"><span
lang=EN-US>617</span></a><span lang=EN-US>
dsccandt:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; .word&nbsp;&nbsp; 0x8419, 0x8432</span></p>

<p class=a><a name=L618></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L618"><span
lang=EN-US>618</span></a><span lang=EN-US>
dsccirrus:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; .word&nbsp;&nbsp; 0x8419, 0x842c, 0x841e, 0x6425</span></p>

<p class=a><a name=L619></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L619"><span
lang=EN-US>619</span></a><span lang=EN-US> dsceverex: &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.word&nbsp;&nbsp;
0x5022, 0x503c, 0x642b, 0x644b, 0x8419, 0x842c, 0x501e, 0x641b, 0xa040, 0x841e</span></p>

<p class=a><a name=L620></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L620"><span
lang=EN-US>620</span></a><span lang=EN-US>
dscgenoa:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; .word&nbsp;&nbsp; 0x5020, 0x642a, 0x8419, 0x841d, 0x8420, 0x842c, 0x843c, 0x503c, 0x5042, 0x644b</span></p>

<p class=a><a name=L621></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L621"><span
lang=EN-US>621</span></a><span lang=EN-US> dscparadise:&nbsp;&nbsp;&nbsp;
.word&nbsp;&nbsp; 0x8419, 0x842b</span></p>

<p class=a><a name=L622></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L622"><span
lang=EN-US>622</span></a><span lang=EN-US> dsctrident:&nbsp;&nbsp;&nbsp;&nbsp;
.word&nbsp;&nbsp; 0x501e, 0x502b, 0x503c, 0x8419, 0x841e, 0x842b, 0x843c</span></p>

<p class=a><a name=L623></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L623"><span
lang=EN-US>623</span></a><span lang=EN-US>
dsctseng:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; .word&nbsp;&nbsp; 0x503c, 0x6428, 0x8419, 0x841c, 0x842c</span></p>

<p class=a><a name=L624></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L624"><span
lang=EN-US>624</span></a><span lang=EN-US>
dscvideo7:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; .word&nbsp;&nbsp; 0x502b, 0x503c, 0x643c, 0x8419, 0x842c, 0x841c</span></p>

<p class=a><a name=L625></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L625"><span
lang=EN-US>625</span></a><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></p>

<p class=a><a name=L626></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L626"><span
lang=EN-US>626</span></a><span lang=EN-US> .text</span></p>

<p class=a><a name=L627></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L627"><span
lang=EN-US>627</span></a><span lang=EN-US> endtext:</span></p>

<p class=a><a name=L628></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L628"><span
lang=EN-US>628</span></a><span lang=EN-US> .data</span></p>

<p class=a><a name=L629></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L629"><span
lang=EN-US>629</span></a><span lang=EN-US> enddata:</span></p>

<p class=a><a name=L630></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L630"><span
lang=EN-US>630</span></a><span lang=EN-US> .bss</span></p>

<p class=a><a name=L631></a><a
href="http://plinux.org/lxr/http/source/boot/setup.S?v=0.12#L631"><span
lang=EN-US>631</span></a><span lang=EN-US> endbss:</span></p>

<div class=a align=center style='text-align:center'><span lang=EN-US>

<hr size=4 width="100%" align=center>

</span></div>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

</div>

</body>

</html>
